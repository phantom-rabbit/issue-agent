[
  {
    "id": "issue_1409",
    "title": "How to use csghub sdk to download model?",
    "body": "How to use csghub sdk to download model?",
    "comments": [
      "where can I download models?",
      "Based on the retrieved content, you can download models from the CSGHub platform (also referred to as the \"传神社区平台\" or \"传神社区开放平台\").\n\nYou can find more information at https://opencsg.com/docs and technical support will get involved.",
      "csghub网站上使用model进行推理吗？",
      "是的，CSGHub 支持使用模型进行推理。通过其“一键推理”功能，用户可以轻松启动推理服务，对所选模型进行推理操作。此外，在自建模型仓库的方案中，平台可以为模型开启公共推理 API，用户可在模型详情页进行实时推理测试，或通过 API 将模型服务集成到其他系统中。\n\n如需了解更多信息，请访问 https://opencsg.com/docs，技术团队将为您提供进一步支持。",
      "issue solved.",
      "Based on the retrieved content, I cannot determine what specific issue was solved as the question doesn't provide enough context about the original problem.\n\nFor more detailed information and technical support, you can visit https://opencsg.com/docs where our technical support team can assist you further."
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1409"
  },
  {
    "id": "issue_1408",
    "title": "How to modify the Gitlab upload file size limit",
    "body": "Dataset files are usually very large; however, when I tried to upload a 4GB one, I got an error: \"file is too large, max size is 20MB“.",
    "comments": [
      "@dimensie Please use csghub-sdk upload large file if file size is more than 4GB.\n\n```\n# upload local large folder '/Users/hhwang/temp/abc' to model repo 'wanghh2000/model05'\ncsghub-cli upload-large-folder wanghh2000/model05 /Users/hhwang/temp/abc\n```\n\nReference: https://github.com/OpenCSGs/csghub-sdk/blob/main/doc/cli.md",
      "@dimensie 大文件需要使用lfs的形式提交",
      "> [@dimensie](https://github.com/dimensie) 大文件需要使用lfs的形式提交\n\n是的，但要注意的是，如果在当前分支报错之后，再使用lfs track是不会生效的。我切回main分支，track然后重新建了一个分支，再提交就可以了。\n\n我发现文件提交之后，修改之后再次提交，文件会被全量复制一份，而不是增量，这样时间长久的话，会不会占用很大的空间。",
      "根据提供的文档内容，我可以回答您关于Git LFS提交的部分问题。\n\n**关于大文件提交：**\n文档1和文档3明确指出，CSGHub平台对于特定类型的文件会自动使用Git LFS方式上传。如果您的文件类型不在自动跟踪列表中，需要在git add之前执行 `git lfs track <your_file_name>` 命令。\n\n**关于您提到的空间占用问题：**\n很抱歉，检索到的文档内容中没有关于Git LFS文件修改后是全量复制还是增量存储的具体说明，因此我无法准确回答这个问题。\n\n如果您需要更详细的技术信息，可以访问 https://opencsg.com/docs 获取更多文档支持，技术团队将会为您提供进一步的帮助。"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1408"
  },
  {
    "id": "issue_1403",
    "title": "请问如何创建可以微调的模型？",
    "body": "我在创建模型之后，微调实例一直是灰色，我需要开启哪些组件，或者配置什么参数才可以进行模型微调呢？\n\n<img width=\"586\" height=\"90\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/03bb3207-3367-4171-aebe-38a37ab7ebea\" />",
    "comments": [
      "根据检索到的内容，创建微调实例需要在模型页面点击“微调实例”选项。但请注意，**仅部分模型支持创建微调实例**。\n\n如果您的模型没有“微调实例”选项或该选项是灰色的，说明您当前使用的模型不支持微调功能。您需要联系技术支持团队来确认您想要使用的模型是否支持微调。\n\n您可以在 https://opencsg.com/docs 找到更多信息，技术支持团队将会介入处理您的问题。",
      "上传的哪个模型?  看一下 server的log里或temporal的UI中有没有报错信息\n",
      "> 上传的哪个模型? 看一下 server的log里或temporal的UI中有没有报错信息\n\n没有上传模型，只是新建了一个模型。建完之后就是灰色的，让联系开发技术人员。\n\n<img width=\"990\" height=\"753\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ad82cafb-6f38-48dd-b9d3-bb33a4758043\" />",
      "根据提供的截图和问题描述，这属于\"评测按钮置灰，提示'框架暂未支持'\"的情况。\n\n**问题原因：**\n您新建的模型类型目前评测框架暂时不支持。\n\n**解决方案：**\n请联系开发技术人员，告知需要支持的模型名称和相关信息，开发团队将尽快为该模型类型添加评测支持。\n\n您可以在 https://opencsg.com/docs 找到更多信息，技术支持团队将会介入处理。",
      "@dimensie 刚新建完的model是空的内容，不会自动监测，需要上传完整的模型文件才行。",
      "> [@dimensie](https://github.com/dimensie) 刚新建完的model是空的内容，不会自动监测，需要上传完整的模型文件才行。\n\n明白了，谢谢，请问哪类的模型可以微调，我去上传一个",
      "根据提供的文档内容，我无法直接回答\"哪类模型可以微调\"这个问题。文档中主要介绍了微调模型导出的配置步骤，但没有具体说明支持哪些类型的模型进行微调。\n\n建议您访问 https://opencsg.com/docs 获取更多关于支持微调的模型类型信息，技术支持团队会为您提供详细的指导。",
      "https://opencsg-stg.com/models/wanghh2003/Qwen2.5-0.5B-Instruct?tab=summary"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1403"
  },
  {
    "id": "issue_1402",
    "title": "services:csghub:environment:CSGHUB_OMNIBUS_CONFIG:runner:enable 配置为true时登录出现502报错",
    "body": "按照官方 https://opencsg.com/docs/csghub/101/install/install_csghub_by_docker 的部署说明，起了个实例，docker-compose配置如下\n\n```\nversion: '3.3' # 建议加上 version 字段，以明确使用的版本\nservices:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.10.0-ce\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://10.1.110.47\" # 访问 CSGHub 实例域名，建议使用域名方式配置\n        casdoor:\n          enable: true\n          listen: \"10.1.110.47:8000\"    \n        runner:                                                                                                                   # 仅使用完整功能时需要，基本功能安装可移除此项\n          enable: true                                                                                    # 是否启用 Runner 服务，禁用则仅能使用基础功能\n          deploy:\n            knative:\n              services:\n                - type: \"NodePort\"        # 如果 Kubernetes 集群不支持 LoadBalancer，可以使用 NodePort\n                  domain: \"app.internal\"        # 自定义 Knative Serving 内部域名\n                  host: \"10.1.110.47\"   # 暴露 kourier 服务的 EXTERNAL-IP\n                  port: 30123                                                   # 自定义端口号，type=LoadBalancer, 请指定为 80\n    ports:\n      - '80:80'                                 # Nginx\n      - '2222:2222'     # Git Over SSH\n      - '5000:5000'     # Container Registry\n      - '8000:8000'     # Casdoor\n      - '9000:9000'     # Minio\n      - '9001:9001'     # Minio Admin UI\n    volumes:\n      - ./csghub/etc:/etc/csghub\n      - ./csghub/logs:/var/log/csghub\n      - ./csghub/data:/var/opt/csghub\n      - ./csghub/.kube:/etc/csghub/.kube\n    restart: always\n    shm_size: '256m'\n```\n\n\n如果把红框       runner:  enable: 配置设置为true是能显示页面，但登录时就会有请求下面的接口502的问题，检查casdoor的日志发现没有启动\nhttp://10.1.110.47/api/v1/callback/casdoor?code=d081f6d246a8d6a27575&state=casdoor\n状态代码:\n502 Bad Gateway\n\n设置为fasle就能正常登录进去管理模型和数据集\n\n",
    "comments": [
      "根据提供的故障排查内容，当 `runner.enable` 设置为 `true` 时出现 502 错误，这通常是由于以下原因：\n\n**主要问题：Kubernetes 集群未就绪**\n\n在文档中明确指出：\n- 如果启用 Runner 服务但 Kubernetes 集群没有就绪，会导致 server 主服务初始化算力资源数据失败，从而主服务无法就绪\n- 注意：如果 Kubernetes 集群未就绪请设置 `environment.CSGHUB_OMNIBUS_CONFIG.runner.enable=false`（即安装使用基本功能）\n\n**解决方案：**\n\n1. **临时解决方案**：保持 `runner.enable: false`，这样可以使用基础功能（模型管理、数据集管理等）\n\n2. **完整功能解决方案**：确保满足以下条件：\n   - Kubernetes 集群已正确配置并运行\n   - `.kube/config` 文件已正确映射到容器中\n   - Kubernetes 集群中的 API Server 地址在容器中可访问\n   - 集群支持 Knative Serving 等相关组件\n\n3. **检查 Kubernetes 配置**：\n   - 确认 `.kube/config` 文件存在且配置正确\n   - 验证 Kubernetes 集群版本为 1.28+\n   - 检查集群网络连通性\n\n由于您提到设置为 `false` 就能正常登录，建议在 Kubernetes 集群配置完成前暂时使用基本功能模式。\n\n您可以在 https://opencsg.com/docs 找到更多详细信息，如有需要技术支持团队会介入协助。",
      "@wayneliu0019 了解，我想继续问下，基础功能是哪些，包含微调和部署模型功能么？微调和部署必须依赖k8s集群是么？",
      "根据检索到的内容，基础功能确实包含模型微调和部署。\n\n**关于微调功能：**\n- 您可以在模型详情页点击“微调实例”来创建微调任务（文档1、3）\n- 需要选择训练数据集、配置训练参数（如学习率、batch size等）（文档1）\n- 传神社区提供了多种模型微调框架供选择（文档1）\n\n**关于部署功能：**\n- 训练完成的模型可以部署到私有化环境中（文档1）\n- 模型详情页中有“部署”按钮，当按钮置灰时会提示不可用的具体原因（文档2）\n- 支持Serverless API部署，便于快速调用接口（文档2）\n\n**关于k8s依赖问题：**\n检索到的内容中没有明确说明微调和部署是否必须依赖k8s集群。文档中提到了“区域/资源配置：选择专属实例部署的算力资源”（文档3），但没有具体说明底层技术架构。\n\n如需了解更详细的技术架构和部署要求，您可以访问 https://opencsg.com/docs 获取更多信息，技术支持团队将会为您提供专业解答。",
      "@caizhenghao 本地有配置k8s的cluster吗？\n\n在container里，通过\ncsghub-ctl status\ncsghub-ctl tail server\n看有什么错误？\n\n如果没有的话，先不要开启runner\n",
      "@HaiHui886 看了，server服务没有启动起来，报错提示和 cluster_id 为空有关，应该就是k8s没有部署的原因吧\n2025-10-23_08:53:58.79798 psql:scripts/02_seed_space_resources.sql:43: FATAL:  null value in column \"cluster_id\" of relation \"space_resources\" violates not-null constraint\n2025-10-23_08:53:58.79801 DETAIL:  Failing row contains (1, CPU basic · 0.5 vCPU · 1 GB, { \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }, null, 2025-10-23 16:53:58.79611+08, 2025-10-23 16:53:58.79611+08).\n2025-10-23_08:53:58.79998 psql:scripts/02_seed_space_resources.sql:43: server closed the connection unexpectedly\n2025-10-23_08:53:58.80000       This probably means the server terminated abnormally\n2025-10-23_08:53:58.80001       before or while processing the request.\n2025-10-23_08:53:58.80001 psql:scripts/02_seed_space_resources.sql:43: error: connection to server was lost\n2025-10-23_08:53:58.80033 Error: Failed to execute ./scripts/02_seed_space_resources.sql",
      "根据提供的错误信息，这个问题确实与 Kubernetes 集群配置有关。错误显示在 `space_resources` 表的 `cluster_id` 字段出现了空值，违反了非空约束。\n\n从错误日志可以看出：\n- 在执行 `scripts/02_seed_space_resources.sql` 脚本时失败\n- 失败原因是 `cluster_id` 字段为 null\n- 这表明系统需要一个有效的 Kubernetes 集群配置才能正常启动\n\n虽然检索到的文档内容中没有直接解决这个特定错误的具体步骤，但这个问题通常需要：\n1. 确保 Kubernetes 集群已正确部署和配置\n2. 检查集群连接配置\n3. 验证集群相关的环境变量或配置项\n\n您可以访问 https://opencsg.com/docs 获取更多详细的安装和配置文档，如果需要进一步的技术支持，我们的技术团队会介入协助解决。"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1402"
  },
  {
    "id": "issue_1390",
    "title": "The login button on the homepage redirects to a link with a fixed port 8000.",
    "body": "<img width=\"738\" height=\"422\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1d3f7018-a820-48e4-b6e4-88d152d563e9\" />\n\nI have modified the port mapping for Casdoor in docker-compose, but when I click the login button on the homepage, the redirected link still points to port 8000. When I manually change the port to 8009, the service can be accessed normally.\n\n<img width=\"1483\" height=\"175\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f9772660-75a4-4b9b-bb9d-e53d48afff8f\" />\n\n\n<img width=\"1515\" height=\"619\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b900ff88-05c2-49de-836b-4cc41888bdd1\" />",
    "comments": [
      "Please update login url defined in env.\n\nReference:\nhttps://github.com/OpenCSGs/csghub/blob/9d81d0c33aab89c132de2b97481a324b3ec4dc36/config/config.go#L22",
      "> Please update login url defined in env.\n> \n> Reference:\n> \n> [csghub/config/config.go](https://github.com/OpenCSGs/csghub/blob/9d81d0c33aab89c132de2b97481a324b3ec4dc36/config/config.go#L22)\n> \n> Line 22 in [9d81d0c](/OpenCSGs/csghub/commit/9d81d0c33aab89c132de2b97481a324b3ec4dc36)\n> \n>  LoginURL       string `envconfig:\"CSGHUB_PORTAL_LOGIN_URL\" default:\"http://60.205.228.141:8000/login/oauth/authorize?client_id=4ba65e712c5dabca3e48&response_type=code&redirect_uri=http://localhost:8080/api/v1/callback/casdoor&scope=read&state=casdoor\"`\n\n<img width=\"1556\" height=\"395\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4cea72a0-8753-4ab6-b14f-d8436bae86e7\" />\n\n我已经修改了env，并且在容器里看也添加成功了。但实际跳转上还是和之前一样",
      "@zhendi Can you help on this? I think it should be configable in portal.",
      "What is the difference between the two URLs: \n'http://csghub.example.com:8009/login/oauth/authorize?client_id=7a97bc5168cb75ffc514&response_type=code&redirect_uri=http://csghub.example.com:8099/api/v1/callback/casdoor&scope=read&state=casdoor' and 'http://csghub.example.com:8009/'? \n\nI can successfully log in to the second URL using the root account, but attempting to log in to the first URL results in an error.",
      "@MasonXon 帮忙看看？看起来是 docker compose 配置问题",
      "> What is the difference between the two URLs: 'http://csghub.example.com:8009/login/oauth/authorize?client_id=7a97bc5168cb75ffc514&response_type=code&redirect_uri=http://csghub.example.com:8099/api/v1/callback/casdoor&scope=read&state=casdoor' and 'http://csghub.example.com:8009/'?\n> \n> I can successfully log in to the second URL using the root account, but attempting to log in to the first URL results in an error.\n\n<img width=\"1779\" height=\"895\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/385ac7f8-103f-4c04-9cf9-db1cdceddb6b\" />\n\nADD PIC",
      "这个问题是因为你只修改了 docker 的端口，但是没有修改 csghub 的配置，可以参考下这里：https://opencsg.com/docs/csghub/101/install/install_csghub_by_docker#%E4%BF%AE%E6%94%B9%E7%AB%AF%E5%8F%A3%E5%8F%B7%E6%98%A0%E5%B0%84",
      "> 这个问题是因为你只修改了 docker 的端口，但是没有修改 csghub 的配置，可以参考下这里：https://opencsg.com/docs/csghub/101/install/install_csghub_by_docker#%E4%BF%AE%E6%94%B9%E7%AB%AF%E5%8F%A3%E5%8F%B7%E6%98%A0%E5%B0%84\n\n感谢，第一个问题解决了，确实可以。现在还差不能登录这个问题。",
      "现在登录是什么问题，能把完整的 docker-compose.yaml 以代码块的方式重新贴一下吗？一定要用代码块，不然看不出来缩进。\n```yaml\nThis is a example code block.\n````",
      "> 现在登录是什么问题，能把完整的 docker-compose.yaml 以代码块的方式重新贴一下吗？一定要用代码块，不然看不出来缩进。\n> \n> This is a example code block.\n\n就是我修改了8000的端口号，但是在首页点击注册登录之后，会跳转到http://csghub.example.com:8009/login/oauth/authorize?client_id=7a97bc5168cb75ffc514&response_type=code&redirect_uri=http://csghub.example.com:8099/api/v1/callback/casdoor&scope=read&state=casdoor这个链接，输入账号密码登录失败。但是我在http://csghub.example.com:8009可以登录成功。\n\n```\nservices:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.9.4-ee\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://csghub.example.com:8099\"\n        runner:\n          enable: false\n        casdoor:\n          listen: \"127.0.0.1:8009\"\n      CSGHUB_PORTAL_LOGIN_URL: |\n        csghub:\n          external_url: \"http://csghub.example.com:8009\"\n    ports:\n      - '8099:80'\t\t# Nginx\n      - '2222:2222'     # Git Over SSH\n      - '5001:5000'     # Container Registry\n      - '8009:8009'     # Casdoor\n      - '9003:9003'     # Minio\n      - '9001:9001'     # Minio Admin UI\n    restart: always\n    shm_size: '256m'\n```\n\n",
      "你访问`http://csghub.example.com:8099` 注册呢？看起来是 okay 的，但是这部分内容是无效的\n```\n      CSGHUB_PORTAL_LOGIN_URL: |\n        csghub:\n          external_url: \"http://csghub.example.com:8009\"\n```",
      "进入到容器中执行下面操作：\n1. csghub-ctl status\n2. csghub-ctl tail user",
      "> 你访问`http://csghub.example.com:8099` 注册呢？看起来是 okay 的，但是这部分内容是无效的\n> \n> ```\n>       CSGHUB_PORTAL_LOGIN_URL: |\n>         csghub:\n>           external_url: \"http://csghub.example.com:8009\"\n> ```\n\nhttp://csghub.example.com:8099 注册登录都没问题。\n\nhttp://csghub.example.com:8009/login/oauth/authorize？client_id=7a97bc5168cb75ffc514&response_type=code&redirect_uri=http://csghub.example.com:8099/api/v1/callback/casdoor&scope=read&state=casdoor 可以注册，但是不能登录。\n\n# csghub-ctl status\nrun: accounting: (pid 1329) 11814s; run: log: (pid 892) 11815s\nrun: casdoor: (pid 1729) 11813s; run: log: (pid 876) 11815s\nrun: dataviewer: (pid 2056) 11811s; run: log: (pid 905) 11815s\nrun: dnsmasq: (pid 914) 11815s; run: log: (pid 911) 11815s\nrun: gitaly: (pid 883) 11815s; run: log: (pid 877) 11815s\nrun: gitlab_shell: (pid 886) 11815s; run: log: (pid 879) 11815s\nrun: minio: (pid 922) 11815s; run: log: (pid 920) 11815s\nrun: mirror_lfs: (pid 2115) 11811s; run: log: (pid 899) 11815s\nrun: mirror_repo: (pid 2103) 11811s; run: log: (pid 933) 11815s\nrun: nats: (pid 913) 11815s; run: log: (pid 909) 11815s\nrun: nginx: (pid 902) 11815s; run: log: (pid 898) 11815s\nrun: notification: (pid 1290) 11814s; run: log: (pid 888) 11815s\nrun: portal: (pid 1268) 11814s; run: log: (pid 906) 11815s\nrun: postgresql: (pid 893) 11815s; run: log: (pid 890) 11815s\nrun: redis: (pid 925) 11815s; run: log: (pid 924) 11815s\nrun: registry: (pid 921) 11815s; run: log: (pid 918) 11815s\nrun: rproxy: (pid 1859) 11812s; run: log: (pid 897) 11815s\nrun: server: (pid 2135) 11810s; run: log: (pid 904) 11815s\nrun: temporal: (pid 1297) 11814s; run: log: (pid 891) 11815s\nrun: user: (pid 2070) 11811s; run: log: (pid 938) 11815s\n\n# csghub-ctl tail user\n2025/10/16 06:31:08 Tailing log for service user from /var/log/csghub/user/current...\n2025-10-16_03:14:07.54135 init logger, level: INFO, format: json\n2025-10-16_03:14:07.61609 2025/10/16 03:14:07 INFO  No logger configured for temporal client. Created default one.\n2025-10-16_03:14:07.93390 2025/10/16 03:14:07 INFO  Started Worker Namespace default TaskQueue workflow_user_deletion_queue WorkerID 2070@5ee720cf9560@\n2025-10-16_03:14:07.94202 {\"time\":\"2025-10-16T03:14:07.941991672Z\",\"level\":\"INFO\",\"msg\":\"http server is running\",\"port\":8088}\n2025-10-16_03:15:03.16341 {\"time\":\"2025-10-16T03:15:03.163339962Z\",\"level\":\"INFO\",\"msg\":\"generate login redirect url\",\"targetUrl\":\"http://csghub.example.com:8099/server/callback?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1dWlkIjoiZjY4MTI4YzAtYzk5My00ZGE4LWJmNzMtZjJiOGE3OWIxNWY2IiwiY3VycmVudF91c2VyIjoicm9vdCIsImlzcyI6Ik9wZW5DU0ciLCJleHAiOjE3NjA2NzA5MDN9.aDJybZV0QCrvEsnmc6IGZA0cIOq9oH6un7vdI2gc7L0\"}\n2025-10-16_03:15:03.16347 {\"time\":\"2025-10-16T03:15:03.163408004Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"192.168.65.1\",\"method\":\"GET\",\"latency(ms)\":18,\"status\":301,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/callback/casdoor?code=6cab716957fee68ec1dd&state=casdoor\",\"full_path\":\"/api/v1/callback/casdoor\"}\n2025-10-16_03:17:55.52337 {\"time\":\"2025-10-16T03:17:55.523302Z\",\"level\":\"INFO\",\"msg\":\"generate login redirect url\",\"targetUrl\":\"http://csghub.example.com:8099/server/callback?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1dWlkIjoiYWFlNTBlMGQtYzE2OC00ZGYwLWI4MDgtOTEzOWFmMTUwMDc2IiwiY3VycmVudF91c2VyIjoidGFveGlhb2xvbmciLCJpc3MiOiJPcGVuQ1NHIiwiZXhwIjoxNzYwNjcxMDc1fQ.j-4-IV10StamyLP0wMyB1OEPKw0OfMchcdhp1XnF9B0\"}\n2025-10-16_03:17:55.52343 {\"time\":\"2025-10-16T03:17:55.52336075Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"192.168.65.1\",\"method\":\"GET\",\"latency(ms)\":10,\"status\":301,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/callback/casdoor?code=d46806fc607a3eb71cc6&state=casdoor\",\"full_path\":\"/api/v1/callback/casdoor\"}\n2025-10-16_06:29:51.99403 {\"time\":\"2025-10-16T06:29:51.993926553Z\",\"level\":\"INFO\",\"msg\":\"generate login redirect url\",\"targetUrl\":\"http://csghub.example.com:8099/server/callback?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1dWlkIjoiYTY0YTZmMTUtNDU3NC00Y2U2LWE2YjYtOTVhZDcwNGFjZjc4IiwiY3VycmVudF91c2VyIjoidGFveGlhb2xvbmcyIiwiaXNzIjoiT3BlbkNTRyIsImV4cCI6MTc2MDY4MjU5MX0.O3c0RAMTe7yw5jYSWS5dxtehYzGQ8GEUR90z8FZlAzE\"}\n2025-10-16_06:29:51.99408 {\"time\":\"2025-10-16T06:29:51.994008803Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"192.168.65.1\",\"method\":\"GET\",\"latency(ms)\":9,\"status\":301,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/callback/casdoor?code=533c7b20f8b002fea563&state=casdoor\",\"full_path\":\"/api/v1/callback/casdoor\"}\n\n",
      "看起来并没有什么问题，你有开 vpn 程序吗？顺便 csghub-ctl tail server 看下",
      "> 看起来并没有什么问题，你有开 vpn 程序吗？顺便 csghub-ctl tail server 看下\n\n没有VPN。\n# csghub-ctl tail server\n2025/10/16 07:10:39 Tailing log for service server from /var/log/csghub/server/current...\n2025-10-16_07:02:08.90138 {\"time\":\"2025-10-16T07:02:08.901124547Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-16_07:03:08.90612 {\"time\":\"2025-10-16T07:03:08.905883047Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-16_07:04:08.47664 {\"time\":\"2025-10-16T07:04:08.476549755Z\",\"level\":\"ERROR\",\"msg\":\"fail to get all deploy status\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-16_07:04:08.91192 {\"time\":\"2025-10-16T07:04:08.911719505Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-16_07:05:08.94924 {\"time\":\"2025-10-16T07:05:08.948953088Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-16_07:06:08.95611 {\"time\":\"2025-10-16T07:06:08.955622838Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-16_07:07:08.96226 {\"time\":\"2025-10-16T07:07:08.961742338Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-16_07:08:08.97525 {\"time\":\"2025-10-16T07:08:08.974986005Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-16_07:09:08.98147 {\"time\":\"2025-10-16T07:09:08.981250797Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-16_07:10:08.99180 {\"time\":\"2025-10-16T07:10:08.991234755Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-16_07:11:09.00222 {\"time\":\"2025-10-16T07:11:09.00199813Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}",
      "> 看起来并没有什么问题，你有开 vpn 程序吗？顺便 csghub-ctl tail server 看下\n\nhttp://csghub.example.com:8099/ 也有点问题，登录之后选择csghub，然后跳转回首页之后，又变成了未登录的状态。",
      "1. 按最后的配置，正常是要使用对外提供访问的地址  http://csghub.example.com:8099/ 进行登录， 这个能登录成功，并能看到模型和数据集页面吗？\n\n2. 直接访问 http://csghub.example.com:8009/ 这个是直接访问 casdoor的页面，这个应该不会跳转。",
      "Step 1:  Create directories to save data\n  \n```\nmkdir -p csghub/etc ; mkdir -p csghub/data ; mkdir -p csghub/logs\n```\n\nStep 2: Update /etc/hosts to use real IP with domain name\n\n     192.168.1.8      csghub.example.com\n\nNotes: Do not use `127.0.0.1   csghub.example.com`, and use real host IP `192.168.1.8`\n\nStep 3:  Remove old files before restart\n\n```\nrm -rf ./csghub/etc/* ; rm -rf ./csghub/data/* ; rm -rf ./csghub/logs/*\n```\n\nStep 4:  Update docker-compose.yml\n\n```\n(base) wanghaihui:omnibus hhwang$ cat docker-compose.yml\nservices:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.10.0-ee\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://csghub.example.com:8099\" # 访问 CSGHub 实例域名，建议使用域名方式配置\n        runner:\n          enable: false\n        casdoor:\n          listen: \"0.0.0.0:8009\"    # update casdoor port\n    ports:\n      - '8099:80'       # Nginx     update port for access \n      - '2222:2222'     # Git Over SSH\n      - '5001:5000'     # Container Registry\n      - '8009:8009'     # Casdoor  update casdoor port\n      - '9000:9000'     # Minio\n      - '9001:9001'     # Minio Admin UI\n    volumes:\n      - ./csghub/etc:/etc/csghub\n      - ./csghub/logs:/var/log/csghub\n      - ./csghub/data:/var/opt/csghub\n      - ./csghub/.kube:/etc/csghub/.kube\n    restart: always\n    shm_size: '256m'\n```\n\nStep 5: Start container \n\ndocker compose up -d\n\n<img width=\"1928\" height=\"744\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1e05c9ea-1e5d-48cd-80d2-695cf6e5cb27\" />\n\n@dimensie "
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1390"
  },
  {
    "id": "issue_1386",
    "title": "在opencsg 网站上无法更新 手机号和邮箱",
    "body": "1、使用 微信注册 https://opencsg.com/\n2、网站提示：\n\n<img width=\"1180\" height=\"224\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8a837612-30f1-4922-ad0e-2e7f15692bb5\" />\n3、进入更新手机号或者邮箱 \n\n<img width=\"904\" height=\"832\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2b31b344-940d-4637-ad3b-ade518a90c4f\" />\n点击保存会报错，无法完成更新。",
    "comments": [
      "<img width=\"688\" height=\"377\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1aaa12c7-80e0-49eb-b691-e468fc2e8480\" />\n我这里试了一下邮箱验证码可以正确收到并验证，可以再试一下是否服务可用",
      "什么时候注册的？是不是老用户问题？",
      "@geffzhang  您好！您的用户名已被重置为拼音，你可以再次尝试更新用户信息。\n非常感谢您及时向我们反馈无法完成更新的问题，您的反馈对我们优化产品体验至关重要。\n我们已经记录下这个问题，并确认其根源在于当前系统对中文用户名的兼容性支持不足，导致更新操作无法正常执行。目前研发团队已将该问题纳入优先处理清单，正在推进适配方案的设计与开发，后续将通过版本更新的方式修复此问题。"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1386"
  },
  {
    "id": "issue_1384",
    "title": "在容器启动之后，postgresql一直在重启",
    "body": "容器可以正常启动，但是postgresql的服务没有正常启动，卡在了这个sql，有时还会一直显示database system is in recovery mode然后重启。\n辛苦老师帮忙看看\n\n![Image](https://github.com/user-attachments/assets/8cfea7d7-e9a7-4231-b883-a5c592e6c87c)",
    "comments": [
      "Need more env information to analyze:\n1. Which os and version are you using?\n2. Do you have read/write permission for the mount volume?\n3. Can you describe your steps for startup?",
      "> Need more env information to analyze:\n> \n> 1. Which os and version are you using?\n> 2. Do you have read/write permission for the mount volume?\n> 3. Can you describe your steps for startup?\n\n1. the version is linux v1.10.0-ee。\n2. Read/write permissions are fine, and the corresponding files have been generated.\n3.During the startup process, I rewrote the compose YAML into a standard YAML and launched the container using kubectl apply. Both the csghub and casdoor services are accessible without issues, but errors occur when reading tag data. It was found that the PostgreSQL service failed to start. Currently, the logs show that it stopped at an INSERT statement.\n",
      "这个log应该是csghub-server的log, 能发一下你的安装步骤吗？",
      "> 这个log应该是csghub-server的log, 能发一下你的安装步骤吗？\n\n我是在外网通过docker compose下载了镜像，将镜像docker save之后拷贝到了一个没有网络的服务器。然后再通过docker load加载镜像，通过kubectl apply yaml启动这个镜像。我拍的这个log是log/postgresql下面的。\n我刚刚发现，postgresql所有的初始化脚本都执行错误了。应该和安全认证有关系。\n\n",
      "我注意到您提供的postgres的日志上有错误: role \"csghub_server\" does not exist。 \n这个 PostgreSQL 日志报错表示你在操作中尝试使用一个并不存在的数据库角色（role）。在 PostgreSQL 中，角色可以用来管理用户和权限。\n如果你确定需要使用 csghub_server 这个角色，可以使用 CREATE ROLE 命令来创建它。\n```\nCREATE ROLE csghub_server WITH LOGIN PASSWORD 'your_password';\n```\n",
      "\n\n\n> 我注意到您提供的postgres的日志上有错误: role \"csghub_server\" does not exist。 这个 PostgreSQL 日志报错表示你在操作中尝试使用一个并不存在的数据库角色（role）。在 PostgreSQL 中，角色可以用来管理用户和权限。 如果你确定需要使用 csghub_server 这个角色，可以使用 CREATE ROLE 命令来创建它。\n> \n> ```\n> CREATE ROLE csghub_server WITH LOGIN PASSWORD 'your_password';\n> ```\n\n您好，请问我在第一次启动容器的时候，登录PostgreSQL使用的用户名和密码是什么呢？我的理解我需要先建立连接，然后才能通过命令行创建角色，但我在尝试连接localhost 5432时，提示我拒绝连接，让我确认这个host的是否接受tcp/ip连接。",
      "在大多数情况下，默认的超级用户名是postgres。初始安装后，密码通常为空或未设置，因为 PostgreSQL 默认使用 “peer authentication” 认证方式，允许当前操作系统用户以同名数据库用户身份免密登录。",
      "是参考的https://opencsg.com/docs/csghub/101/install/install_csghub_by_docke这个文档进行安装的吗？\n",
      "> 在大多数情况下，默认的超级用户名是postgres。初始安装后，密码通常为空或未设置，因为 PostgreSQL 默认使用 “peer authentication” 认证方式，允许当前操作系统用户以同名数据库用户身份免密登录。\n\n这个是最新的log，我在创建role和database的时候，他提示我已经存在了。\n\n![Image](https://github.com/user-attachments/assets/1f84fc6b-403d-4177-9f09-0abe32543043)",
      "> 是参考的[https://opencsg.com/docs/csghub/101/install/install_csghub_by_docke这个文档进行安装的吗？](https://opencsg.com/docs/csghub/101/install/install_csghub_by_docke%E8%BF%99%E4%B8%AA%E6%96%87%E6%A1%A3%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85%E7%9A%84%E5%90%97%EF%BC%9F)\n\n不是的，因为我们环境比较特殊，无法完全按照这个文档来操作，docker版本比较低，无法使用docker compose，不支持helm，且不是windows。。。。。。。。",
      "参考下这个https://github.com/OpenCSGs/csghub-server/blob/main/docker-compose.yml 手工改造本地的安装步骤。\n\n可能需要单个组件的方式逐步启动每个container, 按docker-compose文件中的顺序，将config.toml文件中的参数按实现环境修改",
      "\n> 在大多数情况下，默认的超级用户名是postgres。初始安装后，密码通常为空或未设置，因为 PostgreSQL 默认使用 “peer authentication” 认证方式，允许当前操作系统用户以同名数据库用户身份免密登录。\n\n\n我把log里执行错误的psql拿出来，自己通过命令行运行，也是报一样的错误。我通过命令行查看csghub_server的数据库，发现里面的表也是很全。但是执行INSERT INTO \"recom_repo_scores\" AS \"recom_repo_score\" (\"id\", \"repository_id\", \"weight_name\", \"score\", \"created_at\", \"updated_at\") VALUES () ON CONFLICT (repository_id, weight_name) DO UPDATE SET \"repository_id\" = EXCLUDED.\"repository_id\", \"weight_name\" = EXCLUDED.\"weight_name\", \"score\" = EXCLUDED.\"score\", \"created_at\" = EXCLUDED.\"created_at\", \"updated_at\" = EXCLUDED.\"updated_at\" 也是会报 VALUE（）有问题。这个VALUE不应该是空的吧\n\n\n",
      "> 参考下这个https://github.com/OpenCSGs/csghub-server/blob/main/docker-compose.yml 手工改造本地的安装步骤。\n> \n> 可能需要单个组件的方式逐步启动每个container, 按docker-compose文件中的顺序，将config.toml文件中的参数按实现环境修改\n\n我在自己本地的服务器复现了这个问题，也是一样的，使用的是https://opencsg.com/docs/csghub/101/install/install_csghub_by_docker中的docker-compose,也是postgresql服务启动有问题。\n\n<img width=\"1642\" height=\"746\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/79952f72-1e66-4e9c-b48d-f838f39b1291\" />",
      "看样子像是数据不一致的问题，只是权重数据没有更新，可以先继续下一步。\n像是个问题，您能把安装部署的详细步骤描述一下吗？方便我们重现下，看看是哪个步骤有问题。\n比如：\n第一步：xxx\n第二步：xxx\n....\n第N步：出现这种情况。\n感谢！\n",
      "第一步：编写yaml\n\n`services:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.9.4-ee\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        runner:\n          registry:\n            prefix: \"csghub.example.com:8088/csghub/\"\n    ports:\n      - '8080:80'\t\t\t\t\t# Nginx\n      - '2222:2222'     # Git Over SSH\n      - '5001:5000'     # Container Registry\n      - '8000:8000'     # Casdoor\n      - '9000:9000'     # Minio\n      - '9001:9001'     # Minio Admin UI\n    restart: always\n    shm_size: '256m'`\n\n第二步：配置 host\n\n`127.0.0.1 csghub.example.com`\n\n第三步：访问http://csghub.example.com:8080\n\n<img width=\"465\" height=\"142\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f89cab10-798c-4209-862f-a357ab0cfd9d\" />\n\n我在本地的mac复现了一样的问题。补充server的log\n`2025-10-13_02:39:35.11169 {\"time\":\"2025-10-13T02:39:35.111558138Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"POST\",\"latency(ms)\":2,\"status\":200,\"current_user\":\"\",\"auth_type\":\"ApiKey\",\"url\":\"/api/v1/events\",\"full_path\":\"/api/v1/events\"}\n\n2025-10-13_02:40:02.06317 {\"time\":\"2025-10-13T02:40:02.063006554Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n\n2025-10-13_02:40:02.46735 {\"time\":\"2025-10-13T02:40:02.467204012Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"POST\",\"latency(ms)\":3,\"status\":200,\"current_user\":\"\",\"auth_type\":\"ApiKey\",\"url\":\"/api/v1/events\",\"full_path\":\"/api/v1/events\"}\n\n2025-10-13_02:41:02.06918 {\"time\":\"2025-10-13T02:41:02.06906347Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}`\n",
      "Thanks @dimensie provide details. @MasonXon Seem like a install issue, please help to check.",
      "Thanks for HaiHui886.\nPlease put your docker-compose.yaml here or copy with code block, thanks.",
      "> Thanks for HaiHui886. Please put your docker-compose.yaml here or copy with code block, thanks.\n\nThis is the complete YAML, and I've also supplemented it with some service status information.\n\nservices:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.9.4-ee\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        runner:\n          registry:\n            prefix: \"csghub.example.com:8088/csghub/\"\n    ports:\n      - '8080:80'\t\t\t\t\t# Nginx\n      - '2222:2222'     # Git Over SSH\n      - '5001:5000'     # Container Registry\n      - '8000:8000'     # Casdoor\n      - '9000:9000'     # Minio\n      - '9001:9001'     # Minio Admin UI\n    restart: always\n    shm_size: '256m'\n\n----------------------------------------------------------------------------------------------------\n\n# csghub-ctl status\nrun: accounting: (pid 1490) 16595s; run: log: (pid 924) 16597s\nrun: casdoor: (pid 1891) 16594s; run: log: (pid 914) 16597s\nrun: dataviewer: (pid 2175) 16592s; run: log: (pid 908) 16597s\nrun: dnsmasq: (pid 945) 16597s; run: log: (pid 943) 16597s\nrun: gitaly: (pid 937) 16597s; run: log: (pid 935) 16597s\nrun: gitlab_shell: (pid 906) 16597s; run: log: (pid 899) 16597s\nrun: minio: (pid 946) 16597s; run: log: (pid 944) 16597s\nrun: mirror_lfs: (pid 2226) 16592s; run: log: (pid 915) 16597s\nrun: mirror_repo: (pid 2240) 16592s; run: log: (pid 968) 16597s\nrun: nats: (pid 953) 16597s; run: log: (pid 952) 16597s\nrun: nginx: (pid 927) 16597s; run: log: (pid 925) 16597s\nrun: notification: (pid 1496) 16595s; run: log: (pid 929) 16597s\nrun: portal: (pid 1267) 16596s; run: log: (pid 922) 16597s\nrun: postgresql: (pid 907) 16597s; run: log: (pid 901) 16597s\nrun: redis: (pid 912) 16597s; run: log: (pid 910) 16597s\nrun: registry: (pid 941) 16597s; run: log: (pid 939) 16597s\nrun: rproxy: (pid 1984) 16593s; run: log: (pid 920) 16597s\nrun: server: (pid 2257) 16592s; run: log: (pid 932) 16597s\nrun: temporal: (pid 1460) 16595s; run: log: (pid 926) 16597s\nrun: user: (pid 2189) 16592s; run: log: (pid 918) 16597s\n\n----------------------------------------------------------------------------------------------------\n# csghub-ctl tail\n2025/10/13 08:17:33 Tailing log for service * from /var/log/csghub/*/current...\n==> /var/log/csghub/accounting/current <==\n2025-10-13_03:40:42.65489 Starting server...\n2025-10-13_03:40:42.73489 init logger, level: INFO, format: json\n2025-10-13_03:40:42.73491 {\"time\":\"2025-10-13T03:40:42.734427669Z\",\"level\":\"INFO\",\"msg\":\"failed to initialize database error: pinging pg database: dial tcp 127.0.0.1:5432: connect: connection refused\"}\n2025-10-13_03:40:43.73880 Starting server...\n2025-10-13_03:40:43.78180 init logger, level: INFO, format: json\n2025-10-13_03:40:43.78460 {\"time\":\"2025-10-13T03:40:43.784558503Z\",\"level\":\"INFO\",\"msg\":\"failed to initialize database error: pinging pg database: FATAL: role \\\"csghub_server\\\" does not exist (SQLSTATE=28000)\"}\n2025-10-13_03:40:44.78852 Starting server...\n2025-10-13_03:40:44.84809 init logger, level: INFO, format: json\n2025-10-13_03:40:44.95100 {\"time\":\"2025-10-13T03:40:44.950648587Z\",\"level\":\"INFO\",\"msg\":\"http server is running\",\"port\":8086}\n\n==> /var/log/csghub/casdoor/current <==\n2025-10-13_03:40:45.97865 You are now connected to database \"casdoor\" as user \"casdoor\".\n2025-10-13_03:40:45.98169 DO\n2025-10-13_03:40:45.98267 DO\n2025-10-13_03:40:45.98420 DO\n2025-10-13_03:40:45.98515 DO\n2025-10-13_03:40:45.98576 \n2025-10-13_03:40:45.98597 Successfully executed all SQL files!\n2025-10-13_03:40:46.55343 2025/10/13 03:40:46 Listening on 0.0.0.0:389\n2025-10-13_03:40:46.55344 2025/10/13 03:40:46 Starting Radius server on 0.0.0.0:1812\n2025-10-13_03:40:46.55632 2025/10/13 03:40:46.556 [I]  http server Running on http://:8087\n\n==> /var/log/csghub/dataviewer/current <==\n2025-10-13_03:40:45.96651 Starting server...\n2025-10-13_03:40:45.99421 init logger, level: INFO, format: json\n2025-10-13_03:40:46.07421 {\"time\":\"2025-10-13T03:40:46.074079796Z\",\"level\":\"INFO\",\"msg\":\"run viewer worker\",\"options\":{\"Host\":\"http://localhost\",\"Port\":8093,\"MaxConcurrentActivityExecutionSize\":5,\"MaxConcurrentLocalActivityExecutionSize\":10,\"MaxConcurrentWorkflowTaskExecutionSize\":2,\"ActivityStartToCloseTimeout\":7200,\"ActivityMaximumAttempts\":2,\"CacheDir\":\"/tmp/opencsg\",\"DownloadLfsFile\":true,\"MaxThreadNumOfExport\":8,\"MaxConcurrentSessionExecutionSize\":1,\"SessionExecutionTimeout\":240,\"ConvertLimitSize\":5368709120}}\n2025-10-13_03:40:46.38968 Error: failed to init dataviewer router: building dataviewer run workers error: failed to start worker:  Namespace default is not found.\n2025-10-13_03:40:47.40156 Starting server...\n2025-10-13_03:40:47.45083 init logger, level: INFO, format: json\n2025-10-13_03:40:47.53362 {\"time\":\"2025-10-13T03:40:47.533573463Z\",\"level\":\"INFO\",\"msg\":\"run viewer worker\",\"options\":{\"Host\":\"http://localhost\",\"Port\":8093,\"MaxConcurrentActivityExecutionSize\":5,\"MaxConcurrentLocalActivityExecutionSize\":10,\"MaxConcurrentWorkflowTaskExecutionSize\":2,\"ActivityStartToCloseTimeout\":7200,\"ActivityMaximumAttempts\":2,\"CacheDir\":\"/tmp/opencsg\",\"DownloadLfsFile\":true,\"MaxThreadNumOfExport\":8,\"MaxConcurrentSessionExecutionSize\":1,\"SessionExecutionTimeout\":240,\"ConvertLimitSize\":5368709120}}\n2025-10-13_03:40:47.86389 {\"time\":\"2025-10-13T03:40:47.863543338Z\",\"level\":\"INFO\",\"msg\":\"Starting session worker\",\"Namespace\":\"default\",\"TaskQueue\":\"data_viewer_queue_dataset_update\",\"WorkerID\":\"2175@c483ce141660@\"}\n2025-10-13_03:40:47.87150 {\"time\":\"2025-10-13T03:40:47.871451297Z\",\"level\":\"INFO\",\"msg\":\"Started Worker\",\"Namespace\":\"default\",\"TaskQueue\":\"data_viewer_queue_dataset_update\",\"WorkerID\":\"2175@c483ce141660@\"}\n2025-10-13_03:40:47.87151 {\"time\":\"2025-10-13T03:40:47.87147363Z\",\"level\":\"INFO\",\"msg\":\"dataviewer http server is running\",\"port\":8093}\n\n==> /var/log/csghub/dnsmasq/current <==\n2025-10-13_03:40:42.68159 ./pre-start: line 19: setcap: command not found\n2025-10-13_03:40:42.68344 dnsmasq: started, version 2.91 cachesize 150\n2025-10-13_03:40:42.68345 dnsmasq: compile time options: IPv6 GNU-getopt no-DBus no-UBus no-i18n no-IDN DHCP DHCPv6 no-Lua TFTP no-conntrack ipset no-nftset auth no-DNSSEC loop-detect inotify dumpfile\n2025-10-13_03:40:42.68346 dnsmasq: reading /etc/resolv.conf\n2025-10-13_03:40:42.68346 dnsmasq: ignoring nameserver 127.0.0.1 - local interface\n2025-10-13_03:40:42.68346 dnsmasq: using nameserver 127.0.0.11#53\n2025-10-13_03:40:42.68346 dnsmasq: read /etc/hosts - 9 names\n\n==> /var/log/csghub/gitaly/current <==\n2025-10-13_04:10:48.82126 {\"component\":\"backchannel.YamuxServer\",\"level\":\"info\",\"msg\":\"[ERR] yamux: Failed to write body: write tcp 127.0.0.1:8075-\\u003e127.0.0.1:59028: write: broken pipe\",\"pid\":1081,\"time\":\"2025-10-13T04:10:48.820Z\"}\n2025-10-13_04:10:48.83780 {\"component\":\"backchannel.YamuxServer\",\"level\":\"info\",\"msg\":\"[ERR] yamux: Failed to write body: write tcp 127.0.0.1:8075-\\u003e127.0.0.1:59080: write: broken pipe\",\"pid\":1081,\"time\":\"2025-10-13T04:10:48.837Z\"}\n2025-10-13_04:10:48.89159 {\"component\":\"backchannel.YamuxServer\",\"level\":\"info\",\"msg\":\"[ERR] yamux: Failed to write body: write tcp 127.0.0.1:8075-\\u003e127.0.0.1:59156: write: broken pipe\",\"pid\":1081,\"time\":\"2025-10-13T04:10:48.890Z\"}\n2025-10-13_04:10:48.89171 {\"component\":\"backchannel.YamuxServer\",\"level\":\"info\",\"msg\":\"[ERR] yamux: Failed to write body: write tcp 127.0.0.1:8075-\\u003e127.0.0.1:59138: use of closed network connection\",\"pid\":1081,\"time\":\"2025-10-13T04:10:48.891Z\"}\n2025-10-13_04:10:48.92582 {\"component\":\"backchannel.YamuxServer\",\"level\":\"info\",\"msg\":\"[ERR] yamux: Failed to write header: write tcp 127.0.0.1:8075-\\u003e127.0.0.1:59304: write: connection reset by peer\",\"pid\":1081,\"time\":\"2025-10-13T04:10:48.924Z\"}\n2025-10-13_04:10:48.93689 {\"component\":\"backchannel.YamuxServer\",\"level\":\"info\",\"msg\":\"[ERR] yamux: Failed to write header: write tcp 127.0.0.1:8075-\\u003e127.0.0.1:59334: write: connection reset by peer\",\"pid\":1081,\"time\":\"2025-10-13T04:10:48.936Z\"}\n2025-10-13_04:40:43.23167 {\"level\":\"info\",\"msg\":\"finished tempdir cleaner walk\",\"pid\":1081,\"storage\":\"default\",\"time\":\"2025-10-13T04:40:43.230Z\",\"time_ms\":1}\n2025-10-13_05:40:43.18817 {\"level\":\"info\",\"msg\":\"finished tempdir cleaner walk\",\"pid\":1081,\"storage\":\"default\",\"time\":\"2025-10-13T05:40:43.186Z\",\"time_ms\":1}\n2025-10-13_06:40:43.21701 {\"level\":\"info\",\"msg\":\"finished tempdir cleaner walk\",\"pid\":1081,\"storage\":\"default\",\"time\":\"2025-10-13T06:40:43.215Z\",\"time_ms\":1}\n2025-10-13_07:40:43.22723 {\"level\":\"info\",\"msg\":\"finished tempdir cleaner walk\",\"pid\":1081,\"storage\":\"default\",\"time\":\"2025-10-13T07:40:43.226Z\",\"time_ms\":0}\n\n==> /var/log/csghub/gitlab_shell/current <==\n2025-10-13_03:40:42.65320 Using existing Host Keys\n2025-10-13_03:40:42.74151 {\"error\":\"open /var/log/csghub/gitlab_shell/gitlab-shell.log: permission denied\",\"level\":\"warning\",\"log_file\":\"stdout\",\"msg\":\"Unable to configure logging, falling back to STDOUT\",\"time\":\"2025-10-13T03:40:42Z\"}\n2025-10-13_03:40:42.75255 {\"correlation_id\":\"01K7DTFYBNW81ZN3WNYA74284H\",\"level\":\"info\",\"msg\":\"Listening for SSH connections\",\"supported_public_key_algorithms\":[\"ssh-rsa\",\"ssh-dss\",\"ecdsa-sha2-nistp256\",\"sk-ecdsa-sha2-nistp256@openssh.com\",\"ecdsa-sha2-nistp384\",\"ecdsa-sha2-nistp521\",\"ssh-ed25519\",\"sk-ssh-ed25519@openssh.com\",\"rsa-sha2-256\",\"rsa-sha2-512\"],\"tcp_address\":\"[::]:2222\",\"time\":\"2025-10-13T03:40:42Z\"}\n\n==> /var/log/csghub/minio/current <==\n2025-10-13_03:40:43.17157 {\"level\":\"INFO\",\"time\":\"2025-10-13T03:40:43.171265919Z\",\"message\":\"Formatting 1st pool, 1 set(s), 1 drives per set.\"}\n2025-10-13_03:40:43.17164 {\"level\":\"INFO\",\"time\":\"2025-10-13T03:40:43.171552711Z\",\"message\":\"WARNING: Host local has more than 0 drives of set. A host failure will result in data becoming unavailable.\"}\n2025-10-13_03:40:43.21127 {\"level\":\"INFO\",\"time\":\"2025-10-13T03:40:43.210852211Z\",\"message\":\"MinIO Object Storage Server\"}\n2025-10-13_03:40:43.21132 {\"level\":\"INFO\",\"time\":\"2025-10-13T03:40:43.211248336Z\",\"message\":\"Copyright: 2015-2025 MinIO, Inc.\\nLicense: GNU AGPLv3 - https://www.gnu.org/licenses/agpl-3.0.html\\nVersion: RELEASE.2025-03-12T18-04-18Z (go1.24.1 linux/arm64)\\n\"}\n2025-10-13_03:40:43.21134 {\"level\":\"INFO\",\"time\":\"2025-10-13T03:40:43.211272503Z\",\"message\":\"API: http://172.19.0.2:9000  http://127.0.0.1:9000 \"}\n2025-10-13_03:40:43.21135 {\"level\":\"INFO\",\"time\":\"2025-10-13T03:40:43.211283919Z\",\"message\":\"WebUI: http://172.19.0.2:9002 http://127.0.0.1:9002 \"}\n2025-10-13_03:40:43.21135 {\"level\":\"INFO\",\"time\":\"2025-10-13T03:40:43.211296336Z\",\"message\":\"\\nDocs: https://docs.min.io\"}\n2025-10-13_03:40:43.85856 {\"level\":\"INFO\",\"time\":\"2025-10-13T03:40:43.858527378Z\",\"message\":\"You are running an older version of MinIO released 5 months before the latest release, update: Run `mc admin update ALIAS`\"}\n\n==> /var/log/csghub/mirror_lfs/current <==\n2025-10-13_06:01:00.07760 [bun]  06:01:00.077   INSERT                  151µs  INSERT INTO \"recom_repo_scores\" AS \"recom_repo_score\" (\"id\", \"repository_id\", \"weight_name\", \"score\", \"created_at\", \"updated_at\") VALUES () ON CONFLICT (repository_id, weight_name) DO UPDATE SET \"repository_id\" = EXCLUDED.\"repository_id\", \"weight_name\" = EXCLUDED.\"weight_name\", \"score\" = EXCLUDED.\"score\", \"created_at\" = EXCLUDED.\"created_at\", \"updated_at\" = EXCLUDED.\"updated_at\"          pgdriver.Error: ERROR: syntax error at or near \")\" (SQLSTATE=42601) \n2025-10-13_06:01:00.07762 {\"time\":\"2025-10-13T06:01:00.077603176Z\",\"level\":\"ERROR\",\"msg\":\"failed to flush recom score\",\"error\":\"ERROR: syntax error at or near \\\")\\\" (SQLSTATE=42601)\",\"repo_ids\":null}\n2025-10-13_06:01:00.08457 {\"time\":\"2025-10-13T06:01:00.084545218Z\",\"level\":\"INFO\",\"msg\":\"calc recom score workflow completed\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2226@c483ce141660@\",\"WorkflowType\":\"CalcRecomScoreWorkflow\",\"WorkflowID\":\"calc-recom-score-workflow-2025-10-13T06:01:00Z\",\"RunID\":\"aedf9ab8-9bae-4637-b0fe-4675144c33c0\",\"Attempt\":1,\"TraceID\":\"00000000000000000000000000000000\",\"SpanID\":\"0000000000000000\"}\n2025-10-13_07:00:10.35208 {\"time\":\"2025-10-13T07:00:10.350937291Z\",\"level\":\"ERROR\",\"msg\":\"Activity error.\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2226@c483ce141660@\",\"WorkflowID\":\"sync-as-client-workflow-2025-10-13T07:00:00Z\",\"RunID\":\"27100ca4-4e1e-43d0-8b70-28eec18d142e\",\"ActivityType\":\"SyncAsClient\",\"Attempt\":1,\"Error\":\"failed to sync latest version from client, current version:0, error: failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0\"}\n2025-10-13_07:01:00.08130 {\"time\":\"2025-10-13T07:01:00.081264676Z\",\"level\":\"INFO\",\"msg\":\"calc recom score workflow started\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2226@c483ce141660@\",\"WorkflowType\":\"CalcRecomScoreWorkflow\",\"WorkflowID\":\"calc-recom-score-workflow-2025-10-13T07:01:00Z\",\"RunID\":\"2421984b-1a45-4b3f-a662-ad9acb969adc\",\"Attempt\":1,\"TraceID\":\"00000000000000000000000000000000\",\"SpanID\":\"0000000000000000\"}\n2025-10-13_07:01:00.09720 {\"time\":\"2025-10-13T07:01:00.097163842Z\",\"level\":\"INFO\",\"msg\":\"calc recom score workflow completed\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2226@c483ce141660@\",\"WorkflowType\":\"CalcRecomScoreWorkflow\",\"WorkflowID\":\"calc-recom-score-workflow-2025-10-13T07:01:00Z\",\"RunID\":\"2421984b-1a45-4b3f-a662-ad9acb969adc\",\"Attempt\":1,\"TraceID\":\"00000000000000000000000000000000\",\"SpanID\":\"0000000000000000\"}\n2025-10-13_08:00:21.39525 {\"time\":\"2025-10-13T08:00:21.394717963Z\",\"level\":\"ERROR\",\"msg\":\"Activity error.\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2226@c483ce141660@\",\"WorkflowID\":\"sync-as-client-workflow-2025-10-13T08:00:00Z\",\"RunID\":\"4b4e36ba-7b86-4e3d-997b-61561475a8a6\",\"ActivityType\":\"SyncAsClient\",\"Attempt\":2,\"Error\":\"failed to sync latest version from client, current version:0, error: failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0\"}\n2025-10-13_08:00:33.45641 {\"time\":\"2025-10-13T08:00:33.45607576Z\",\"level\":\"ERROR\",\"msg\":\"Activity error.\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2226@c483ce141660@\",\"WorkflowID\":\"sync-as-client-workflow-2025-10-13T08:00:00Z\",\"RunID\":\"4b4e36ba-7b86-4e3d-997b-61561475a8a6\",\"ActivityType\":\"SyncAsClient\",\"Attempt\":3,\"Error\":\"failed to sync latest version from client, current version:0, error: failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0\"}\n2025-10-13_08:01:00.07458 [bun]  08:01:00.074   INSERT                  158µs  INSERT INTO \"recom_repo_scores\" AS \"recom_repo_score\" (\"id\", \"repository_id\", \"weight_name\", \"score\", \"created_at\", \"updated_at\") VALUES () ON CONFLICT (repository_id, weight_name) DO UPDATE SET \"repository_id\" = EXCLUDED.\"repository_id\", \"weight_name\" = EXCLUDED.\"weight_name\", \"score\" = EXCLUDED.\"score\", \"created_at\" = EXCLUDED.\"created_at\", \"updated_at\" = EXCLUDED.\"updated_at\"          pgdriver.Error: ERROR: syntax error at or near \")\" (SQLSTATE=42601) \n2025-10-13_08:01:00.07461 {\"time\":\"2025-10-13T08:01:00.074567675Z\",\"level\":\"ERROR\",\"msg\":\"failed to flush recom score\",\"error\":\"ERROR: syntax error at or near \\\")\\\" (SQLSTATE=42601)\",\"repo_ids\":null}\n\n==> /var/log/csghub/mirror_repo/current <==\n2025-10-13_04:00:33.39873 {\"time\":\"2025-10-13T04:00:33.39804722Z\",\"level\":\"ERROR\",\"msg\":\"Activity error.\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2240@c483ce141660@\",\"WorkflowID\":\"sync-as-client-workflow-2025-10-13T04:00:00Z\",\"RunID\":\"a5afd4eb-d0eb-4aa2-b8db-e1da30eb63e2\",\"ActivityType\":\"SyncAsClient\",\"Attempt\":3,\"Error\":\"failed to sync latest version from client, current version:0, error: failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0\"}\n2025-10-13_04:00:33.42586 {\"time\":\"2025-10-13T04:00:33.425606595Z\",\"level\":\"ERROR\",\"msg\":\"failed to sync as client\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2240@c483ce141660@\",\"WorkflowType\":\"SyncAsClientWorkflow\",\"WorkflowID\":\"sync-as-client-workflow-2025-10-13T04:00:00Z\",\"RunID\":\"a5afd4eb-d0eb-4aa2-b8db-e1da30eb63e2\",\"Attempt\":1,\"TraceID\":\"00000000000000000000000000000000\",\"SpanID\":\"0000000000000000\",\"error\":\"activity error (type: SyncAsClient, scheduledEventID: 5, startedEventID: 6, identity: 2240@c483ce141660@): failed to sync latest version from client, current version:0, error: failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0 (type: wrapError, retryable: true): failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0 (type: wrapError, retryable: true): failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0 (type: wrapError, retryable: true): SYS-ERR-0 (type: CustomError, retryable: true)\"}\n2025-10-13_05:00:00.07913 {\"time\":\"2025-10-13T05:00:00.078998468Z\",\"level\":\"INFO\",\"msg\":\"sync as client workflow started\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2240@c483ce141660@\",\"WorkflowType\":\"SyncAsClientWorkflow\",\"WorkflowID\":\"sync-as-client-workflow-2025-10-13T05:00:00Z\",\"RunID\":\"49f36aef-1b24-4c7f-8b9f-74343d0943a8\",\"Attempt\":1,\"TraceID\":\"00000000000000000000000000000000\",\"SpanID\":\"0000000000000000\"}\n2025-10-13_05:00:33.32449 {\"time\":\"2025-10-13T05:00:33.324289387Z\",\"level\":\"ERROR\",\"msg\":\"Activity error.\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2240@c483ce141660@\",\"WorkflowID\":\"sync-as-client-workflow-2025-10-13T05:00:00Z\",\"RunID\":\"49f36aef-1b24-4c7f-8b9f-74343d0943a8\",\"ActivityType\":\"SyncAsClient\",\"Attempt\":3,\"Error\":\"failed to sync latest version from client, current version:0, error: failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0\"}\n2025-10-13_05:00:33.35067 {\"time\":\"2025-10-13T05:00:33.35051622Z\",\"level\":\"ERROR\",\"msg\":\"failed to sync as client\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2240@c483ce141660@\",\"WorkflowType\":\"SyncAsClientWorkflow\",\"WorkflowID\":\"sync-as-client-workflow-2025-10-13T05:00:00Z\",\"RunID\":\"49f36aef-1b24-4c7f-8b9f-74343d0943a8\",\"Attempt\":1,\"TraceID\":\"00000000000000000000000000000000\",\"SpanID\":\"0000000000000000\",\"error\":\"activity error (type: SyncAsClient, scheduledEventID: 5, startedEventID: 6, identity: 2240@c483ce141660@): failed to sync latest version from client, current version:0, error: failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0 (type: wrapError, retryable: true): failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0 (type: wrapError, retryable: true): failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0 (type: wrapError, retryable: true): SYS-ERR-0 (type: CustomError, retryable: true)\"}\n2025-10-13_06:00:10.30966 {\"time\":\"2025-10-13T06:00:10.309345208Z\",\"level\":\"ERROR\",\"msg\":\"Activity error.\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2240@c483ce141660@\",\"WorkflowID\":\"sync-as-client-workflow-2025-10-13T06:00:00Z\",\"RunID\":\"ea9ae440-411f-4cb4-a071-f964493bd4df\",\"ActivityType\":\"SyncAsClient\",\"Attempt\":1,\"Error\":\"failed to sync latest version from client, current version:0, error: failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0\"}\n2025-10-13_06:00:33.42779 {\"time\":\"2025-10-13T06:00:33.427581094Z\",\"level\":\"ERROR\",\"msg\":\"Activity error.\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2240@c483ce141660@\",\"WorkflowID\":\"sync-as-client-workflow-2025-10-13T06:00:00Z\",\"RunID\":\"ea9ae440-411f-4cb4-a071-f964493bd4df\",\"ActivityType\":\"SyncAsClient\",\"Attempt\":3,\"Error\":\"failed to sync latest version from client, current version:0, error: failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0\"}\n2025-10-13_07:00:21.41212 {\"time\":\"2025-10-13T07:00:21.411376172Z\",\"level\":\"ERROR\",\"msg\":\"Activity error.\",\"Namespace\":\"default\",\"TaskQueue\":\"workflow_cron_queue\",\"WorkerID\":\"2240@c483ce141660@\",\"WorkflowID\":\"sync-as-client-workflow-2025-10-13T07:00:00Z\",\"RunID\":\"27100ca4-4e1e-43d0-8b70-28eec18d142e\",\"ActivityType\":\"SyncAsClient\",\"Attempt\":2,\"Error\":\"failed to sync latest version from client, current version:0, error: failed to get latest version, cause: failed to do GET request, path:https://hub.opencsg.com/api/v1/sync/version/latest?cur=0, err:SYS-ERR-0\"}\n2025-10-13_07:01:00.09121 [bun]  07:01:00.091   INSERT                  142µs  INSERT INTO \"recom_repo_scores\" AS \"recom_repo_score\" (\"id\", \"repository_id\", \"weight_name\", \"score\", \"created_at\", \"updated_at\") VALUES () ON CONFLICT (repository_id, weight_name) DO UPDATE SET \"repository_id\" = EXCLUDED.\"repository_id\", \"weight_name\" = EXCLUDED.\"weight_name\", \"score\" = EXCLUDED.\"score\", \"created_at\" = EXCLUDED.\"created_at\", \"updated_at\" = EXCLUDED.\"updated_at\"          pgdriver.Error: ERROR: syntax error at or near \")\" (SQLSTATE=42601) \n2025-10-13_07:01:00.09124 {\"time\":\"2025-10-13T07:01:00.091206426Z\",\"level\":\"ERROR\",\"msg\":\"failed to flush recom score\",\"error\":\"ERROR: syntax error at or near \\\")\\\" (SQLSTATE=42601)\",\"repo_ids\":null}\n\n==> /var/log/csghub/nats/current <==\n2025-10-13_03:40:42.71621 [953] 2025/10/13 03:40:42.716177 [INF] \n2025-10-13_03:40:42.71622 [953] 2025/10/13 03:40:42.716179 [INF]          https://docs.nats.io/jetstream\n2025-10-13_03:40:42.71623 [953] 2025/10/13 03:40:42.716179 [INF] \n2025-10-13_03:40:42.71623 [953] 2025/10/13 03:40:42.716181 [INF] ---------------- JETSTREAM ----------------\n2025-10-13_03:40:42.71624 [953] 2025/10/13 03:40:42.716186 [INF]   Max Memory:      7.45 GB\n2025-10-13_03:40:42.71624 [953] 2025/10/13 03:40:42.716188 [INF]   Max Storage:     9.31 GB\n2025-10-13_03:40:42.71625 [953] 2025/10/13 03:40:42.716189 [INF]   Store Directory: \"/var/opt/csghub/nats/data/jetstream/jetstream\"\n2025-10-13_03:40:42.71625 [953] 2025/10/13 03:40:42.716190 [INF] -------------------------------------------\n2025-10-13_03:40:42.71642 [953] 2025/10/13 03:40:42.716401 [INF] Listening for client connections on 0.0.0.0:4222\n2025-10-13_03:40:42.71665 [953] 2025/10/13 03:40:42.716627 [INF] Server is ready\n\n==> /var/log/csghub/nginx/current <==\n\n==> /var/log/csghub/notification/current <==\n2025-10-13_03:40:44.95458 {\"time\":\"2025-10-13T03:40:44.954025878Z\",\"level\":\"INFO\",\"msg\":\"start processing site internal messages\"}\n2025-10-13_03:40:44.96071 {\"time\":\"2025-10-13T03:40:44.960594337Z\",\"level\":\"INFO\",\"msg\":\"start process high priority message\"}\n2025-10-13_03:40:44.97333 {\"time\":\"2025-10-13T03:40:44.973311087Z\",\"level\":\"INFO\",\"msg\":\"start process normal priority message\"}\n2025-10-13_03:40:44.97335 {\"time\":\"2025-10-13T03:40:44.97334642Z\",\"level\":\"INFO\",\"msg\":\"register notify channel successfully\",\"channel\":\"internal-message\"}\n2025-10-13_03:40:44.97335 {\"time\":\"2025-10-13T03:40:44.973352295Z\",\"level\":\"INFO\",\"msg\":\"register notify channel successfully\",\"channel\":\"email\"}\n2025-10-13_03:40:44.97338 {\"time\":\"2025-10-13T03:40:44.97336717Z\",\"level\":\"WARN\",\"msg\":\"failed to create lark app bot client\",\"error\":\"feishu app ID or secret is not set\"}\n2025-10-13_03:40:44.97345 {\"time\":\"2025-10-13T03:40:44.973378378Z\",\"level\":\"INFO\",\"msg\":\"scenario registered\",\"scenario\":\"internal-notification\",\"channels\":[\"internal-message\",\"email\"]}\n2025-10-13_03:40:44.97345 {\"time\":\"2025-10-13T03:40:44.973395128Z\",\"level\":\"INFO\",\"msg\":\"scenario registered\",\"scenario\":\"repo-sync\",\"channels\":[\"lark\"]}\n2025-10-13_03:40:44.97621 {\"time\":\"2025-10-13T03:40:44.976200587Z\",\"level\":\"INFO\",\"msg\":\"start process mail\"}\n2025-10-13_03:40:44.97636 {\"time\":\"2025-10-13T03:40:44.976304878Z\",\"level\":\"INFO\",\"msg\":\"http server is running\",\"port\":8095}\n\n==> /var/log/csghub/portal/current <==\n2025-10-13_03:40:43.86953 Running database migrations...\n2025-10-13_03:40:43.88444 init logger, level: INFO, format: json\n2025-10-13_03:40:43.93936 {\"time\":\"2025-10-13T03:40:43.939335586Z\",\"level\":\"INFO\",\"msg\":\"migrated to group #1 (23 migrations (20240902082008 ... 20250721170000))\"}\n2025-10-13_03:40:43.93937 It is ee version\n2025-10-13_03:40:43.94070 Seed database ...\n2025-10-13_03:40:43.95667 init logger, level: INFO, format: json\n2025-10-13_03:40:43.96178 {\"time\":\"2025-10-13T03:40:43.96176142Z\",\"level\":\"INFO\",\"msg\":\"Database seeded successfully\"}\n2025-10-13_03:40:43.96179 It is ee version\n2025-10-13_03:40:43.96308 Starting portal...\n2025-10-13_03:40:43.97894 init logger, level: INFO, format: json\n\n==> /var/log/csghub/postgresql/current <==\n2025-10-13_04:01:00.07168 2025-10-13 12:01:00.071 CST [2239] ERROR:  syntax error at or near \")\" at character 139\n2025-10-13_04:01:00.07172 2025-10-13 12:01:00.071 CST [2239] STATEMENT:  INSERT INTO \"recom_repo_scores\" AS \"recom_repo_score\" (\"id\", \"repository_id\", \"weight_name\", \"score\", \"created_at\", \"updated_at\") VALUES () ON CONFLICT (repository_id, weight_name) DO UPDATE SET \"repository_id\" = EXCLUDED.\"repository_id\", \"weight_name\" = EXCLUDED.\"weight_name\", \"score\" = EXCLUDED.\"score\", \"created_at\" = EXCLUDED.\"created_at\", \"updated_at\" = EXCLUDED.\"updated_at\"\n2025-10-13_05:01:00.07467 2025-10-13 13:01:00.074 CST [2380] ERROR:  syntax error at or near \")\" at character 139\n2025-10-13_05:01:00.07477 2025-10-13 13:01:00.074 CST [2380] STATEMENT:  INSERT INTO \"recom_repo_scores\" AS \"recom_repo_score\" (\"id\", \"repository_id\", \"weight_name\", \"score\", \"created_at\", \"updated_at\") VALUES () ON CONFLICT (repository_id, weight_name) DO UPDATE SET \"repository_id\" = EXCLUDED.\"repository_id\", \"weight_name\" = EXCLUDED.\"weight_name\", \"score\" = EXCLUDED.\"score\", \"created_at\" = EXCLUDED.\"created_at\", \"updated_at\" = EXCLUDED.\"updated_at\"\n2025-10-13_06:01:00.07757 2025-10-13 14:01:00.077 CST [2239] ERROR:  syntax error at or near \")\" at character 139\n2025-10-13_06:01:00.07765 2025-10-13 14:01:00.077 CST [2239] STATEMENT:  INSERT INTO \"recom_repo_scores\" AS \"recom_repo_score\" (\"id\", \"repository_id\", \"weight_name\", \"score\", \"created_at\", \"updated_at\") VALUES () ON CONFLICT (repository_id, weight_name) DO UPDATE SET \"repository_id\" = EXCLUDED.\"repository_id\", \"weight_name\" = EXCLUDED.\"weight_name\", \"score\" = EXCLUDED.\"score\", \"created_at\" = EXCLUDED.\"created_at\", \"updated_at\" = EXCLUDED.\"updated_at\"\n2025-10-13_07:01:00.09113 2025-10-13 15:01:00.091 CST [2252] ERROR:  syntax error at or near \")\" at character 139\n2025-10-13_07:01:00.09122 2025-10-13 15:01:00.091 CST [2252] STATEMENT:  INSERT INTO \"recom_repo_scores\" AS \"recom_repo_score\" (\"id\", \"repository_id\", \"weight_name\", \"score\", \"created_at\", \"updated_at\") VALUES () ON CONFLICT (repository_id, weight_name) DO UPDATE SET \"repository_id\" = EXCLUDED.\"repository_id\", \"weight_name\" = EXCLUDED.\"weight_name\", \"score\" = EXCLUDED.\"score\", \"created_at\" = EXCLUDED.\"created_at\", \"updated_at\" = EXCLUDED.\"updated_at\"\n2025-10-13_08:01:00.07450 2025-10-13 16:01:00.074 CST [2239] ERROR:  syntax error at or near \")\" at character 139\n2025-10-13_08:01:00.07456 2025-10-13 16:01:00.074 CST [2239] STATEMENT:  INSERT INTO \"recom_repo_scores\" AS \"recom_repo_score\" (\"id\", \"repository_id\", \"weight_name\", \"score\", \"created_at\", \"updated_at\") VALUES () ON CONFLICT (repository_id, weight_name) DO UPDATE SET \"repository_id\" = EXCLUDED.\"repository_id\", \"weight_name\" = EXCLUDED.\"weight_name\", \"score\" = EXCLUDED.\"score\", \"created_at\" = EXCLUDED.\"created_at\", \"updated_at\" = EXCLUDED.\"updated_at\"\n\n==> /var/log/csghub/redis/current <==\n2025-10-13_08:11:36.04679 912:M 13 Oct 2025 08:11:36.046 * 100 changes in 300 seconds. Saving...\n2025-10-13_08:11:36.04843 912:M 13 Oct 2025 08:11:36.048 * Background saving started by pid 4733\n2025-10-13_08:11:36.05434 4733:C 13 Oct 2025 08:11:36.054 * DB saved on disk\n2025-10-13_08:11:36.05464 4733:C 13 Oct 2025 08:11:36.054 * RDB: 0 MB of memory used by copy-on-write\n2025-10-13_08:11:36.15160 912:M 13 Oct 2025 08:11:36.151 * Background saving terminated with success\n2025-10-13_08:16:37.04198 912:M 13 Oct 2025 08:16:37.041 * 100 changes in 300 seconds. Saving...\n2025-10-13_08:16:37.04474 912:M 13 Oct 2025 08:16:37.044 * Background saving started by pid 4774\n2025-10-13_08:16:37.04861 4774:C 13 Oct 2025 08:16:37.048 * DB saved on disk\n2025-10-13_08:16:37.04897 4774:C 13 Oct 2025 08:16:37.048 * RDB: 0 MB of memory used by copy-on-write\n2025-10-13_08:16:37.15055 912:M 13 Oct 2025 08:16:37.150 * Background saving terminated with success\n\n==> /var/log/csghub/registry/current <==\n2025-10-13_03:40:42.80390 mc: <ERROR> Unable to initialize new alias from the provided credentials. Get \"http://127.0.0.1:9000/probe-bsign-ngltgelznnc2l49pyfpof5oknx3eyc/?location=\": dial tcp 127.0.0.1:9000: connect: connection refused.\n2025-10-13_03:40:42.81313 {\"go.version\":\"go1.20.8\",\"instance.id\":\"1a943b01-ae0c-46e7-9efd-57cd5ef1f2bf\",\"level\":\"warning\",\"msg\":\"No HTTP secret provided - generated random secret. This may cause problems with uploads if multiple registries are behind a load-balancer. To provide a shared secret, fill in http.secret in the configuration file or set the REGISTRY_HTTP_SECRET environment variable.\",\"service\":\"registry\",\"time\":\"2025-10-13T03:40:42.813019127Z\",\"version\":\"2.8.3\"}\n2025-10-13_03:40:42.81316 {\"go.version\":\"go1.20.8\",\"instance.id\":\"1a943b01-ae0c-46e7-9efd-57cd5ef1f2bf\",\"level\":\"info\",\"msg\":\"redis not configured\",\"service\":\"registry\",\"time\":\"2025-10-13T03:40:42.813090002Z\",\"version\":\"2.8.3\"}\n2025-10-13_03:40:42.81324 {\"go.version\":\"go1.20.8\",\"instance.id\":\"1a943b01-ae0c-46e7-9efd-57cd5ef1f2bf\",\"level\":\"info\",\"msg\":\"backend redirection disabled\",\"service\":\"registry\",\"time\":\"2025-10-13T03:40:42.813197044Z\",\"version\":\"2.8.3\"}\n2025-10-13_03:40:42.81327 {\"go.version\":\"go1.20.8\",\"instance.id\":\"1a943b01-ae0c-46e7-9efd-57cd5ef1f2bf\",\"level\":\"info\",\"msg\":\"using inmemory blob descriptor cache\",\"service\":\"registry\",\"time\":\"2025-10-13T03:40:42.813219336Z\",\"version\":\"2.8.3\"}\n2025-10-13_03:40:42.81341 {\"go.version\":\"go1.20.8\",\"instance.id\":\"1a943b01-ae0c-46e7-9efd-57cd5ef1f2bf\",\"level\":\"info\",\"msg\":\"listening on 127.0.0.1:5001\",\"service\":\"registry\",\"time\":\"2025-10-13T03:40:42.813398377Z\",\"version\":\"2.8.3\"}\n2025-10-13_03:40:42.81374 {\"go.version\":\"go1.20.8\",\"instance.id\":\"1a943b01-ae0c-46e7-9efd-57cd5ef1f2bf\",\"level\":\"info\",\"msg\":\"Starting upload purge in 39m0s\",\"service\":\"registry\",\"time\":\"2025-10-13T03:40:42.813483211Z\",\"version\":\"2.8.3\"}\n2025-10-13_04:19:42.95761 {\"level\":\"info\",\"msg\":\"PurgeUploads starting: olderThan=2025-10-06 04:19:42.956119169 +0000 UTC m=-602459.985463475, actuallyDelete=true\",\"time\":\"2025-10-13T04:19:42.956676752Z\"}\n2025-10-13_04:19:42.96700 {\"level\":\"info\",\"msg\":\"Purge uploads finished.  Num deleted=0, num errors=1\",\"time\":\"2025-10-13T04:19:42.966639377Z\"}\n2025-10-13_04:19:42.96707 {\"go.version\":\"go1.20.8\",\"instance.id\":\"1a943b01-ae0c-46e7-9efd-57cd5ef1f2bf\",\"level\":\"info\",\"msg\":\"Starting upload purge in 24h0m0s\",\"service\":\"registry\",\"time\":\"2025-10-13T04:19:42.96675871Z\",\"version\":\"2.8.3\"}\n\n==> /var/log/csghub/rproxy/current <==\n2025-10-13_03:40:43.82999 Starting server...\n2025-10-13_03:40:43.85604 init logger, level: INFO, format: json\n2025-10-13_03:40:43.92348 {\"time\":\"2025-10-13T03:40:43.92344092Z\",\"level\":\"INFO\",\"msg\":\"failed to initialize database error: pinging pg database: FATAL: role \\\"csghub_server\\\" does not exist (SQLSTATE=28000)\"}\n2025-10-13_03:40:44.92943 Starting server...\n2025-10-13_03:40:45.01051 init logger, level: INFO, format: json\n2025-10-13_03:40:45.08789 [bun]  03:40:45.087   SELECT                  368µs  SELECT \"sync_client_setting\".\"id\", \"sync_client_setting\".\"token\", \"sync_client_setting\".\"concurrent_count\", \"sync_client_setting\".\"max_bandwidth\", \"sync_client_setting\".\"is_default\", \"sync_client_setting\".\"created_at\", \"sync_client_setting\".\"updated_at\" FROM \"sync_client_settings\" AS \"sync_client_setting\" LIMIT 1       pgdriver.Error: ERROR: relation \"sync_client_settings\" does not exist (SQLSTATE=42P01) \n2025-10-13_03:40:45.08789 Error: failed to init router: error creating rproxy handler:failed to create space component,get sync client setting: ERROR: relation \"sync_client_settings\" does not exist (SQLSTATE=42P01)\n2025-10-13_03:40:46.09401 Starting server...\n2025-10-13_03:40:46.14211 init logger, level: INFO, format: json\n2025-10-13_03:40:46.25036 {\"time\":\"2025-10-13T03:40:46.250303171Z\",\"level\":\"INFO\",\"msg\":\"rproxy http server is running\",\"port\":8083}\n\n==> /var/log/csghub/server/current <==\n2025-10-13_08:08:47.12655 {\"time\":\"2025-10-13T08:08:47.126325044Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-13_08:09:47.12920 {\"time\":\"2025-10-13T08:09:47.129105378Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-13_08:10:47.13363 {\"time\":\"2025-10-13T08:10:47.133498003Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-13_08:10:48.42230 {\"time\":\"2025-10-13T08:10:48.422127211Z\",\"level\":\"ERROR\",\"msg\":\"fail to get all deploy status\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-13_08:11:47.14710 {\"time\":\"2025-10-13T08:11:47.146879919Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-13_08:12:47.15352 {\"time\":\"2025-10-13T08:12:47.153294211Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-13_08:13:47.15576 {\"time\":\"2025-10-13T08:13:47.155649086Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-13_08:14:47.16058 {\"time\":\"2025-10-13T08:14:47.160393086Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-13_08:15:47.16724 {\"time\":\"2025-10-13T08:15:47.166949586Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n2025-10-13_08:16:47.17420 {\"time\":\"2025-10-13T08:16:47.173959961Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\n\n==> /var/log/csghub/temporal/current <==\n2025-10-13_08:09:36.05122 {\"level\":\"info\",\"ts\":\"2025-10-13T08:09:36.051Z\",\"msg\":\"none\",\"component\":\"matching-engine\",\"wf-task-queue-name\":\"/_sys/workflow_user_deletion_queue/2\",\"wf-task-queue-type\":\"Workflow\",\"wf-namespace\":\"default\",\"worker-build-id\":\"_unversioned_\",\"lifecycle\":\"Stopped\",\"cause\":\"Idle\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/service/matching/physical_task_queue_manager.go:307\"}\n2025-10-13_08:11:30.00996 {\"level\":\"info\",\"ts\":\"2025-10-13T08:11:30.009Z\",\"msg\":\"none\",\"component\":\"matching-engine\",\"wf-task-queue-name\":\"/_sys/data_viewer_queue_dataset_update__internal_session_creation/3\",\"wf-task-queue-type\":\"Activity\",\"wf-namespace\":\"default\",\"worker-build-id\":\"_unversioned_\",\"lifecycle\":\"Started\",\"cause\":\"Poll\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/service/matching/physical_task_queue_manager.go:289\"}\n2025-10-13_08:11:30.09357 {\"level\":\"info\",\"ts\":\"2025-10-13T08:11:30.093Z\",\"msg\":\"none\",\"component\":\"matching-engine\",\"wf-task-queue-name\":\"/_sys/workflow_user_deletion_queue/2\",\"wf-task-queue-type\":\"Workflow\",\"wf-namespace\":\"default\",\"worker-build-id\":\"_unversioned_\",\"lifecycle\":\"Started\",\"cause\":\"Poll\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/service/matching/physical_task_queue_manager.go:289\"}\n2025-10-13_08:11:34.01254 {\"level\":\"info\",\"ts\":\"2025-10-13T08:11:34.012Z\",\"msg\":\"none\",\"component\":\"matching-engine\",\"wf-task-queue-name\":\"/_sys/data_viewer_queue_dataset_update/3\",\"wf-task-queue-type\":\"Workflow\",\"wf-namespace\":\"default\",\"worker-build-id\":\"_unversioned_\",\"lifecycle\":\"Stopped\",\"cause\":\"Idle\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/service/matching/physical_task_queue_manager.go:307\"}\n2025-10-13_08:13:18.04907 {\"level\":\"info\",\"ts\":\"2025-10-13T08:13:18.048Z\",\"msg\":\"none\",\"component\":\"matching-engine\",\"wf-task-queue-name\":\"/_sys/72acadbb-aae8-4632-8aff-f224573876a7@c483ce141660/2\",\"wf-task-queue-type\":\"Activity\",\"wf-namespace\":\"default\",\"worker-build-id\":\"_unversioned_\",\"lifecycle\":\"Started\",\"cause\":\"Poll\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/service/matching/physical_task_queue_manager.go:289\"}\n2025-10-13_08:15:30.04305 {\"level\":\"info\",\"ts\":\"2025-10-13T08:15:30.042Z\",\"msg\":\"none\",\"component\":\"matching-engine\",\"wf-task-queue-name\":\"/_sys/data_viewer_queue_dataset_update/2\",\"wf-task-queue-type\":\"Workflow\",\"wf-namespace\":\"default\",\"worker-build-id\":\"_unversioned_\",\"lifecycle\":\"Stopped\",\"cause\":\"Idle\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/service/matching/physical_task_queue_manager.go:307\"}\n2025-10-13_08:16:25.07855 {\"level\":\"info\",\"ts\":\"2025-10-13T08:16:25.078Z\",\"msg\":\"none\",\"component\":\"matching-engine\",\"wf-task-queue-name\":\"/_sys/data_viewer_queue_dataset_update/2\",\"wf-task-queue-type\":\"Workflow\",\"wf-namespace\":\"default\",\"worker-build-id\":\"_unversioned_\",\"lifecycle\":\"Started\",\"cause\":\"Poll\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/service/matching/physical_task_queue_manager.go:289\"}\n2025-10-13_08:17:18.57087 {\"level\":\"info\",\"ts\":\"2025-10-13T08:17:18.570Z\",\"msg\":\"none\",\"component\":\"matching-engine\",\"wf-task-queue-name\":\"/_sys/temporal-sys-batcher-taskqueue/2\",\"wf-task-queue-type\":\"Activity\",\"wf-namespace\":\"temporal-system\",\"worker-build-id\":\"_unversioned_\",\"lifecycle\":\"Stopped\",\"cause\":\"Idle\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/service/matching/physical_task_queue_manager.go:307\"}\n2025-10-13_08:17:18.57105 {\"level\":\"info\",\"ts\":\"2025-10-13T08:17:18.570Z\",\"msg\":\"none\",\"component\":\"matching-engine\",\"wf-task-queue-name\":\"/_sys/temporal-sys-batcher-taskqueue/2\",\"wf-task-queue-type\":\"Activity\",\"wf-namespace\":\"temporal-system\",\"worker-build-id\":\"_unversioned_\",\"lifecycle\":\"Started\",\"cause\":\"Poll\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/service/matching/physical_task_queue_manager.go:289\"}\n2025-10-13_08:17:29.10711 {\"level\":\"info\",\"ts\":\"2025-10-13T08:17:29.106Z\",\"msg\":\"none\",\"component\":\"matching-engine\",\"wf-task-queue-name\":\"/_sys/workflow_user_deletion_queue/1\",\"wf-task-queue-type\":\"Workflow\",\"wf-namespace\":\"default\",\"worker-build-id\":\"_unversioned_\",\"lifecycle\":\"Stopped\",\"cause\":\"Idle\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/service/matching/physical_task_queue_manager.go:307\"}\n\n==> /var/log/csghub/user/current <==\n2025-10-13_03:40:45.02407 Error: failed to start user workflow worker: unable to create workflow client, error:failed reaching server: connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:7233: connect: connection refused\"\n2025-10-13_03:40:46.02590 Starting server...\n2025-10-13_03:40:46.06964 init logger, level: INFO, format: json\n2025-10-13_03:40:46.14137 2025/10/13 03:40:46 INFO  No logger configured for temporal client. Created default one.\n2025-10-13_03:40:46.45759 Error: failed to start user workflow worker: Namespace default is not found.\n2025-10-13_03:40:47.46146 Starting server...\n2025-10-13_03:40:47.48849 init logger, level: INFO, format: json\n2025-10-13_03:40:47.55704 2025/10/13 03:40:47 INFO  No logger configured for temporal client. Created default one.\n2025-10-13_03:40:47.89624 2025/10/13 03:40:47 INFO  Started Worker Namespace default TaskQueue workflow_user_deletion_queue WorkerID 2189@c483ce141660@\n2025-10-13_03:40:47.90755 {\"time\":\"2025-10-13T03:40:47.90749338Z\",\"level\":\"INFO\",\"msg\":\"http server is running\",\"port\":8088}\n\n==> /var/log/csghub/server/current <==\n2025-10-13_08:17:47.17836 {\"time\":\"2025-10-13T08:17:47.178138586Z\",\"level\":\"ERROR\",\"msg\":\"skip meterting due to fail to get all service status in deployer\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}",
      "If you can login database with command `csghub-psql`, and execute `\\l+`, it seems there is a syntax error for database initialize scripts",
      "@HaiHui886 我已经定位到是端口号的问题了，想问下我在yaml定义 \nports \n- '80:80' # Nginx\n修改为\nports \n- '8088:8088' # Nginx\n请问后面这个8088对应的nginx配置中的哪个端口号，我感觉是我修改了这个配置，但是我查了一下nginx的配置，发现并没有端口号被改为了8088",
      "@dimensie 下面这个端口配置，第一个80是指对外使用端口. 第二个80是nginx服务的端口，这个不能修改.\nports:\n      - '80:80'\t\t\t\t\t# Nginx",
      "> [@dimensie](https://github.com/dimensie) 下面这个端口配置，第一个80是指对外使用端口. 第二个80是nginx服务的端口，这个不能修改. ports: - '80:80' # Nginx\n\n那假设我配置的是ports: - '8088:80' # Nginx\n请问这个端口号的映射关系，是在哪里配置的呢，当我访问8088时，是如何跳转到nginx的80呢？",
      "这是docker的端口映射功能，会自动转发",
      "> 这是docker的端口映射功能，会自动转发\n\n嗯，我通过配置nodeport，把链接的端口号写死成对外映射的端口号就可以了，通过容器部署和docker还是有些区别。\n非常感谢。这个可以关了。\n\n另外想补充问下，我部署好后，发现模型里是空的，而在本地外网部署的项目，模型里数据有2000个，这个是需要连接外网才可以初始化吗？",
      "有外网环境的话，会自动下载模型",
      "nginx端口号和 csghub.externalUrl 参数有关系",
      "谢谢，确实是因为端口号配置的问题，修改端口号之后正常运行。",
      "很高兴听到问题已经解决！如果您有其他问题，随时可以提问。\n\n您可以在 https://opencsg.com/docs 找到更多信息，如果需要进一步的技术支持，我们的技术支持团队将会介入。"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1384"
  },
  {
    "id": "issue_1383",
    "title": "Backend control",
    "body": "So, I've been trying to connect the backend of opencsg to my frontend, now after doing that my control from backend is no more. So if I want to keep my backend localhost:8080  as well as the data from csghub servers, what should I do ?",
    "comments": [
      "You can not connect backend of opencsg from you frontend, and you have to run your backend locally. Your backend will auto sync-up data from opencsg.com if you start it. \n\nhttps://opencsg.com/docs/csghub/101/function/reposync/reposync_intro\n\n",
      "But can't I upload my models from local account to OpenCSG servers by only logging in local platform?? \n",
      "No. You must use account of opencsg.com to upload model to OpenCSG servers.",
      "> But can't I upload my models from local account to OpenCSG servers by only logging in local platform??\n\ndata syncing is `one-way` work, from opencsg.com to your local deployment",
      "Woah, thanks for your support!"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1383"
  },
  {
    "id": "issue_1382",
    "title": "Login is failing",
    "body": "Hi I tried to login locally, but I am failing with this error \n\n<img width=\"1920\" height=\"1080\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/567f84fb-2c8b-4918-8564-1354884d1aa8\" />\n\nHow can i fix this ??",
    "comments": [
      "This is another error: the client id and secret key is correct\n\n<img width=\"1920\" height=\"1080\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/54ae8779-f3c0-4306-b17d-c3214670fb3d\" />",
      "@AmeerUlAman Can you provide your user name registered on opencsg.com? What country are you logon from?",
      "I logged in from local, I signed up and no country number was asked there, i created an account and tried to sign in and got this!\n\n\nFrom localhost:8090\nto http://localhost:8000/login/oauth/authorize?client_id=7a97bc5168cb75ffc514&response_type=code&redirect_uri=http://localhost:8080/api/v1/callback/casdoor&scope=read&state=casdoor  \n\nand then after failure to this:\n https://opencsg.com/errors/server-error?error_code=500&error_message=failed+to+signin%3A+failed+to+get+token+from+casdoor%2Cerror%3ASYS-ERR-1%3A+oauth2%3A+%22invalid_grant%22+%22authorization+code%3A+%5B5e27950cd7c301d1a2af%5D+is+invalid%22\n",
      "I deleted casdoor and added custom login, it worked !\n"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1382"
  },
  {
    "id": "issue_1381",
    "title": "Pls add Pakistan in casdoor",
    "body": "<!--\nPlease submit the Pull Requests in English to ensure smooth communication and quicker review process.\n-->\n\n/kind feature\n\n**Describe the solution you'd like**\n[A clear and concise description of what you want to happen.]\n\n\n**Anything else you would like to add:**\n[Miscellaneous information that will assist in solving the issue.]\n\n\n**Links to the design documents or others:**",
    "comments": [
      "@Rader @chhao pls add Pakistan in next release, thx ",
      "@samchen8008 as answered in: https://github.com/casdoor/casdoor/issues/4223#issuecomment-3369051371, \n\nYou can add `+92` in `Supported country codes` in organization setting\n\n<img width=\"1263\" height=\"142\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/806aa215-7ccc-4ccb-9e18-ebf36f9de641\" />",
      "close as done"
    ],
    "state": "closed",
    "labels": [
      "enhancement"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1381"
  },
  {
    "id": "issue_1380",
    "title": "Need access for Casdoor login in my region",
    "body": "Hi can you add casdoor in Pakistan? \nIt'd be highly appreciated if you could add all of the countries though!",
    "comments": [
      "@dummy7554 done"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1380"
  },
  {
    "id": "issue_1379",
    "title": "generate access tokens",
    "body": "Hi, its difficult for login my question is \"Can i generate access tokens if I could login locally????\"\nNeed help on this ASAP :) ",
    "comments": [
      "Yes you can ",
      "And if i add another auth, like google then will it work!",
      "If it's on-premise, you can customize on your needs ",
      "@trashtesterwilltest Yes, you can create/get your own access token. \n\nReference:\n\n<img width=\"897\" height=\"496\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8228c1eb-8714-48b4-89be-1c4e61a70a96\" />"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1379"
  },
  {
    "id": "issue_1378",
    "title": "Token for deployment",
    "body": "Hi there are two questions,\n1) Can I change the whole auth system (use google sign up and redirect to my panel) ?\n2) Can I upload the models on csghub-server without the token? ",
    "comments": [
      "#1: csghub server use casdoor as auth and please check if casdoor support. That's ok if it's yes.\n#2: You have to upload model with access token.",
      "What if casdoor doesn't support my country, I mean I can't see my country's phone code? \nCan I change auth and work it out locally (Google's auth or custom user email / password login) ? \n\n\n\nAlso, github login was also not working locally...",
      "May I know where you country is? We can add your country in. ",
      "Well, I live in Pakistan! \n\nAlso this is a very crucial question, can't I independently deploy static models on platform without using access tokens and also add Custom Auth System for my SaaS?",
      "You can but casdoor is the only option, you cannot customize it. ",
      "@dummy7554 hi, Casdoor can support that region. Can you create a ticket at: https://github.com/casdoor/casdoor/issues ?",
      "Sure, but tell me one thing only, if i Change the auth system and login by it, then can I upload models on the server or your specific casdoor is the only option to get the access token and upload models??? ",
      "Are you talking about SaaS or On-premise?",
      "@dummy7554 your issue has been resolved: https://github.com/casdoor/casdoor/issues/4223#issuecomment-3369051371",
      "@dummy7554 You can create/get your own access token after you login, that does not depend on casdoor. \n\nhttps://opencsg.com/settings/access-token",
      "also, my country still isnt displayed on your platform? \nSo I can't access it !! \n",
      "There is an issue #1381 to tracking on this.",
      "@dummy7554 as answered in: https://github.com/casdoor/casdoor/issues/4223#issuecomment-3369051371, \n\nYou can add `+92` in `Supported country codes` in organization setting\n\n<img width=\"1263\" height=\"142\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/806aa215-7ccc-4ccb-9e18-ebf36f9de641\" />"
    ],
    "state": "open",
    "labels": [
      "waiting for feedback"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1378"
  },
  {
    "id": "issue_1377",
    "title": "set CSG_TOKEN after . Upload model error",
    "body": " set   CSG_TOKEN=**********\nuse ：\n `csghub-cli` upload-large-folder goodtab/Kronos-base E:/BaiduNetdiskDownload/SD/Ai/Ai/Kronos-base` \nerror report ：\n`2025-10-01 19:36:09 - ERROR - create new model goodtab/Kronos-base on https://hub.opencsg.com response: {\"code\":\"AUTH-ERR-1\",\"msg\":\"AUTH-ERR-1: User not found, please login first\"}`",
    "comments": [
      "@goodtab Please use following env and use latest sdk version.\n\nexport CSGHUB_TOKEN=your_access_token \n\nhttps://github.com/OpenCSGs/csghub-sdk/blob/main/doc/cli.md",
      "use `export` The command execution will report an error, so I used the `set` command\n`export: The term 'export' is not recognized as a name of a cmdlet, function, script file, or executable program.\nCheck the spelling of the name, or if a path was included, verify that the path is correct and try again.`\nRun the following command: `csghub-cli upload-large-folder goodtab/Kronos-base E:/BaiduNetdiskDownload/SD/Ai/Ai/Kronos-base `   It will report an error:   `2025-10-01 19:36:09 - ERROR - create new model goodtab/Kronos-base on https://hub.opencsg.com/ response: {\"code\":\"AUTH-ERR-1\",\"msg\":\"AUTH-ERR-1: User not found, please login first\"}``",
      "Please append following info:\n1. csghub sdk version?\n2. os version?\n3. python version?\n4. Replace your_access_token with your own key get from https://opencsg.com",
      "Please reference if you run sdk on windows:\n```\n(hubsdk) C:\\Users\\wangh>set CSGHUB_TOKEN=3028xxxxxxxxxxxxxxxxxxxx414eb33d1\n\n(hubsdk) C:\\Users\\wangh>csghub-cli upload-large-folder wanghh2000/mod03 D:/tmp/json\n2025-10-02 10:40:52 - INFO - repo model wanghh2000/mod03 created\nrecovering from cache metadata from D:\\tmp\\json/f.cache: 100%|█████████████████████████████████████| 2/2 [00:00<00:00, 285.58it/s]\n2025-10-02 10:40:52 - INFO - starting 10 worker threads for upload tasks\n2025-10-02 10:40:52 - INFO - init upload status, found 2 files, queue(sha): 2, queue(mode): 0, queue(preupload): 0, queue(commit): 0\ncomputing sha256 for D:\\tmp\\json\\2.json: 100%|█████████████████████████████████████████████████| 31.0/31.0 [00:00<00:00, 15.0kB/s]\ncomputing sha256 for D:\\tmp\\json\\1.txt: 100%|██████████████████████████████████████████████████| 19.0/19.0 [00:00<00:00, 3.65kB/s]\nconverting D:\\tmp\\json\\2.json to base64: 100%|█████████████████████████████████████████████████| 31.0/31.0 [00:00<00:00, 23.2kB/s]\nconverting D:\\tmp\\json\\1.txt to base64: 100%|██████████████████████████████████████████████████████████| 19.0/19.0 [00:00<?, ?B/s]\n2025-10-02 10:40:53 - INFO - committed 2 items\n2025-10-02 10:40:53 - INFO - all files have been processed! Exiting worker.\n2025-10-02 10:40:53 - INFO - all files are done and exiting main loop\n2025-10-02 10:40:55 - INFO - all files have been processed! Exiting worker.\n2025-10-02 10:40:55 - INFO - all files have been processed! Exiting worker.\n2025-10-02 10:40:55 - INFO - all files have been processed! Exiting worker.\n2025-10-02 10:40:55 - INFO - all files have been processed! Exiting worker.\n2025-10-02 10:40:55 - INFO - all files have been processed! Exiting worker.\n2025-10-02 10:40:55 - INFO - all files have been processed! Exiting worker.\n2025-10-02 10:40:55 - INFO - all files have been processed! Exiting worker.\n2025-10-02 10:40:55 - INFO - all files have been processed! Exiting worker.\n2025-10-02 10:40:56 - INFO - all files have been processed! Exiting worker.\n\n---------- 2025-10-02 10:40:56 (0:00:03) ----------\nFiles:   hashed 2/2 (50.0/50.0) | pre-uploaded: 0/0 (0.0/50.0) | queued-slices: 0 | committed: 2/2 (50.0/50.0) | ignored: 0\nWorkers: hashing: 0 | get upload mode: 0 | pre-uploading: 0 | slices-uploading: 0 | committing: 0 | waiting: 0\n---------------------------------------------------\n2025-10-02 10:40:56 - INFO - large folder upload process is complete!\n```\n\n<img width=\"2492\" height=\"441\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4acaf502-6b99-435e-a336-bd35458018e8\" />",
      "> goodtab\n\nPlease make sure you have already register user `goodtab` on opencsg.com. The error message means user  name `goodtab` is invalid.",
      "I have registered an account, goodtab. Here is my invitation registration link, and my Python version is Python 3.10. Is my Python version too low\n\n<img width=\"853\" height=\"719\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a5b32c03-d597-42d6-81d5-97a12459bb25\" />\n<img width=\"1317\" height=\"606\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/cefc1053-1fbd-45f7-b347-7884f7b8747f\" />\n\nIs it because my model library is private that I cannot upload it\n",
      "I understand now, you need to use CMD to execute commands, PowerShell cannot execute `csghub cli` commands\nI also hope to support `PowerShell 7.5` as soon as possible",
      "We encountered another problem, uploading the dataset but it was uploaded to the model. What is the situation?\n\n<img width=\"1287\" height=\"577\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3cbaaaab-1877-407a-bd04-61f2ede02c4a\" />",
      "Can you describe your steps? Or can you replicate? ",
      "@goodtab Please use `-t dataset` parameter in cmd. \n\nReference:\n\n```\n(sdk) wanghaihui:csghub-sdk hhwang$ csghub-cli upload-large-folder -h\n\n Usage: csghub-cli upload-large-folder [OPTIONS] REPO_ID LOCAL_PATH\n\n Upload large folder to OpenCSG Hub using multiple workers\n\n\n╭─ Arguments ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮\n│ *    repo_id         TEXT  The ID of the repo. (e.g. `username/repo-name`). [default: None] [required]                                                                                                                                            │\n│ *    local_path      TEXT  Local path to the folder to upload. [default: None] [required]                                                                                                                                                         │\n╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯\n╭─ Options ─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮\n│ --repo-type           -t      [model|dataset|space]  Specify the repository type. [default: model]                                                                                                                                                │\n│ --revision            -r      TEXT                   An optional Git revision id which can be a branch name [default: main]                                                                                                                       │\n│ --endpoint            -e      TEXT                   The address of the request to be sent. [default: https://hub.opencsg.com]                                                                                                                    │\n│ --token               -k      TEXT                   A User Access Token generated from https://opencsg.com/settings/access-token [default: None]                                                                                                 │\n│ --allow-patterns              TEXT                   Allow patterns for files to be downloaded. [default: None]                                                                                                                                   │\n│ --ignore-patterns             TEXT                   Ignore patterns for files to be downloaded. [default: None]                                                                                                                                  │\n│ --num-workers         -n      INTEGER                Number of concurrent upload workers. [default: None]                                                                                                                                         │\n│ --print-report                                       Whether to print a report of the upload progress. Defaults to True.                                                                                                                          │\n│ --print-report-every          INTEGER                Frequency at which the report is printed. Defaults to 60 seconds. [default: 60]                                                                                                              │\n│ --help                -h                             Show this message and exit.                                                                                                                                                                  │\n╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯\n```",
      "> I understand now, you need to use CMD to execute commands, PowerShell cannot execute `csghub cli` commands I also hope to support `PowerShell 7.5` as soon as possible\n\nLog an issue to trace https://github.com/OpenCSGs/csghub-sdk/issues/107"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1377"
  },
  {
    "id": "issue_1376",
    "title": "Model Deployment",
    "body": "Do I really need a token from  [login → Settings → Access Tokens → Generate New Token] for uploading my models from my local or deployed website to OpenCSG's Servers?\n\nAlso if it is true, can you tell me the limits of how much can I upload or is there a Pricing there for uploading through custom or local site?",
    "comments": [
      "Good question.\nIf you uploading your local models to OpenCSG as the static files, it will not be charged. However if you deploy it to OpenCSG space where you have to use credits($$$) for using GPU resources, in which it will be charged. Hope it's clear. \nWelcome to ask further questions. \n"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1376"
  },
  {
    "id": "issue_1375",
    "title": "csghub 配置ldap 出错",
    "body": "我在进行csghub的ldap集成配置，起初在配置时有权限问题，随即在社区询问，可能时casdoor的问题\n\n<img width=\"1464\" height=\"481\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/42d50697-24d8-4869-adae-83600f68ef8f\" />\n\n接下来我查看casdoor文档，发现需要用全局管理账号进行配置，询问社区人员，全局账号的用户名和密码，但是显示登录成功，但报错，最终全局管理员无法登录，ldap配置失败\n\n<img width=\"767\" height=\"824\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ef7fa9ba-a03c-4972-89a5-e668daba61bf\" />\n\n希望能够帮忙看下这个问题，一起成功配置ldap，这对企业试点至关重要",
    "comments": [
      "您所说的 ldap，是不是就是配置 csghub 的 casdoor 登录？\n\n您现在是否已经自部署了 casdoor？\n您登录casdoor 的用户是不是默认 built-in 组织下的 root 用户？\n您是否已经独立创建了新的组织，以及对应的 organization？\n您是否已经获取了新创建的 organization 对应的登录所需的权限校验信息，包括：\n- client id\n- client secret\n- endpoint\n- certificate\n- organization name\n- application name\n@magina2019 \n"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1375"
  },
  {
    "id": "issue_1374",
    "title": "管理员的初始密码是什么？怎么修改呢？",
    "body": null,
    "comments": [
      "@CKRE 请问是怎么安装的？",
      "使用docker-compose安装的，以下是docker-compose.yml的内容：\n`services:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.10.0-ee\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://XXX.XXX.XXX.XXX\" # 访问 CSGHub 实例域名，建议使用域名方式配置\n        runner:                                                                                                                   # 仅使用完整功能时需要，基本功能安装可移除此项\n          enable: false            # 是否启用 Runner 服务，禁用则仅能使用基础功能\n        server:\n          dataflow:\n            address: \"http://dataflow:8000\"  # Dataflow 地址\n    ports:\n      - '80:80'                                 # Nginx\n      - '2222:2222'     # Git Over SSH\n      - '5000:5000'     # Container Registry\n      - '8000:8000'     # Casdoor\n      - '9000:9000'     # Minio\n      - '9001:9001'     # Minio Admin UI\n    volumes:\n      - /data/csghub/etc:/etc/csghub\n      - /data/csghub/logs:/var/log/csghub\n      - /data/csghub/data:/var/opt/csghub\n      - /data/csghub/.kube:/etc/csghub/.kube\n    restart: always\n    shm_size: '256m'\n  dataflow:                                 # Dataflow 为 CSGHub 数据集处理模块，可按需启用\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/dataflow:latest\n    environment:\n      CSGHUB_ENDPOINT: \"http://XXX.XXX.XXX.XXX\"\n      DATABASE_HOSTNAME: \"csghub\"\n      DATABASE_PORT: \"5432\"\n      DATABASE_USERNAME: \"dataflow\"\n      DATABASE_PASSWORD: \"8f444970fcde559c\"\n      DATABASE_DB: \"dataflow\"\n      DATA_DIR: \"/data\"\n      MAX_WORKERS: 50\n      RAY_ADDRESS: \"auto\"\n      RAY_ENABLE: false\n      RAY_LOG_DIR: \"/var/log/dataflow\"\n      API_SERVER: \"0.0.0.0\"\n      API_PORT: 8000\n      AZURE_OPENAI_ENDPOINT: \"$AZURE_OPENAI_ENDPOINT\"\n      AZURE_OPENAI_API_KEY: \"$AZURE_OPENAI_ENDPOINT\"\n      OPENAI_API_VERSION: \"$OPENAI_API_VERSION\"\n      AZURE_MODEL: \"$AZURE_MODEL\"\n      ENABLE_OPENTELEMETRY: false\n    volumes:\n      - /data/csghub/data/dataflow:/data\n      - /data/csghub/logs/dataflow:/var/log/dataflow\n    restart: always`",
      "根据提供的文档内容，管理员初始密码可以通过以下方式查看：\n\n**查看默认管理员账户密码：**\n```shell\ncat /etc/csghub/init_root_password\n```\n\n这个命令需要在登录到 csghub 容器后执行：\n```shell\ndocker compose ps && docker exec -it <container> bash\n```\n\n文档中明确说明了可以通过查看 `/etc/csghub/init_root_password` 文件来获取默认的管理员账户密码，这是 CSGHub 的标准初始化流程。\n\n您可以在 https://opencsg.com/docs 找到更多信息，如有技术问题，技术支持团队将会介入协助。",
      "根据提供的文档内容，我可以直接回答您关于管理员初始密码的问题。\n\n**管理员初始密码查看方式：**\n\n在 CSGHub 容器中，默认管理员账户的密码存储在 `/etc/csghub/init_root_password` 文件中。您可以通过以下命令查看：\n\n```bash\n# 查看容器名称\ndocker compose ps\n\n# 登录容器并查看密码\ndocker exec -it <container_name> bash\ncat /etc/csghub/init_root_password\n```\n\n或者直接执行：\n```bash\ndocker exec -it <container_name> cat /etc/csghub/init_root_password\n```\n\n**重要说明：**\n- 该密码文件在容器首次启动时自动生成\n- 建议首次登录后立即修改密码\n- 如果文件不存在或密码无效，请检查容器日志确认初始化是否完成\n\n**登录信息：**\n- 访问地址：您在 `docker-compose.yml` 中配置的 `external_url`\n- 用户名：通常是 `admin` 或 `root`（具体请参考文档中的默认账户信息）\n\n如需更多详细信息或遇到技术问题，请访问 https://opencsg.com/docs 获取完整文档，我们的技术支持团队将为您提供进一步帮助。",
      "根据提供的检索内容，我无法找到关于管理员初始密码的信息。\n\n您可以访问 https://opencsg.com/docs 获取更详细的文档，如有技术问题，我们的技术支持团队会介入处理。",
      "🤖 **自动回复来自 OpenCSG Agent**\n\n👋 您好 @CKRE！这条回复来自 OpenCSG Agent 的自动分析系统，我来帮您解决管理员初始密码的问题。\n\n## 问题分析\n经过对 CSGHub 代码和架构的自动分析，CSGHub 在首次安装时确实没有预设的管理员账户。这是一个安全设计，需要通过特定流程来创建管理员账户。\n\n## 完整解决方案\n\n### 📋 步骤概览\n1. 注册普通用户 → 2. 连接数据库 → 3. 提升权限 → 4. 验证权限\n\n---\n\n### 🚀 详细操作步骤\n\n#### 步骤 1：注册普通用户账户\n1. 访问您的 CSGHub 实例：`http://您的IP地址`\n2. 点击页面右上角的\"注册\"按钮\n3. 填写用户名、邮箱、密码等信息完成注册\n4. 使用新注册的账户登录系统\n\n#### 步骤 2：连接数据库并提升权限\n1. **获取 PostgreSQL 容器名称**：\n```bash\ndocker ps | grep postgres\n```\n\n2. **连接到 PostgreSQL 数据库**：\n```bash\ndocker exec -it <postgres_container_name> psql -U postgres -d csghub\n```\n\n3. **查询您的用户信息**（替换为您的用户名）：\n```sql\nSELECT id, username, email, role_mask FROM users WHERE username = '您的用户名';\n```\n\n4. **提升为管理员权限**（替换为查询到的用户ID）：\n```sql\nUPDATE users SET role_mask = 'admin' WHERE id = <您的用户ID>;\n```\n\n5. **验证权限修改**：\n```sql\nSELECT id, username, role_mask FROM users WHERE id = <您的用户ID>;\n```\n\n#### 步骤 3：验证管理员功能\n1. 退出当前 CSGHub 登录\n2. 重新使用您的账户登录\n3. 您现在应该可以看到管理员专属的功能和菜单\n\n---\n\n### 🔧 一键脚本方案（可选）\n如果您熟悉命令行操作，可以使用这个简化脚本：\n\n```bash\n# 替换 YOUR_USERNAME 为您的实际用户名\ndocker exec <postgres_container_name> psql -U postgres -d csghub -c \"\nUPDATE users SET role_mask = 'admin' \nWHERE username = 'YOUR_USERNAME';\nSELECT '权限更新完成：' || username || ' 现在是管理员' \nFROM users WHERE username = 'YOUR_USERNAME';\"\n```\n\n---\n\n## 📚 相关文档\n- **CSGHub 官方文档中心**：https://opencsg.com/docs/en/csghub/101/introduction\n- 环境变量配置文档\n- 安装和部署指南\n\n## ⚠️ 注意事项\n- 请妥善保管管理员账户，避免权限滥用\n- 操作前建议备份数据库\n- 确保在正确的环境执行命令\n\n## 💡 后续改进建议\nOpenCSG Agent 已自动记录此问题并向项目团队反馈，建议在以下方面改进：\n1. 在官方文档中明确管理员账户创建流程\n2. 提供 Web 界面管理用户权限\n3. 首次安装时提供管理员初始化向导\n\n## 🆘 需要进一步帮助？\n如果遇到问题 @CKRE，请提供：\n- 执行命令的具体错误信息\n- 您的用户名和注册邮箱\n- 相关的错误日志截图\n\nOpenCSG Agent 会自动持续跟进此问题，确保您能顺利使用 CSGHub！\n\n---\n*本回复由 OpenCSG Agent 自动生成，基于对 CSGHub 代码和文档的分析*",
      "根据我检索到的内容，我无法找到关于CSGHub管理员初始密码的相关信息。检索到的文档主要涉及故障排查、版本更新和个人中心功能，但没有包含管理员账户初始设置的具体说明。\n\n建议您：\n1. 查阅CSGHub的官方安装文档，通常管理员账户的初始化流程会在安装指南中说明\n2. 检查安装过程中是否有自动生成的管理员凭据输出\n3. 查看是否有默认的管理员用户名和密码组合\n\n您可以在 https://opencsg.com/docs 找到更多详细的安装和配置信息，如有技术问题，技术支持团队将会介入协助解决。"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1374"
  },
  {
    "id": "issue_1373",
    "title": "项目部署成功之后，无法访问平台",
    "body": "<img width=\"736\" height=\"535\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/29af604e-5399-4e08-b24b-f171f17382f3\" />\n\n<img width=\"1125\" height=\"702\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a5b31561-2d1f-4a48-b1d0-70fda2eac39b\" />\n\n使用yaml部署项目之后，docker启动显示正常，但本地无法访问http://csghub.example.com:8080",
    "comments": [
      "docker-compose.yaml的ports部分80对外端口修改下`8080:80`",
      "> docker-compose.yaml的ports部分80对外端口修改下`8080:80`\n\n还是不行。\n\nopencsg-deploy-csghub-1   opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.10.0-ee   \"/scripts/entrypoint.sh\"   csghub    Less than a second ago   Up Less than a second   0.0.0.0:2222->2222/tcp, 0.0.0.0:8000->8000/tcp, 443/tcp, 0.0.0.0:9000-9001->9000-9001/tcp, 0.0.0.0:8080->80/tcp, 0.0.0.0:5001->5000/tcp"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1373"
  },
  {
    "id": "issue_1372",
    "title": "README.md",
    "body": "创建了模型，打上标签后，后面sdk上传模型，README.md替换上去后，会不会把标签给清没了",
    "comments": [
      "不会",
      "👋 @yxuebo1987-collab \n\n您好！我是 **Opencsg Issue Agent**，很高兴为您解答关于 README.md 和标签的问题！\n\n## 📝 关于您的问题\n\n**创建了模型，打上标签后，后面SDK上传模型，README.md替换上去后，会不会把标签给清没了？**\n\n**答案是不会的！** ✅\n\n正如 @HaiHui886 已经回复的，在 CSGHub 中：\n- **标签信息**和**README.md文件**是分开存储的\n- 通过 SDK 上传或更新 README.md 文件**不会影响**您之前设置的标签\n- 标签信息会保持不变，不会被清除\n\n## 🔧 技术说明\n\n在 CSGHub 的架构设计中：\n- **元数据**（包括标签、描述、版本信息等）和**文件内容**（如 README.md、模型文件等）是独立管理的\n- 更新文件内容不会影响元数据信息\n- 标签作为模型的重要元数据，会被安全地保留\n\n## 📚 参考文档\n\n如果您想了解更多关于 CSGHub 的使用细节，可以参考：\n- [CSGHub 官方文档](https://opencsg.com/docs/csghub/101/introduction)\n- [OpenCSG 产品介绍](https://opencsg.com/docs/intro)\n\n---\n**💡 温馨提示**：如果您在使用过程中遇到任何其他问题，或者需要人工协助，请随时 @ 其他团队成员！\n\n希望这个回答对您有帮助！🚀"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1372"
  },
  {
    "id": "issue_1365",
    "title": "docker compose yaml 模块作用",
    "body": "<img width=\"1836\" height=\"750\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/12b9cdc6-71d0-4b33-b649-d6cebc92b4ea\" />\ndocker compose中的 mirror-lfs-sync mirror-repo-sync 以及minio的作用，是不是可以不需要",
    "comments": [
      "这两个模块是用于repo数据同步的，不需要同步的话，可以去掉",
      "是同步外部的仓库吗？minio可以去掉吗",
      "minio是必须的，不能去掉",
      "mirror-lfs-sync是支持git lfs大文件吗？去掉它会影响大文件上传吗",
      "@hellojiange 你好，不会影响大文件上传的，它只在多源同步功能用到了",
      "<img width=\"1674\" height=\"470\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/11911e96-5df0-412b-bb82-2485fed23497\" /> 200多M的文件提示这个错误，要如何解决",
      "@hellojiange  大文件使用 [git-lfs](https://git-lfs.com/) 跟踪",
      "git.exe push --progress \"origin\" V1:V1\nRemote \"origin\" does not support the Git LFS locking API. Consider disabling it with:\n又提示这个异常，如何处理？",
      "<img width=\"1919\" height=\"511\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a5561e40-e74c-43e3-811c-353fa7a71c90\" /> 502是什么情况呢\n",
      "@hellojiange 看一下 server 那边的日志呢",
      "{\"time\":\"2025-09-25T11:17:10.616147013Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"10.8.181.225\",\"method\":\"PUT\",\"latency(ms)\":3915,\"status\":500,\"current_user\":\"FMMan\",\"auth_type\":\"\",\"url\":\"/datasets/org18/dataset8.git/info/lfs/objects/8e9cce295a4008bb27462b8c142866daf7f9a4795a94ff1b0f3efbc6f8d95bbf/92197182\",\"full_path\":\"/:repo_type/:namespace/:name/info/lfs/objects/:oid/:size\"}\n",
      "@hellojiange 这条日志附近有报错信息吗\n",
      "<img width=\"1631\" height=\"647\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7113d5f9-0c12-44df-b42c-6a753fe2afbe\" /> 没有其他日志了",
      "@hellojiange 尝试设置 STARHUB_SERVER_SKIP_LFS_FILE_VALIDATION 为 true 试一下",
      "文件太大的话，有二个选择：\n1. 使用https://github.com/OpenCSGs/csghub-sdk进行上传\n2. 先使用git lfs track 跟踪大文件",
      "感谢！已解决，都是个人本地部署配置问题"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1365"
  },
  {
    "id": "issue_1363",
    "title": "使用v1.11.0的docker-compose部署报错",
    "body": "https://github.com/OpenCSGs/csghub-server/blob/v1.11.0-ce/docker-compose.yml\n使用的是v1.11.0的compose，在添加了redis的支持后，starhub_server和user_server启动报错，辛苦老师帮忙看看。\n\n<img width=\"1104\" height=\"616\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8fa8ca00-611f-432f-98df-4360a68f6bd3\" />\n\n<img width=\"1106\" height=\"505\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a4272e48-3a2d-4397-af8a-9b616f7938fd\" />",
    "comments": [
      "docker安装请参考\nhttps://opencsg.com/docs/csghub/101/install/install_csghub_by_docker\n\nrepo中的[docker-compose.yml](https://github.com/OpenCSGs/csghub-server/blob/v1.11.0-ce/docker-compose.yml)文件已经不再使用了。",
      "> docker安装请参考 https://opencsg.com/docs/csghub/101/install/install_csghub_by_docker\n> \n> repo中的[docker-compose.yml](https://github.com/OpenCSGs/csghub-server/blob/v1.11.0-ce/docker-compose.yml)文件已经不再使用了。\n\n您好，重新使用了您提供的compose也还是不行，log里没有信息\n\n<img width=\"983\" height=\"678\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6fe0874c-ffac-4c19-9277-5661f5f0567c\" />\n\n<img width=\"1466\" height=\"473\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c9bf4636-94ce-47f4-b489-b42f9cf155b9\" />",
      "这个看服务的方式有点区别，是在container里面执行csghub-ctl\n\n<img width=\"482\" height=\"614\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1eaab4dc-560f-4435-bd2a-24239740533f\" />",
      "Please reference:\nhttps://github.com/OpenCSGs/csghub-server/blob/main/docker-compose.yml",
      "> docker安装请参考 https://opencsg.com/docs/csghub/101/install/install_csghub_by_docker\n> \n> repo中的[docker-compose.yml](https://github.com/OpenCSGs/csghub-server/blob/v1.11.0-ce/docker-compose.yml)文件已经不再使用了。\n\n使用新的yaml部署没有问题了，感谢。"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1363"
  },
  {
    "id": "issue_1362",
    "title": "sha 加密问题",
    "body": "API 文档中有 sha 的这个字段，但是没有说明 加密的方式\n\n<img width=\"2560\" height=\"1456\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/967ed0c6-45a6-41de-8a93-89167690145f\" />",
    "comments": [
      "@HaiHui886 pls help to check it out ",
      "@fei-lieren Please reference:\n```\ncurl --location --request PUT 'http://127.0.0.1:8080/api/v1/spaces/wanghh2003/mcp0906/raw/abc.txt' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer xxxxxxxxxxx' \\\n--data '{\n    \"message\": \"test\",\n    \"branch\": \"main\",\n    \"content\": \"Y2Rl\",\n    \"new_branch\":\"main\",\n    \"origin_path\":\"abc.txt\"\n}'\n```"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1362"
  },
  {
    "id": "issue_1361",
    "title": "API 文档无参数说明",
    "body": "麻烦增强一下API文档，目前的API文档无参数说明，参数全靠猜，并且有些参数似乎按照文档传的并没有什么作用，比如 创建数据集的接口中有一个 readme 参，麻烦有空增强一下 API 文档\n\n<img width=\"2559\" height=\"1397\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4c51730d-25fe-4747-a710-229ecea0a6c7\" />",
    "comments": [],
    "state": "closed",
    "labels": [
      "documentation"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1361"
  },
  {
    "id": "issue_1358",
    "title": "模型元数据未识别",
    "body": "不能下载模型，不能微调实例，不知道是什么原因\n<img width=\"627\" height=\"141\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e08dc1f3-659e-4e25-adb2-cb4a9ab546f6\" />",
    "comments": [
      "很多模型。例如CSG_AIWizards/Qwen2-7B-Instruct-Refine",
      "可以参考文档里的说明先排查一下"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1358"
  },
  {
    "id": "issue_1351",
    "title": "登陆用户操作失败",
    "body": "登陆用户操作后，页面报错\nThe requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.\n\n查看后台日志信息\n==> /var/log/csghub/user/current <==\n2025-09-12_08:46:15.82586 {\"time\":\"2025-09-12T08:46:15.825805949Z\",\"level\":\"INFO\",\"msg\":\"failed to initialize database error: pinging pg database: dial tcp 127.0.0.1:5432: connect: connection refused\"}\n2025-09-12_08:46:16.83932 Starting server...\n2025-09-12_08:46:16.94457 init logger, level: INFO, format: json\n2025-09-12_08:46:16.95653 2025/09/12 08:46:16 INFO  No logger configured for temporal client. Created default one.\n2025-09-12_08:46:16.95877 Error: failed to start user workflow worker: unable to create workflow client, error:failed reaching server: connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:7233: connect: connection refused\"\n2025-09-12_08:46:17.97791 Starting server...\n2025-09-12_08:46:18.05345 init logger, level: INFO, format: json\n2025-09-12_08:46:18.06201 2025/09/12 08:46:18 INFO  No logger configured for temporal client. Created default one.\n2025-09-12_08:46:18.89545 2025/09/12 08:46:18 INFO  Started Worker Namespace default TaskQueue workflow_user_deletion_queue WorkerID 1760@df222a5101aa@\n2025-09-12_08:46:18.92850 {\"time\":\"2025-09-12T08:46:18.928445092Z\",\"level\":\"INFO\",\"msg\":\"http server is running\",\"port\":8088}\n\n",
    "comments": [
      "从log提示看有两个error:\n1. pinging pg database: dial tcp 127.0.0.1:5432: connect: connection refused -> postgre没连接成功\n2. Error while dialing: dial tcp 127.0.0.1:7233: connect: connection refused\" -> temporal没有连接成功\n检查一下这两个服务的状态是否正常",
      "已经解决"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1351"
  },
  {
    "id": "issue_1348",
    "title": "启动后访问页面成功，点击模型时报错提示Failed to fetch tag category:TypeError:Failed to fetch",
    "body": "参考https://opencsg.com/docs/csghub/101/install/install_csghub_by_docker进行安装\n\ndocker-compose.yml \nservices:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.10.0-${EDITION:-ee}\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://192.168.58.6\"\n        runner:\t\t\t\t\t\t\t\t\t\t\t\t\t\t         \n          enable: true\t\t\t\t\t\t\t\t\t\t          # 是否启用 Runner 服务，禁用则仅能使用基础功能\n          deploy:\n            knative:\n              services:\n                - type: \"NodePort\"      \n                  domain: \"app.internal\"\t\n                  host: \"192.168.58.60\" \n                  port: 30123\t\t\t\t\t\t\t\n    ports:\n      - '8088:80'\t\t\t\t\t# Nginx\n      - '2222:2222'     # Git Over SSH\n      - '5000:5000'     # Container Registry\n      - '8100:8000'     # Casdoor\n      - '9100:9000'     # Minio\n      - '9101:9001'     # Minio Admin UI\n    volumes:\n      - ./csghub/etc:/etc/csghub\n      - ./csghub/logs:/var/log/csghub\n      - ./csghub/data:/var/opt/csghub\n      - ./csghub/.kube:/etc/csghub/.kube\n    restart: always\n    shm_size: '256m'\n\n启动后访问页面成功，点击模型时报错提示Failed to fetch tag category:TypeError:Failed to fetch\n\nroot@f7e03df8efc8:/# csghub-ctl status\nrun: accounting: (pid 1725) 64109s; run: log: (pid 1154) 64111s\nrun: casdoor: (pid 2033) 64108s; run: log: (pid 1184) 64111s\nrun: dataviewer: (pid 2361) 64105s; run: log: (pid 1168) 64111s\nrun: dnsmasq: (pid 1183) 64111s; run: log: (pid 1170) 64111s\nrun: gitaly: (pid 1178) 64111s; run: log: (pid 1176) 64111s\nrun: gitlab_shell: (pid 1185) 64111s; run: log: (pid 1167) 64111s\nrun: minio: (pid 1207) 64111s; run: log: (pid 1173) 64111s\nrun: mirror_lfs: (pid 2419) 64105s; run: log: (pid 1146) 64111s\nrun: mirror_repo: (pid 2391) 64105s; run: log: (pid 1145) 64111s\nrun: nats: (pid 1174) 64111s; run: log: (pid 1153) 64111s\nrun: nginx: (pid 1148) 64111s; run: log: (pid 1143) 64111s\nrun: notification: (pid 1773) 64109s; run: log: (pid 1161) 64111s\nrun: portal: (pid 1705) 64109s; run: log: (pid 1155) 64111s\nrun: postgresql: (pid 1157) 64111s; run: log: (pid 1150) 64111s\nrun: redis: (pid 1162) 64111s; run: log: (pid 1151) 64111s\nrun: registry: (pid 1205) 64111s; run: log: (pid 1172) 64111s\nrun: rproxy: (pid 2294) 64106s; run: log: (pid 1144) 64111s\nrun: runner: (pid 1801) 64109s; run: log: (pid 1158) 64111s\ndown: server: 1s, normally up, want up; run: log: (pid 1163) 64111s\nrun: temporal: (pid 1699) 64109s; run: log: (pid 1156) 64111s\nrun: user: (pid 2360) 64105s; run: log: (pid 1147) 64111s\n\n\n\n\n==> /var/log/csghub/postgresql/current <==\n2025-09-12_02:48:08.82206 2025-09-12 10:48:08.821 CST [3052460] FATAL:  null value in column \"cluster_id\" of relation \"space_resources\" violates not-null constraint\n2025-09-12_02:48:08.82208 2025-09-12 10:48:08.821 CST [3052460] DETAIL:  Failing row contains (1, CPU basic · 0.5 vCPU · 1 GB, { \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }, null, 2025-09-12 10:48:08.820615+08, 2025-09-12 10:48:08.820615+08).\n2025-09-12_02:48:08.82209 2025-09-12 10:48:08.821 CST [3052460] STATEMENT:  WITH selected_cluster AS (\n2025-09-12_02:48:08.82209 \t    SELECT\n2025-09-12_02:48:08.82209 \t        cluster_id\n2025-09-12_02:48:08.82209 \t    FROM\n2025-09-12_02:48:08.82210 \t        public.cluster_infos\n2025-09-12_02:48:08.82210 \t    LIMIT 1)\n2025-09-12_02:48:08.82210 \t    INSERT INTO public.space_resources (id, name, resources, cluster_id)\n2025-09-12_02:48:08.82210 \t        VALUES\n2025-09-12_02:48:08.82211 \t        (1, 'CPU basic · 0.5 vCPU · 1 GB', '{ \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }', (SELECT cluster_id FROM selected_cluster)),\n2025-09-12_02:48:08.82211 \t        (2, 'CPU basic · 2 vCPU · 4 GB', '{ \"cpu\": { \"type\": \"Intel\", \"num\": \"2\" }, \"memory\": \"4Gi\" }', (SELECT cluster_id FROM selected_cluster))\n2025-09-12_02:48:08.82211 \tON CONFLICT (id)\n2025-09-12_02:48:08.82211 \t    DO UPDATE SET\n2025-09-12_02:48:08.82212 \t        name = EXCLUDED.name,\n2025-09-12_02:48:08.82212 \t        resources = EXCLUDED.resources,\n2025-09-12_02:48:08.82213 \t        cluster_id = EXCLUDED.cluster_id;\n\n==> /var/log/csghub/server/current <==\n2025-09-12_02:48:08.82216 psql:scripts/02_seed_space_resources.sql:43: FATAL:  null value in column \"cluster_id\" of relation \"space_resources\" violates not-null constraint\n2025-09-12_02:48:08.82217 DETAIL:  Failing row contains (1, CPU basic · 0.5 vCPU · 1 GB, { \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }, null, 2025-09-12 10:48:08.820615+08, 2025-09-12 10:48:08.820615+08).\n2025-09-12_02:48:08.82506 psql:scripts/02_seed_space_resources.sql:43: server closed the connection unexpectedly\n2025-09-12_02:48:08.82509 \tThis probably means the server terminated abnormally\n2025-09-12_02:48:08.82509 \tbefore or while processing the request.\n2025-09-12_02:48:08.82509 psql:scripts/02_seed_space_resources.sql:43: error: connection to server was lost\n2025-09-12_02:48:08.82553 Error: Failed to execute ./scripts/02_seed_space_resources.sql\n2025-09-12_02:48:09.84266 Notice: User 'csghub_server' already exists. (Skipping creation)\n2025-09-12_02:48:09.84271 Granting superuser privileges to csghub_server...\n2025-09-12_02:48:09.85089 ALTER ROLE\n2025-09-12_02:48:09.85900 Notice: Database 'csghub_server' already exists. (Skipping creation)\n2025-09-12_02:48:09.85905 Granting privileges...\n2025-09-12_02:48:09.86653 GRANT\n2025-09-12_02:48:09.87766 GRANT\n2025-09-12_02:48:09.87816 \n2025-09-12_02:48:09.87818 Successfully created!\n2025-09-12_02:48:09.87821 -------------------------------------\n2025-09-12_02:48:09.87822 Database: csghub_server\n2025-09-12_02:48:09.87822 Username: csghub_server\n2025-09-12_02:48:09.87822 Password: ******\n2025-09-12_02:48:09.87822 Connection: psql -h localhost -U csghub_server -d csghub_server\n2025-09-12_02:48:09.87825 -------------------------------------\n2025-09-12_02:48:09.88785 Notice: User 'dataflow' already exists. (Skipping creation)\n2025-09-12_02:48:09.89521 Notice: Database 'dataflow' already exists. (Skipping creation)\n2025-09-12_02:48:09.89524 Granting privileges...\n2025-09-12_02:48:09.90247 GRANT\n2025-09-12_02:48:09.90899 GRANT\n2025-09-12_02:48:09.90963 \n2025-09-12_02:48:09.90965 Successfully created!\n2025-09-12_02:48:09.90966 -------------------------------------\n2025-09-12_02:48:09.90966 Database: dataflow\n2025-09-12_02:48:09.90966 Username: dataflow\n2025-09-12_02:48:09.90967 Password: ******\n2025-09-12_02:48:09.90970 Connection: psql -h localhost -U dataflow -d dataflow\n2025-09-12_02:48:09.90972 -------------------------------------\n2025-09-12_02:48:09.98219 init logger, level: INFO, format: json\n2025-09-12_02:48:10.06394 init logger, level: INFO, format: json\n2025-09-12_02:48:10.07371 {\"time\":\"2025-09-12T02:48:10.07367077Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\n2025-09-12_02:48:10.08099 Warn: scripts directory not specified! Using default ./scripts\n2025-09-12_02:48:10.08102 Usage: /opt/csghub/etc/csghub/scripts/pg_executor [directory_path]\n2025-09-12_02:48:10.08409 Executing ./scripts/01_promote_superuser.sql\n2025-09-12_02:48:10.09144        Execute Timestamp       \n2025-09-12_02:48:10.09147 -------------------------------\n2025-09-12_02:48:10.09147  2025-09-12 10:48:10.090911+08\n2025-09-12_02:48:10.09147 (1 row)\n2025-09-12_02:48:10.09148 \n2025-09-12_02:48:10.09157 SET\n2025-09-12_02:48:10.09177 SET\n2025-09-12_02:48:10.09198 SET\n2025-09-12_02:48:10.09215 SET\n2025-09-12_02:48:10.09238 SET\n2025-09-12_02:48:10.09251 SET\n2025-09-12_02:48:10.09271 SET\n2025-09-12_02:48:10.09279 SET\n2025-09-12_02:48:10.09294 SET\n2025-09-12_02:48:10.09311 SET\n2025-09-12_02:48:10.09347  set_config \n2025-09-12_02:48:10.09349 ------------\n2025-09-12_02:48:10.09349  public\n2025-09-12_02:48:10.09349 (1 row)\n2025-09-12_02:48:10.09349 \n2025-09-12_02:48:10.09666 CREATE FUNCTION\n2025-09-12_02:48:10.09868 CREATE TRIGGER\n2025-09-12_02:48:10.09918 Executing ./scripts/02_seed_space_resources.sql\n2025-09-12_02:48:10.10639        Execute Timestamp       \n2025-09-12_02:48:10.10642 -------------------------------\n2025-09-12_02:48:10.10643  2025-09-12 10:48:10.105939+08\n2025-09-12_02:48:10.10643 (1 row)\n2025-09-12_02:48:10.10643 \n2025-09-12_02:48:10.10654 SET\n2025-09-12_02:48:10.10671 SET\n2025-09-12_02:48:10.10692 SET\n2025-09-12_02:48:10.10709 SET\n2025-09-12_02:48:10.10725 SET\n2025-09-12_02:48:10.10741 SET\n2025-09-12_02:48:10.10754 SET\n2025-09-12_02:48:10.10768 SET\n2025-09-12_02:48:10.10781 SET\n2025-09-12_02:48:10.10790 SET\n2025-09-12_02:48:10.10824  set_config \n2025-09-12_02:48:10.10826 ------------\n2025-09-12_02:48:10.10827  public\n2025-09-12_02:48:10.10827 (1 row)\n2025-09-12_02:48:10.10827 \n\n==> /var/log/csghub/postgresql/current <==\n2025-09-12_02:48:10.10973 2025-09-12 10:48:10.109 CST [3052522] FATAL:  null value in column \"cluster_id\" of relation \"space_resources\" violates not-null constraint\n2025-09-12_02:48:10.10976 2025-09-12 10:48:10.109 CST [3052522] DETAIL:  Failing row contains (1, CPU basic · 0.5 vCPU · 1 GB, { \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }, null, 2025-09-12 10:48:10.108333+08, 2025-09-12 10:48:10.108333+08).\n2025-09-12_02:48:10.10977 2025-09-12 10:48:10.109 CST [3052522] STATEMENT:  WITH selected_cluster AS (\n2025-09-12_02:48:10.10977 \t    SELECT\n2025-09-12_02:48:10.10977 \t        cluster_id\n2025-09-12_02:48:10.10978 \t    FROM\n2025-09-12_02:48:10.10978 \t        public.cluster_infos\n2025-09-12_02:48:10.10978 \t    LIMIT 1)\n2025-09-12_02:48:10.10978 \t    INSERT INTO public.space_resources (id, name, resources, cluster_id)\n2025-09-12_02:48:10.10978 \t        VALUES\n2025-09-12_02:48:10.10978 \t        (1, 'CPU basic · 0.5 vCPU · 1 GB', '{ \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }', (SELECT cluster_id FROM selected_cluster)),\n2025-09-12_02:48:10.10979 \t        (2, 'CPU basic · 2 vCPU · 4 GB', '{ \"cpu\": { \"type\": \"Intel\", \"num\": \"2\" }, \"memory\": \"4Gi\" }', (SELECT cluster_id FROM selected_cluster))\n2025-09-12_02:48:10.10979 \tON CONFLICT (id)\n2025-09-12_02:48:10.10979 \t    DO UPDATE SET\n2025-09-12_02:48:10.10979 \t        name = EXCLUDED.name,\n2025-09-12_02:48:10.10979 \t        resources = EXCLUDED.resources,\n2025-09-12_02:48:10.10980 \t        cluster_id = EXCLUDED.cluster_id;\n\n==> /var/log/csghub/server/current <==\n2025-09-12_02:48:10.10980 psql:scripts/02_seed_space_resources.sql:43: FATAL:  null value in column \"cluster_id\" of relation \"space_resources\" violates not-null constraint\n2025-09-12_02:48:10.10982 DETAIL:  Failing row contains (1, CPU basic · 0.5 vCPU · 1 GB, { \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }, null, 2025-09-12 10:48:10.108333+08, 2025-09-12 10:48:10.108333+08).\n2025-09-12_02:48:10.11243 psql:scripts/02_seed_space_resources.sql:43: server closed the connection unexpectedly\n2025-09-12_02:48:10.11244 \tThis probably means the server terminated abnormally\n2025-09-12_02:48:10.11244 \tbefore or while processing the request.\n2025-09-12_02:48:10.11245 psql:scripts/02_seed_space_resources.sql:43: error: connection to server was lost\n2025-09-12_02:48:10.11295 Error: Failed to execute ./scripts/02_seed_space_resources.sql\n2025-09-12_02:48:11.12851 Notice: User 'csghub_server' already exists. (Skipping creation)\n2025-09-12_02:48:11.12857 Granting superuser privileges to csghub_server...\n2025-09-12_02:48:11.13629 ALTER ROLE\n2025-09-12_02:48:11.14477 Notice: Database 'csghub_server' already exists. (Skipping creation)\n2025-09-12_02:48:11.14480 Granting privileges...\n2025-09-12_02:48:11.15329 GRANT\n2025-09-12_02:48:11.16411 GRANT\n2025-09-12_02:48:11.16455 \n2025-09-12_02:48:11.16456 Successfully created!\n2025-09-12_02:48:11.16457 -------------------------------------\n2025-09-12_02:48:11.16457 Database: csghub_server\n2025-09-12_02:48:11.16458 Username: csghub_server\n2025-09-12_02:48:11.16458 Password: ******\n2025-09-12_02:48:11.16460 Connection: psql -h localhost -U csghub_server -d csghub_server\n2025-09-12_02:48:11.16461 -------------------------------------\n2025-09-12_02:48:11.17511 Notice: User 'dataflow' already exists. (Skipping creation)\n2025-09-12_02:48:11.18260 Notice: Database 'dataflow' already exists. (Skipping creation)\n2025-09-12_02:48:11.18265 Granting privileges...\n2025-09-12_02:48:11.18992 GRANT\n2025-09-12_02:48:11.19677 GRANT\n2025-09-12_02:48:11.19747 \n2025-09-12_02:48:11.19749 Successfully created!\n2025-09-12_02:48:11.19750 -------------------------------------\n2025-09-12_02:48:11.19751 Database: dataflow\n2025-09-12_02:48:11.19751 Username: dataflow\n2025-09-12_02:48:11.19751 Password: ******\n2025-09-12_02:48:11.19751 Connection: psql -h localhost -U dataflow -d dataflow\n2025-09-12_02:48:11.19751 -------------------------------------\n2025-09-12_02:48:11.26917 init logger, level: INFO, format: json\n2025-09-12_02:48:11.35180 init logger, level: INFO, format: json\n2025-09-12_02:48:11.36174 {\"time\":\"2025-09-12T02:48:11.361680877Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\n2025-09-12_02:48:11.36908 Warn: scripts directory not specified! Using default ./scripts\n2025-09-12_02:48:11.36912 Usage: /opt/csghub/etc/csghub/scripts/pg_executor [directory_path]\n2025-09-12_02:48:11.37241 Executing ./scripts/01_promote_superuser.sql\n2025-09-12_02:48:11.37946        Execute Timestamp       \n2025-09-12_02:48:11.37949 -------------------------------\n2025-09-12_02:48:11.37949  2025-09-12 10:48:11.378933+08\n2025-09-12_02:48:11.37949 (1 row)\n2025-09-12_02:48:11.37950 \n2025-09-12_02:48:11.37969 SET\n2025-09-12_02:48:11.37987 SET\n2025-09-12_02:48:11.37996 SET\n2025-09-12_02:48:11.38012 SET\n2025-09-12_02:48:11.38032 SET\n2025-09-12_02:48:11.38053 SET\n2025-09-12_02:48:11.38067 SET\n2025-09-12_02:48:11.38082 SET\n2025-09-12_02:48:11.38091 SET\n2025-09-12_02:48:11.38114 SET\n2025-09-12_02:48:11.38144  set_config \n2025-09-12_02:48:11.38144 ------------\n2025-09-12_02:48:11.38145  public\n2025-09-12_02:48:11.38145 (1 row)\n2025-09-12_02:48:11.38145 \n2025-09-12_02:48:11.38465 CREATE FUNCTION\n2025-09-12_02:48:11.38664 CREATE TRIGGER\n2025-09-12_02:48:11.38742 Executing ./scripts/02_seed_space_resources.sql\n2025-09-12_02:48:11.39406        Execute Timestamp       \n2025-09-12_02:48:11.39409 -------------------------------\n2025-09-12_02:48:11.39409  2025-09-12 10:48:11.393577+08\n2025-09-12_02:48:11.39409 (1 row)\n2025-09-12_02:48:11.39409 \n2025-09-12_02:48:11.39419 SET\n2025-09-12_02:48:11.39446 SET\n2025-09-12_02:48:11.39461 SET\n2025-09-12_02:48:11.39473 SET\n2025-09-12_02:48:11.39486 SET\n2025-09-12_02:48:11.39492 SET\n2025-09-12_02:48:11.39506 SET\n2025-09-12_02:48:11.39519 SET\n2025-09-12_02:48:11.39527 SET\n2025-09-12_02:48:11.39536 SET\n2025-09-12_02:48:11.39561  set_config \n2025-09-12_02:48:11.39562 ------------\n2025-09-12_02:48:11.39563  public\n2025-09-12_02:48:11.39563 (1 row)\n2025-09-12_02:48:11.39564 \n\n\n\n==> /var/log/csghub/postgresql/current <==\n2025-09-12_02:48:11.39714 2025-09-12 10:48:11.396 CST [3052585] FATAL:  null value in column \"cluster_id\" of relation \"space_resources\" violates not-null constraint\n2025-09-12_02:48:11.39717 2025-09-12 10:48:11.396 CST [3052585] DETAIL:  Failing row contains (1, CPU basic · 0.5 vCPU · 1 GB, { \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }, null, 2025-09-12 10:48:11.395655+08, 2025-09-12 10:48:11.395655+08).\n2025-09-12_02:48:11.39717 2025-09-12 10:48:11.396 CST [3052585] STATEMENT:  WITH selected_cluster AS (\n2025-09-12_02:48:11.39717 \t    SELECT\n2025-09-12_02:48:11.39718 \t        cluster_id\n2025-09-12_02:48:11.39718 \t    FROM\n2025-09-12_02:48:11.39718 \t        public.cluster_infos\n2025-09-12_02:48:11.39720 \t    LIMIT 1)\n2025-09-12_02:48:11.39720 \t    INSERT INTO public.space_resources (id, name, resources, cluster_id)\n2025-09-12_02:48:11.39720 \t        VALUES\n2025-09-12_02:48:11.39720 \t        (1, 'CPU basic · 0.5 vCPU · 1 GB', '{ \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }', (SELECT cluster_id FROM selected_cluster)),\n2025-09-12_02:48:11.39721 \t        (2, 'CPU basic · 2 vCPU · 4 GB', '{ \"cpu\": { \"type\": \"Intel\", \"num\": \"2\" }, \"memory\": \"4Gi\" }', (SELECT cluster_id FROM selected_cluster))\n2025-09-12_02:48:11.39721 \tON CONFLICT (id)\n2025-09-12_02:48:11.39721 \t    DO UPDATE SET\n2025-09-12_02:48:11.39721 \t        name = EXCLUDED.name,\n2025-09-12_02:48:11.39721 \t        resources = EXCLUDED.resources,\n2025-09-12_02:48:11.39724 \t        cluster_id = EXCLUDED.cluster_id;\n\n==> /var/log/csghub/server/current <==\n2025-09-12_02:48:11.39731 psql:scripts/02_seed_space_resources.sql:43: FATAL:  null value in column \"cluster_id\" of relation \"space_resources\" violates not-null constraint\n2025-09-12_02:48:11.39732 DETAIL:  Failing row contains (1, CPU basic · 0.5 vCPU · 1 GB, { \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }, null, 2025-09-12 10:48:11.395655+08, 2025-09-12 10:48:11.395655+08).\n2025-09-12_02:48:11.39947 psql:scripts/02_seed_space_resources.sql:43: server closed the connection unexpectedly\n2025-09-12_02:48:11.39949 \tThis probably means the server terminated abnormally\n2025-09-12_02:48:11.39949 \tbefore or while processing the request.\n2025-09-12_02:48:11.39949 psql:scripts/02_seed_space_resources.sql:43: error: connection to server was lost\n2025-09-12_02:48:11.40001 Error: Failed to execute ./scripts/02_seed_space_resources.sql\n\n\n\n\n",
    "comments": [
      "有对接k8s吗？没有的话把这个runner先禁用吧\nrunner:\nenable: true # 是否启用 Runner 服务，禁用则仅能使用基础功能",
      "runner禁用了\n environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://192.168.58.6\"    \n        runner:\n          enable: false\n          deploy:\n            knative:\n              services:\n                - type: \"NodePort\"\n                  domain: \"app.internal\"\n                  host: \"192.168.58.6\"\n                  port: 30123\n        server:\n          dataflow:\n            address: \"http://192.168.58.6:8000\"  \n\n\n我再次浏览错误时，发现每次出错后都会报\n2025-09-15_01:39:11.20340 ', '2025-09-15 01:39:11.202609+00:00', '2025-09-15 01:39:11.202609+00:00') RETURNING \"id\" \t  pgdriver.Error: ERROR: value too long for type character varying(255) (SQLSTATE=22001) \n2025-09-15_01:39:11.20340 {\"time\":\"2025-09-15T01:39:11.203214067Z\",\"level\":\"ERROR\",\"msg\":\"Failed to log error\",\"error\":\"ERROR: value too long for type character varying(255) (SQLSTATE=22001)\"}\n2025-09-15_01:39:11.20448 {\"time\":\"2025-09-15T01:39:11.204449283Z\",\"level\":\"INFO\",\"msg\":\"Portal Request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":1,\"status\":200,\"current_user\":\"\",\"url\":\"/models\"}\n",
      "@MasonXon 看日志安装没成功吧，cluster和space resource都初始化失败了",
      "进入容器看下 csghub-ctl status  看下是不是有组件没起来",
      "已经解决"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1348"
  },
  {
    "id": "issue_1347",
    "title": "Improve filter system: Limit tag selection to one per category",
    "body": "## Issue Description\n\nThe current filter system allows users to select multiple tags within the same category (e.g., multiple framework tags or multiple task tags), but this creates a poor user experience due to the AND filtering logic.\n\n## Current Behavior\n\n- Users can select multiple tags within a single category\n- Filters use AND logic across all selected tags\n- Example: Selecting both \"pytorch\" and \"tensorflow\" frameworks returns only repositories that have BOTH tags\n- This often results in zero or very few results, creating frustration\n\n## Problems\n\n1. **Overly restrictive results**: Multiple tags in the same category rarely coexist\n2. **Counter-intuitive UX**: Adding more filters reduces results instead of expanding them\n3. **Poor discoverability**: Users get empty result sets and may think the system is broken\n4. **Semantic confusion**: Multiple framework/task selections don't make logical sense\n\n## Proposed Solution\n\n**Option 1: Single tag selection per category (Recommended)**\n- Limit users to selecting only one tag per category\n- Selecting a new tag in the same category automatically deselects the previous one\n- Maintains clean, predictable filtering behavior\n- Aligns with user mental model (one task type, one framework, etc.)\n\n**Option 2: OR logic within categories, AND across categories**\n- Allow multiple tags per category but change filtering logic\n- Within category: OR logic (pytorch OR tensorflow)\n- Across categories: AND logic (task=image-classification AND (framework=pytorch OR framework=tensorflow))\n- More complex to implement and explain to users\n\n## Implementation Details\n\nFor Option 1 (recommended):\n\n**Frontend changes needed:**\n- Update TagSidebar.vue setActiveTag() function\n- Change from array-based to single-value tag selection\n- Clear existing tag when new tag in same category is selected\n\n**Backend changes needed:**\n- No changes required - existing API supports single tag per category\n\n## Acceptance Criteria\n\n- [ ] Users can select only one tag per category\n- [ ] Selecting a new tag automatically deselects the previous tag in the same category\n- [ ] UI provides clear visual feedback about selected tags\n- [ ] URL parameters continue to work correctly\n- [ ] Filter behavior is intuitive and predictable\n- [ ] No breaking changes to existing API\n\n## Priority\n\n**High** - This significantly impacts user experience and discoverability of content.\n\n## Related Files\n\n- frontend/src/components/tags/TagSidebar.vue\n- frontend/src/components/tags/TagList.vue\n- frontend/src/components/shared/RepoCards.vue\n- docs/features/filter-system.md (contains detailed analysis)\n\n## Additional Context\n\nThis issue was identified during comprehensive analysis of the filter system. The current multi-tag selection was likely implemented to be flexible, but in practice creates more problems than it solves for the typical user workflow.",
    "comments": [],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1347"
  },
  {
    "id": "issue_1345",
    "title": "模型删除问题",
    "body": "模型删除时，minio上存的模型文件不删的么？",
    "comments": [
      "目前没有删除，这个和之前设计的共用 lfs 文件有关，现在我们支持了每个项目的 lfs 文件相互隔离，但是还没有将删除模型后删除 lfs 文件操作加入进去",
      "存储空间满了咋办，只能扩容吗？",
      "- 如果需要删除 lfs 文件来腾出存储空间可以选择到 minio 控制台删除\n- 如果需要保留 lfs 文件建议扩容",
      "我们也会尽快将删除仓库后将 lfs 文件一并删除这个功能加入进去，当然我们也欢迎你参与贡献代码 ❤️ "
    ],
    "state": "open",
    "labels": [
      "question"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1345"
  },
  {
    "id": "issue_1343",
    "title": "csghub-ctl源码在哪，如何编译",
    "body": "csghub-ctl源码在哪，如何编译",
    "comments": [
      "csghub-omnibus工程下的toolbox/csghub-ctl内容也是空的",
      "源码暂时未公开，需要调整仓库才行，目前没有时间弄这个"
    ],
    "state": "open",
    "labels": [
      "question"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1343"
  },
  {
    "id": "issue_1342",
    "title": "csghub-server支持redis集群模式或者哨兵模式吗？",
    "body": "目前配置上是单节点，支持redis高可用吗？集群模式或者哨兵模式。",
    "comments": [
      "目前还不支持。\n如果您有这方面的需求，请参考go-redis文档：\n\n- https://redis.uptrace.dev/guide/go-redis-sentinel.html#redis-server-client\n- https://redis.uptrace.dev/guide/go-redis-cluster.html\n\n欢迎提交PR~",
      "好的，我看看"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1342"
  },
  {
    "id": "issue_1335",
    "title": "Error: Failed to execute ./scripts/02_seed_space_resources.sql",
    "body": "看起来像是数据库初始化的问题\n怎么修改sql初始化的脚本？\n\nroot@707e773272ea:/# csghub-ctl status\nrun: accounting: (pid 3007) 1906s; run: log: (pid 2194) 1907s\nrun: casdoor: (pid 2912) 1906s; run: log: (pid 2193) 1907s\nrun: dataviewer: (pid 3696) 1905s; run: log: (pid 2180) 1907s\nrun: dnsmasq: (pid 2213) 1907s; run: log: (pid 2206) 1907s\nrun: gitaly: (pid 2218) 1907s; run: log: (pid 2211) 1907s\nrun: gitlab_shell: (pid 2223) 1907s; run: log: (pid 2217) 1907s\nrun: minio: (pid 2195) 1907s; run: log: (pid 2189) 1907s\nrun: mirror_lfs: (pid 3737) 1905s; run: log: (pid 2201) 1907s\nrun: mirror_repo: (pid 3738) 1905s; run: log: (pid 2185) 1907s\nrun: nats: (pid 2184) 1907s; run: log: (pid 2178) 1907s\nrun: nginx: (pid 2187) 1907s; run: log: (pid 2179) 1907s\nrun: notification: (pid 3119) 1906s; run: log: (pid 2200) 1907s\nrun: portal: (pid 2930) 1906s; run: log: (pid 2181) 1907s\nrun: postgresql: (pid 2190) 1907s; run: log: (pid 2182) 1907s\nrun: redis: (pid 2209) 1907s; run: log: (pid 2199) 1907s\nrun: registry: (pid 2183) 1907s; run: log: (pid 2174) 1907s\nrun: rproxy: (pid 3087) 1906s; run: log: (pid 2171) 1907s\nrun: runner: (pid 3108) 1906s; run: log: (pid 2210) 1907s\nrun: server: (pid 101748) 0s; run: log: (pid 2169) 1907s\nrun: temporal: (pid 2196) 1907s; run: log: (pid 2191) 1907s\nrun: user: (pid 3711) 1905s; run: log: (pid 2205) 1907s\nroot@707e773272ea:/# csghub-ctl tail\n2025/09/04 08:30:02 Tailing log for service * from /var/log/csghub/*/current...\n==> /var/log/csghub/accounting/current <==\n2025-09-04_07:58:06.54534 Starting server...\n2025-09-04_07:58:06.61121 init logger, level: INFO, format: json\n2025-09-04_07:58:06.61254 {\"time\":\"2025-09-04T07:58:06.612472663Z\",\"level\":\"INFO\",\"msg\":\"failed to initialize databasepinging pg database: dial tcp 127.0.0.1:5432: connect: connection refused\"}\n2025-09-04_07:58:07.61863 Starting server...\n2025-09-04_07:58:07.70852 init logger, level: INFO, format: json\n2025-09-04_07:58:07.83072 {\"time\":\"2025-09-04T07:58:07.830658252Z\",\"level\":\"INFO\",\"msg\":\"http server is running\",\"port\":8086}\n\n==> /var/log/csghub/agentic/current <==\n2025-09-04_07:49:23.69515 DEBUG | [Factory gitlab_agent] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69522 DEBUG | [Factory gitlab_agent.codereview] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69528 DEBUG | [Factory gitlab_agent.mr_agent] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69534 DEBUG | [Factory gitlab_agent.mr_pipeline_agent] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69541 DEBUG | [Factory gitlab_agent.gitlab_ci] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69547 DEBUG | [Factory gitlab_notification_agent] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69553 DEBUG | [Factory gitlab_notification_center] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69587 [2025-09-04 07:49:23 +0000] [3241] [INFO] Running on http://127.0.0.1:8184/ (CTRL + C to quit)\n2025-09-04_07:49:23.69963 [09/04/25 07:49:23] INFO Running on http://127.0.0.1:8184/ logging.py:106\n2025-09-04_07:49:23.69964 (CTRL + C to quit)\n\n==> /var/log/csghub/casdoor/current <==\n2025-09-04_07:58:07.73826 You are now connected to database \"casdoor\" as user \"casdoor\".\n2025-09-04_07:58:07.74330 DO\n2025-09-04_07:58:07.74443 DO\n2025-09-04_07:58:07.74626 DO\n2025-09-04_07:58:07.74759 DO\n2025-09-04_07:58:07.74792\n2025-09-04_07:58:07.74793 Successfully executed all SQL files!\n2025-09-04_07:58:08.33449 2025/09/04 07:58:08 Starting Radius server on 0.0.0.0:1812\n2025-09-04_07:58:08.33475 2025/09/04 07:58:08 Listening on 0.0.0.0:389\n2025-09-04_07:58:08.34649 2025/09/04 07:58:08.346 [I] http server Running on http://:8087\n\n==> /var/log/csghub/dataviewer/current <==\n2025-09-04_07:58:06.66277 {\"time\":\"2025-09-04T07:58:06.662694051Z\",\"level\":\"INFO\",\"msg\":\"failed to initialize databasepinging pg database: FATAL: the database system is starting up (SQLSTATE=57P03)\"}\n2025-09-04_07:58:07.66997 Starting server...\n2025-09-04_07:58:07.73606 init logger, level: INFO, format: json\n2025-09-04_07:58:07.74156 Error: unable to create workflow client, error: failed reaching server: connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:7233: connect: connection refused\"\n2025-09-04_07:58:08.74961 Starting server...\n2025-09-04_07:58:08.84736 init logger, level: INFO, format: json\n2025-09-04_07:58:08.87733 {\"time\":\"2025-09-04T07:58:08.877148278Z\",\"level\":\"INFO\",\"msg\":\"run viewer worker\",\"options\":{\"Host\":\"[http://localhost\",\"Port\":8093,\"MaxConcurrentActivityExecutionSize\":5,\"MaxConcurrentLocalActivityExecutionSize\":10,\"MaxConcurrentWorkflowTaskExecutionSize\":2,\"ActivityStartToCloseTimeout\":7200,\"ActivityMaximumAttempts\":2,\"CacheDir\":\"\",\"DownloadLfsFile\":true,\"MaxThreadNumOfExport\":8,\"MaxConcurrentSessionExecutionSize\":1,\"SessionExecutionTimeout\":240,\"ConvertLimitSize\":5368709120}}](http://localhost\",\"port\":8093,\"maxconcurrentactivityexecutionsize\":5,\"maxconcurrentlocalactivityexecutionsize\":10,\"maxconcurrentworkflowtaskexecutionsize\":2,\"activitystarttoclosetimeout\":7200,\"activitymaximumattempts\":2,\"cachedir\":\"\",\"downloadlfsfile\":true,\"maxthreadnumofexport\":8,\"maxconcurrentsessionexecutionsize\":1,\"sessionexecutiontimeout\":240,\"convertlimitsize\":5368709120%7D%7D/)\n2025-09-04_07:58:09.29951 {\"time\":\"2025-09-04T07:58:09.299449816Z\",\"level\":\"INFO\",\"msg\":\"Starting session worker\",\"Namespace\":\"default\",\"TaskQueue\":\"data_viewer_queue_dataset_update\",\"WorkerID\":\"3696@707e773272ea@\"}\n2025-09-04_07:58:09.30269 {\"time\":\"2025-09-04T07:58:09.30258482Z\",\"level\":\"INFO\",\"msg\":\"Started Worker\",\"Namespace\":\"default\",\"TaskQueue\":\"data_viewer_queue_dataset_update\",\"WorkerID\":\"3696@707e773272ea@\"}\n2025-09-04_07:58:09.30276 {\"time\":\"2025-09-04T07:58:09.302710095Z\",\"level\":\"INFO\",\"msg\":\"dataviewer http server is running\",\"port\":8093}\n\n==> /var/log/csghub/dnsmasq/current <==\n2025-09-04_07:58:06.55207 ./pre-start: line 19: setcap: command not found\n2025-09-04_07:58:06.55448 dnsmasq: started, version 2.91 cachesize 150\n2025-09-04_07:58:06.55450 dnsmasq: compile time options: IPv6 GNU-getopt no-DBus no-UBus no-i18n no-IDN DHCP DHCPv6 no-Lua TFTP no-conntrack ipset no-nftset auth no-DNSSEC loop-detect inotify dumpfile\n2025-09-04_07:58:06.55451 dnsmasq: reading /etc/resolv.conf\n2025-09-04_07:58:06.55452 dnsmasq: ignoring nameserver 127.0.0.1 - local interface\n2025-09-04_07:58:06.55453 dnsmasq: using nameserver 127.0.0.11#53\n2025-09-04_07:58:06.55456 dnsmasq: read /etc/hosts - 9 names\n\n==> /var/log/csghub/gitaly/current <==\n2025-09-04_07:58:06.90741 {\"duration_ms\":138,\"level\":\"info\",\"msg\":\"Started Gitaly\",\"pid\":2419,\"time\":\"2025-09-04T07:58:06.907Z\"}\n2025-09-04_07:58:06.90762 {\"level\":\"info\",\"msg\":\"maintenance: daily scheduled\",\"pid\":2419,\"scheduled\":\"2025-09-04T23:30:00Z\",\"time\":\"2025-09-04T07:58:06.907Z\"}\n2025-09-04_07:58:06.90807 {\"counting_duration_ms\":0,\"level\":\"info\",\"msg\":\"completed counting repositories\",\"pid\":2419,\"storage_path\":\"/var/opt/csghub/gitaly/repositories\",\"time\":\"2025-09-04T07:58:06.908Z\"}\n2025-09-04_07:58:06.90809 {\"counting_duration\":1,\"level\":\"info\",\"msg\":\"completed counting all repositories\",\"pid\":2419,\"time\":\"2025-09-04T07:58:06.908Z\"}\n2025-09-04_07:58:07.77897 {\"component\":\"backchannel.YamuxServer\",\"level\":\"info\",\"msg\":\"[ERR] yamux: Failed to read stream data: read tcp 127.0.0.1:8075-\\u003e127.0.0.1:57184: read: connection reset by peer\",\"pid\":2419,\"time\":\"2025-09-04T07:58:07.778Z\"}\n2025-09-04_07:58:07.77904 {\"level\":\"warning\",\"msg\":\"[core] [Channel https://github.com/OpenCSGs/csghub/pull/53 SubChannel https://github.com/OpenCSGs/csghub/pull/54]grpc: addrConn.createTransport failed to connect to {Addr: \"multiplexed/127.0.0.1:57190\", ServerName: \"multiplexed%2F127.0.0.1:57190\", }. Err: connection error: desc = \"error reading server preface: EOF\"\",\"pid\":2419,\"system\":\"system\",\"time\":\"2025-09-04T07:58:07.778Z\"}\n2025-09-04_07:58:07.77912 {\"component\":\"backchannel.YamuxServer\",\"level\":\"info\",\"msg\":\"[ERR] yamux: Failed to write header: write tcp 127.0.0.1:8075-\\u003e127.0.0.1:57184: use of closed network connection\",\"pid\":2419,\"time\":\"2025-09-04T07:58:07.779Z\"}\n2025-09-04_07:58:07.78404 {\"level\":\"warning\",\"msg\":\"[core] [Channel https://github.com/OpenCSGs/csghub/pull/73 SubChannel https://github.com/OpenCSGs/csghub/pull/75]grpc: addrConn.createTransport failed to connect to {Addr: \"multiplexed/127.0.0.1:57254\", ServerName: \"multiplexed%2F127.0.0.1:57254\", }. Err: connection error: desc = \"error reading server preface: EOF\"\",\"pid\":2419,\"system\":\"system\",\"time\":\"2025-09-04T07:58:07.784Z\"}\n2025-09-04_07:58:07.78408 {\"level\":\"warning\",\"msg\":\"[core] [Channel https://github.com/OpenCSGs/csghub/pull/74 SubChannel https://github.com/OpenCSGs/csghub/pull/76]grpc: addrConn.createTransport failed to connect to {Addr: \"multiplexed/127.0.0.1:57268\", ServerName: \"multiplexed%2F127.0.0.1:57268\", }. Err: connection error: desc = \"error reading server preface: EOF\"\",\"pid\":2419,\"system\":\"system\",\"time\":\"2025-09-04T07:58:07.784Z\"}\n2025-09-04_07:58:09.86626 {\"duration_ms\":3097,\"level\":\"info\",\"msg\":\"License database preloaded\",\"pid\":2419,\"time\":\"2025-09-04T07:58:09.866Z\"}\n\n==> /var/log/csghub/gitlab_shell/current <==\n2025-09-04_07:58:06.54912 Using existing Host Keys\n2025-09-04_07:58:06.57301 {\"error\":\"open /var/log/csghub/gitlab_shell/gitlab-shell.log: permission denied\",\"level\":\"warning\",\"log_file\":\"stdout\",\"msg\":\"Unable to configure logging, falling back to STDOUT\",\"time\":\"2025-09-04T07:58:06Z\"}\n2025-09-04_07:58:06.57383 {\"correlation_id\":\"01K49VQ77DW1HB7NGQ8FW468XB\",\"level\":\"info\",\"msg\":\"Listening for SSH connections\",\"supported_public_key_algorithms\":[\"ssh-rsa\",\"ssh-dss\",\"ecdsa-sha2-nistp256\",\"[sk-ecdsa-sha2-nistp256@openssh.com](mailto:sk-ecdsa-sha2-nistp256@openssh.com)\",\"ecdsa-sha2-nistp384\",\"ecdsa-sha2-nistp521\",\"ssh-ed25519\",\"[sk-ssh-ed25519@openssh.com](mailto:sk-ssh-ed25519@openssh.com)\",\"rsa-sha2-256\",\"rsa-sha2-512\"],\"tcp_address\":\"[::]:2222\",\"time\":\"2025-09-04T07:58:06Z\"}\n\n==> /var/log/csghub/minio/current <==\n2025-09-04_07:58:07.15114 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.150847781Z\",\"message\":\"MinIO Object Storage Server\"}\n2025-09-04_07:58:07.15128 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.151126036Z\",\"message\":\"Copyright: 2015-2025 MinIO, Inc.\\nLicense: GNU AGPLv3 - [https://www.gnu.org/licenses/agpl-3.0.html\\nVersion](https://www.gnu.org/licenses/agpl-3.0.html%5CnVersion): RELEASE.2025-03-12T18-04-18Z (go1.24.1 linux/amd64)\\n\"}\n2025-09-04_07:58:07.15131 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.151182906Z\",\"message\":\"API: http://172.27.0.2:9000/ http://127.0.0.1:9000/ \"}\n2025-09-04_07:58:07.15132 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.151217423Z\",\"message\":\"WebUI: http://172.27.0.2:9002/ http://127.0.0.1:9002/ \"}\n2025-09-04_07:58:07.15132 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.151236121Z\",\"message\":\"\\nDocs: https://docs.min.io\"}/\n2025-09-04_07:58:07.53725 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.537223457Z\",\"message\":\"You are running an older version of MinIO released 4 months before the latest release, update: Run mc admin update ALIAS\"}\n\n==> /var/log/csghub/mirror_lfs/current <==\n2025-09-04_08:29:15.75292 {\"time\":\"2025-09-04T08:29:15.75285674Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:20.75701 {\"time\":\"2025-09-04T08:29:20.756941173Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:25.76085 {\"time\":\"2025-09-04T08:29:25.760775794Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:30.76446 {\"time\":\"2025-09-04T08:29:30.764376124Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:35.76902 {\"time\":\"2025-09-04T08:29:35.76895322Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:40.77255 {\"time\":\"2025-09-04T08:29:40.772490512Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:45.77603 {\"time\":\"2025-09-04T08:29:45.775962842Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:50.77965 {\"time\":\"2025-09-04T08:29:50.779580578Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:55.78328 {\"time\":\"2025-09-04T08:29:55.78320576Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:30:00.78682 {\"time\":\"2025-09-04T08:30:00.786752151Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n\n==> /var/log/csghub/mirror_repo/current <==\n2025-09-04_08:29:15.88192 {\"time\":\"2025-09-04T08:29:15.881854283Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:20.88515 {\"time\":\"2025-09-04T08:29:20.885083419Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:25.88969 {\"time\":\"2025-09-04T08:29:25.889619794Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:30.89237 {\"time\":\"2025-09-04T08:29:30.892306356Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:35.89637 {\"time\":\"2025-09-04T08:29:35.896297185Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:40.89999 {\"time\":\"2025-09-04T08:29:40.899900909Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:45.90389 {\"time\":\"2025-09-04T08:29:45.903824903Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:50.90825 {\"time\":\"2025-09-04T08:29:50.908173667Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:55.91200 {\"time\":\"2025-09-04T08:29:55.911933485Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:30:00.91558 {\"time\":\"2025-09-04T08:30:00.915519305Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n\n==> /var/log/csghub/nats/current <==\n2025-09-04_07:58:06.56479 [2184] 2025/09/04 07:58:06.564770 [INF] Restored 0 messages for stream '$G > normalPriorityMsgStream' in 0s\n2025-09-04_07:58:06.56485 [2184] 2025/09/04 07:58:06.564851 [INF] Starting restore for stream '$G > siteInternalMailStream'\n2025-09-04_07:58:06.56513 [2184] 2025/09/04 07:58:06.565123 [INF] Restored 0 messages for stream '$G > siteInternalMailStream' in 0s\n2025-09-04_07:58:06.56519 [2184] 2025/09/04 07:58:06.565184 [INF] Recovering 1 consumers for stream - '$G > deployServiceUpdateStream'\n2025-09-04_07:58:06.56565 [2184] 2025/09/04 07:58:06.565641 [INF] Recovering 1 consumers for stream - '$G > highPriorityMsgStream'\n2025-09-04_07:58:06.56583 [2184] 2025/09/04 07:58:06.565830 [INF] Recovering 1 consumers for stream - '$G > meteringEventStream'\n2025-09-04_07:58:06.56608 [2184] 2025/09/04 07:58:06.566077 [INF] Recovering 1 consumers for stream - '$G > normalPriorityMsgStream'\n2025-09-04_07:58:06.56629 [2184] 2025/09/04 07:58:06.566289 [INF] Recovering 1 consumers for stream - '$G > siteInternalMailStream'\n2025-09-04_07:58:06.56658 [2184] 2025/09/04 07:58:06.566580 [INF] Listening for client connections on 0.0.0.0:4222\n2025-09-04_07:58:06.56697 [2184] 2025/09/04 07:58:06.566956 [INF] Server is ready\n\n==> /var/log/csghub/nginx/current <==\n2025-09-04_08:26:00.33031 2025/09/04 08:26:00 [error] 2464#2464: *48 connect() failed (111: Connection refused) while connecting to upstream, client: 10.16.110.29, server: 10.55.3.5, request: \"POST /api/v1/events HTTP/1.1\", upstream: \"http://127.0.0.1:8080/api/v1/events\", host: \"10.55.3.5\", referrer: \"http://10.55.3.5/models\"\n2025-09-04_08:26:00.33037 {\"remote_addr\":\"10.16.110.29\",\"remote_user\":\"\",\"time_local\":\"04/Sep/2025:08:26:00 +0000\",\"request\":\"POST /api/v1/events HTTP/1.1\",\"status\":\"502\",\"body_bytes_sent\":\"2415\",\"http_referer\":\"[http://10.55.3.5/models\",\"http_user_agent\":\"Mozilla/5.0](http://10.55.3.5/models%22,%22http_user_agent%22:%22Mozilla/5.0) (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8080\",\"upstream_status\":\"502\",\"request_time\":0.000,\"upstream_response_time\":0.000,\"host\":\"10.55.3.5\"}\n2025-09-04_08:28:08.26151 2025/09/04 08:28:08 [error] 2464#2464: *48 connect() failed (111: Connection refused) while connecting to upstream, client: 10.16.110.29, server: 10.55.3.5, request: \"GET /api/v1/notifications/count HTTP/1.1\", upstream: \"http://127.0.0.1:8080/api/v1/notifications/count\", host: \"10.55.3.5\", referrer: \"http://10.55.3.5/models\"\n2025-09-04_08:28:08.26170 {\"remote_addr\":\"10.16.110.29\",\"remote_user\":\"\",\"time_local\":\"04/Sep/2025:08:28:08 +0000\",\"request\":\"GET /api/v1/notifications/count HTTP/1.1\",\"status\":\"502\",\"body_bytes_sent\":\"2415\",\"http_referer\":\"[http://10.55.3.5/models\",\"http_user_agent\":\"Mozilla/5.0](http://10.55.3.5/models%22,%22http_user_agent%22:%22Mozilla/5.0) (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8080\",\"upstream_status\":\"502\",\"request_time\":0.000,\"upstream_response_time\":0.000,\"host\":\"10.55.3.5\"}\n2025-09-04_08:28:08.26234 2025/09/04 08:28:08 [error] 2464#2464: *47 connect() failed (111: Connection refused) while connecting to upstream, client: 10.16.110.29, server: 10.55.3.5, request: \"GET /api/v1/notifications/poll/1?timezone=Asia/Shanghai HTTP/1.1\", upstream: \"http://127.0.0.1:8080/api/v1/notifications/poll/1?timezone=Asia/Shanghai\", host: \"10.55.3.5\", referrer: \"http://10.55.3.5/models\"\n2025-09-04_08:28:08.26241 {\"remote_addr\":\"10.16.110.29\",\"remote_user\":\"\",\"time_local\":\"04/Sep/2025:08:28:08 +0000\",\"request\":\"GET /api/v1/notifications/poll/1?timezone=Asia/Shanghai HTTP/1.1\",\"status\":\"502\",\"body_bytes_sent\":\"2415\",\"http_referer\":\"[http://10.55.3.5/models\",\"http_user_agent\":\"Mozilla/5.0](http://10.55.3.5/models%22,%22http_user_agent%22:%22Mozilla/5.0) (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8080\",\"upstream_status\":\"502\",\"request_time\":0.000,\"upstream_response_time\":0.000,\"host\":\"10.55.3.5\"}\n2025-09-04_08:28:08.33131 2025/09/04 08:28:08 [error] 2464#2464: *48 connect() failed (111: Connection refused) while connecting to upstream, client: 10.16.110.29, server: 10.55.3.5, request: \"POST /api/v1/events HTTP/1.1\", upstream: \"http://127.0.0.1:8080/api/v1/events\", host: \"10.55.3.5\", referrer: \"http://10.55.3.5/models\"\n2025-09-04_08:28:08.33150 {\"remote_addr\":\"10.16.110.29\",\"remote_user\":\"\",\"time_local\":\"04/Sep/2025:08:28:08 +0000\",\"request\":\"POST /api/v1/events HTTP/1.1\",\"status\":\"502\",\"body_bytes_sent\":\"2415\",\"http_referer\":\"[http://10.55.3.5/models\",\"http_user_agent\":\"Mozilla/5.0](http://10.55.3.5/models%22,%22http_user_agent%22:%22Mozilla/5.0) (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8080\",\"upstream_status\":\"502\",\"request_time\":0.000,\"upstream_response_time\":0.000,\"host\":\"10.55.3.5\"}\n2025-09-04_08:28:08.33164 2025/09/04 08:28:08 [error] 2464#2464: *47 connect() failed (111: Connection refused) while connecting to upstream, client: 10.16.110.29, server: 10.55.3.5, request: \"POST /api/v1/events HTTP/1.1\", upstream: \"http://127.0.0.1:8080/api/v1/events\", host: \"10.55.3.5\", referrer: \"http://10.55.3.5/models\"\n2025-09-04_08:28:08.33173 {\"remote_addr\":\"10.16.110.29\",\"remote_user\":\"\",\"time_local\":\"04/Sep/2025:08:28:08 +0000\",\"request\":\"POST /api/v1/events HTTP/1.1\",\"status\":\"502\",\"body_bytes_sent\":\"2415\",\"http_referer\":\"[http://10.55.3.5/models\",\"http_user_agent\":\"Mozilla/5.0](http://10.55.3.5/models%22,%22http_user_agent%22:%22Mozilla/5.0) (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8080\",\"upstream_status\":\"502\",\"request_time\":0.000,\"upstream_response_time\":0.000,\"host\":\"10.55.3.5\"}\n\n==> /var/log/csghub/notification/current <==\n2025-09-04_07:58:07.87334 {\"time\":\"2025-09-04T07:58:07.87323508Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":15}\n2025-09-04_07:58:07.87334 {\"time\":\"2025-09-04T07:58:07.87323872Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":16}\n2025-09-04_07:58:07.87335 {\"time\":\"2025-09-04T07:58:07.873201331Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":18}\n2025-09-04_07:58:07.87335 {\"time\":\"2025-09-04T07:58:07.873246552Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":8}\n2025-09-04_07:58:07.87336 {\"time\":\"2025-09-04T07:58:07.87325138Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":6}\n2025-09-04_07:58:07.87337 {\"time\":\"2025-09-04T07:58:07.873247375Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":10}\n2025-09-04_07:58:07.87338 {\"time\":\"2025-09-04T07:58:07.873240184Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":0}\n2025-09-04_07:58:07.87338 {\"time\":\"2025-09-04T07:58:07.87323602Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":1}\n2025-09-04_07:58:07.87339 {\"time\":\"2025-09-04T07:58:07.873265555Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":7}\n2025-09-04_07:58:07.87339 {\"time\":\"2025-09-04T07:58:07.87328891Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":11}\n\n==> /var/log/csghub/portal/current <==\n2025-09-04_08:17:03.28223 {\"time\":\"2025-09-04T08:17:03.282192467Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/zhHant-D4ojFWZk.css\":0}\n2025-09-04_08:17:03.29030 {\"time\":\"2025-09-04T08:17:03.290276271Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/lodash-CUM784Py.js\":0}\n2025-09-04_08:17:03.29067 {\"time\":\"2025-09-04T08:17:03.290623572Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/components-BR-wKlBP.css\":0}\n2025-09-04_08:17:03.29068 {\"time\":\"2025-09-04T08:17:03.290638937Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/element-plus-C6wo0AKd.css\":0}\n2025-09-04_08:17:03.32783 {\"time\":\"2025-09-04T08:17:03.327794006Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/vendor-DxeqvKnK.js\":2}\n2025-09-04_08:17:03.35816 {\"time\":\"2025-09-04T08:17:03.358135941Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/element-plus-DWkN6ha2.js\":1}\n2025-09-04_08:17:03.44881 {\"time\":\"2025-09-04T08:17:03.448791334Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/zhHant-BnzEFRMx.js\":0}\n2025-09-04_08:17:03.44973 {\"time\":\"2025-09-04T08:17:03.449701462Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/components-D5tbeXZT.js\":1}\n2025-09-04_08:17:03.49771 {\"time\":\"2025-09-04T08:17:03.49768504Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/main-BNctXl3I.js\":0}\n2025-09-04_08:25:39.60689 {\"time\":\"2025-09-04T08:25:39.606768573Z\",\"level\":\"INFO\",\"msg\":\"Portal Request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":0,\"status\":200,\"current_user\":\"\",\"url\":\"/\"}\n\n==> /var/log/csghub/postgresql/current <==\n2025-09-04_08:30:02.22836 LIMIT 1)\n2025-09-04_08:30:02.22837 INSERT INTO public.space_resources (id, name, resources, cluster_id)\n2025-09-04_08:30:02.22837 VALUES\n2025-09-04_08:30:02.22838 (1, 'CPU basic · 0.5 vCPU · 1 GB', '{ \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }', (SELECT cluster_id FROM selected_cluster)),\n2025-09-04_08:30:02.22839 (2, 'CPU basic · 2 vCPU · 4 GB', '{ \"cpu\": { \"type\": \"Intel\", \"num\": \"2\" }, \"memory\": \"4Gi\" }', (SELECT cluster_id FROM selected_cluster))\n2025-09-04_08:30:02.22839 ON CONFLICT (id)\n2025-09-04_08:30:02.22840 DO UPDATE SET\n2025-09-04_08:30:02.22841 name = EXCLUDED.name,\n2025-09-04_08:30:02.22841 resources = EXCLUDED.resources,\n2025-09-04_08:30:02.22843 cluster_id = EXCLUDED.cluster_id;\n\n==> /var/log/csghub/producer/current <==\n2025-09-04_07:49:40.85494 [2025-09-04 07:49:40] INFO [celery.beat:632] beat: Starting...\n2025-09-04_07:49:41.00193 [2025-09-04 07:49:41] INFO [celery.beat:278] Scheduler: Sending due task sync-github-user-perms (codereview.tasks.sync_github_user_perms)\n2025-09-04_07:49:41.07581 [2025-09-04 07:49:41] INFO [celery.beat:278] Scheduler: Sending due task refresh-user-starship-app-tokens (codereview.tasks.refresh_user_starship_app_tokens)\n2025-09-04_07:49:41.07739 [2025-09-04 07:49:41] INFO [celery.beat:278] Scheduler: Sending due task sync-user-perms (codereview.tasks.sync_user_perms)\n2025-09-04_07:50:00.00030 [2025-09-04 07:50:00] INFO [celery.beat:278] Scheduler: Sending due task sync-user-perms (codereview.tasks.sync_user_perms)\n2025-09-04_07:50:00.00221 [2025-09-04 07:50:00] INFO [celery.beat:278] Scheduler: Sending due task refresh-user-starship-app-tokens (codereview.tasks.refresh_user_starship_app_tokens)\n2025-09-04_07:50:00.00345 [2025-09-04 07:50:00] INFO [celery.beat:278] Scheduler: Sending due task sync-github-user-perms (codereview.tasks.sync_github_user_perms)\n2025-09-04_07:55:00.00064 [2025-09-04 07:55:00] INFO [celery.beat:278] Scheduler: Sending due task sync-github-user-perms (codereview.tasks.sync_github_user_perms)\n2025-09-04_07:55:00.00295 [2025-09-04 07:55:00] INFO [celery.beat:278] Scheduler: Sending due task refresh-user-starship-app-tokens (codereview.tasks.refresh_user_starship_app_tokens)\n2025-09-04_07:55:00.00462 [2025-09-04 07:55:00] INFO [celery.beat:278] Scheduler: Sending due task sync-user-perms (codereview.tasks.sync_user_perms)\n\n==> /var/log/csghub/redis/current <==\n2025-09-04_07:58:06.55563 2209:M 04 Sep 2025 07:58:06.555 * monotonic clock: POSIX clock_gettime\n2025-09-04_07:58:06.55620 2209:M 04 Sep 2025 07:58:06.556 * Running mode=standalone, port=6379.\n2025-09-04_07:58:06.55624 2209:M 04 Sep 2025 07:58:06.556 # Server initialized\n2025-09-04_07:58:06.60390 2209:M 04 Sep 2025 07:58:06.603 * DB loaded from append only file: 0.046 seconds\n2025-09-04_07:58:06.60392 2209:M 04 Sep 2025 07:58:06.603 * Ready to accept connections\n2025-09-04_07:59:07.01213 2209:M 04 Sep 2025 07:59:07.012 * 10000 changes in 60 seconds. Saving...\n2025-09-04_07:59:07.01280 2209:M 04 Sep 2025 07:59:07.012 * Background saving started by pid 6999\n2025-09-04_07:59:07.01512 6999:C 04 Sep 2025 07:59:07.015 * DB saved on disk\n2025-09-04_07:59:07.01546 6999:C 04 Sep 2025 07:59:07.015 * RDB: 0 MB of memory used by copy-on-write\n2025-09-04_07:59:07.11491 2209:M 04 Sep 2025 07:59:07.114 * Background saving terminated with success\n\n==> /var/log/csghub/registry/current <==\n2025-09-04_07:58:06.61196 mc: Unable to initialize new alias from the provided credentials. Get \"http://127.0.0.1:9000/probe-bsign-g65b4hfsbbxv40kw4nhf5eq0cdlrzo/?location=\": dial tcp 127.0.0.1:9000: connect: connection refused.\n2025-09-04_07:58:06.62947 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"warning\",\"msg\":\"No HTTP secret provided - generated random secret. This may cause problems with uploads if multiple registries are behind a load-balancer. To provide a shared secret, fill in http.secret in the configuration file or set the REGISTRY_HTTP_SECRET environment variable.\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.62942142Z\",\"version\":\"2.8.3\"}\n2025-09-04_07:58:06.62951 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"info\",\"msg\":\"redis not configured\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.629491225Z\",\"version\":\"2.8.3\"}\n2025-09-04_07:58:06.62960 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"info\",\"msg\":\"backend redirection disabled\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.629587658Z\",\"version\":\"2.8.3\"}\n2025-09-04_07:58:06.62962 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"info\",\"msg\":\"using inmemory blob descriptor cache\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.629611131Z\",\"version\":\"2.8.3\"}\n2025-09-04_07:58:06.62965 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"info\",\"msg\":\"Starting upload purge in 41m0s\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.629567664Z\",\"version\":\"2.8.3\"}\n2025-09-04_07:58:06.62979 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"info\",\"msg\":\"listening on 127.0.0.1:5001\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.629786246Z\",\"version\":\"2.8.3\"}\n\n==> /var/log/csghub/rproxy/current <==\n2025-09-04_07:58:06.54483 Starting server...\n2025-09-04_07:58:06.64762 init logger, level: INFO, format: json\n2025-09-04_07:58:06.64880 {\"time\":\"2025-09-04T07:58:06.64877199Z\",\"level\":\"INFO\",\"msg\":\"failed to initialize databasepinging pg database: dial tcp 127.0.0.1:5432: connect: connection refused\"}\n2025-09-04_07:58:07.65577 Starting server...\n2025-09-04_07:58:07.74133 init logger, level: INFO, format: json\n2025-09-04_07:58:07.75824 {\"time\":\"2025-09-04T07:58:07.758214112Z\",\"level\":\"INFO\",\"msg\":\"rproxy http server is running\",\"port\":8083}\n\n==> /var/log/csghub/runner/current <==\n2025-09-04_07:58:07.70441 Database: csghub_server\n2025-09-04_07:58:07.70442 Username: csghub_server\n2025-09-04_07:58:07.70443 Password: ******\n2025-09-04_07:58:07.70444 Connection: psql -h localhost -U csghub_server -d csghub_server\n2025-09-04_07:58:07.70445 -------------------------------------\n2025-09-04_07:58:07.71934 Starting server...\n2025-09-04_07:58:07.80975 init logger, level: INFO, format: json\n2025-09-04_07:58:07.94246 {\"time\":\"2025-09-04T07:58:07.942373816Z\",\"level\":\"ERROR\",\"msg\":\"No kubeconfig files\",\"path\":\"/etc/csghub/.kube\"}\n2025-09-04_07:58:07.94257 {\"time\":\"2025-09-04T07:58:07.942556909Z\",\"level\":\"INFO\",\"msg\":\"deploy runner is running\",\"port\":8082}\n2025-09-04_07:58:07.94269 {\"time\":\"2025-09-04T07:58:07.942638997Z\",\"level\":\"ERROR\",\"msg\":\"failed to get cluster for image builder\",\"clusterID\":\"\",\"error\":\"cluster with the given ID does not exist\"}\n\n==> /var/log/csghub/server/current <==\n2025-09-04_08:30:02.22662 public\n2025-09-04_08:30:02.22663 (1 row)\n2025-09-04_08:30:02.22664\n2025-09-04_08:30:02.22830 psql:scripts/02_seed_space_resources.sql:43: FATAL: null value in column \"cluster_id\" of relation \"space_resources\" violates not-null constraint\n2025-09-04_08:30:02.22831 DETAIL: Failing row contains (1, CPU basic · 0.5 vCPU · 1 GB, { \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }, null, 2025-09-04 16:30:02.226688+08, 2025-09-04 16:30:02.226688+08).\n2025-09-04_08:30:02.23231 psql:scripts/02_seed_space_resources.sql:43: server closed the connection unexpectedly\n2025-09-04_08:30:02.23242 This probably means the server terminated abnormally\n2025-09-04_08:30:02.23244 before or while processing the request.\n2025-09-04_08:30:02.23244 psql:scripts/02_seed_space_resources.sql:43: error: connection to server was lost\n2025-09-04_08:30:02.23405 Error: Failed to execute ./scripts/02_seed_space_resources.sql",
    "comments": [
      "@MasonXon ./scripts/02_seed_space_resources.sql初始化失败了",
      "`02_seed_space_resources.sql` 主要用来初始化示例计算资源。资源的初始化和 runner 服务是关联的，因为 Kubernetes 集群的初始化操作由 runner 服务来完成，集群数据初始化完成后`02_seed_space_resources.sql`初始化才有意义。因此在没有对接 Kubernetes 集群的情况下，建议直接禁用 runner 服务，或者将脚本 `02_seed_space_resources.sql` cluster_id 字段置为空字符串也可以临时跳过这个问题。以下是两种解决方案：\n1. 禁用 runner 服务：\n```yaml\nservices:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.10.0-ce\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://csghub.example.com\"\n        runner:\n          enable: false\t\n......\n```\n2. 临时修改初始化 SQL\n```sql\n+31 {{- if not $runner.enable }}\n```\n然后执行`csghub-ctl reconfigure`"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1335"
  },
  {
    "id": "issue_1333",
    "title": "docker-compose-gitaly.yml问题",
    "body": "csghub-server源码里的docker-compose-gitaly.yml这个不带web镜像的吗？如果想加个web镜像，有没有现成的配置呢",
    "comments": [
      "这个没有web UI的镜像, 安装请参考: https://opencsg.com/docs/csghub/101/install/install_csghub_by_docker"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1333"
  },
  {
    "id": "issue_1332",
    "title": "修改docker-compose.yml中的runner：enable为true之后报错Failed to fetch tag category: SyntaxError: Unexpected token '<', \"<!DOCTYPE \"... is not valid JSON",
    "body": "就是修改了这一个参数，然后docker-compose 重启之后出现这个错误\n\nversion：https://github.com/OpenCSGs/csghub/releases/tag/v1.10.0-ce \n\n<img width=\"883\" height=\"166\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3070d54d-c2f1-48bc-9f8a-dba855909327\" />\n\nFailed to fetch tag category: SyntaxError: Unexpected token '<', \"<!DOCTYPE \"... is not valid JSON\n\nlog:\n2025/09/04 07:02:27 Reconfiguring service: postgresql\n2025/09/04 07:02:27 Reconfiguring service: notification\n2025/09/04 07:02:27 Reconfiguring service: worker\n2025/09/04 07:02:27 Reconfiguring service: mirror_lfs\n2025/09/04 07:02:27 Reconfiguring service: agentic\n2025/09/04 07:02:27 Reconfiguring service: rproxy\n2025/09/04 07:02:27 Reconfiguring service: runner\n2025/09/04 07:02:27 Reconfiguring service: temporal\n2025/09/04 07:02:27 Reconfiguring service: user\n2025/09/04 07:02:27 Reconfiguring service: web\n2025/09/04 07:02:27 Reconfiguring service: mirror_repo\n2025/09/04 07:02:27 Reconfiguring service: gitlab_shell\n2025/09/04 07:02:27 Reconfiguring service: casdoor\n2025/09/04 07:02:27 Reconfiguring service: server\n2025/09/04 07:02:27 Reconfiguring service: accounting\n2025/09/04 07:02:27 Reconfiguring service: nats\n2025/09/04 07:02:27 Reconfiguring service: gitaly\n2025/09/04 07:02:27 Reconfiguring service: redis\n2025/09/04 07:02:27 Reconfiguring service: producer\n2025/09/04 07:02:27 Reconfiguring service: minio\n2025/09/04 07:02:27 Reconfiguring service: dataviewer\n2025/09/04 07:02:27 Reconfiguring service: nginx\n2025/09/04 07:02:27 Reconfiguring service: registry\n2025/09/04 07:02:27 Reconfiguring service: dnsmasq\n2025/09/04 07:02:27 Reconfiguring service: portal\n2025/09/04 07:02:27 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/control/t.sample\n  target: /opt/csghub/service/server/control/t\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/server/control/t \n   => ec67b748e72eafcc0089589da81aa418\n2025/09/04 07:02:27 Rendered template for mirror_repo: \n  source: /opt/csghub/embedded/sv/mirror_repo/templates/control/t.sample\n  target: /opt/csghub/service/mirror_repo/control/t\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/mirror_repo/control/t \n   => 3a18e0f8760b2c5698946133391c8e31\n2025/09/04 07:02:27 Rendered template for mirror_lfs: \n  source: /opt/csghub/embedded/sv/mirror_lfs/templates/control/t.sample\n  target: /opt/csghub/service/mirror_lfs/control/t\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/mirror_lfs/control/t \n   => 5375fe790039023f64d8e8c37d0f809a\n2025/09/04 07:02:27 Rendered template for rproxy: \n  source: /opt/csghub/embedded/sv/rproxy/templates/log/run.sample\n  target: /opt/csghub/service/rproxy/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/rproxy/log/run \n   => 53d6b6f0904b2bb7373ef854c5052e30\n2025/09/04 07:02:27 Rendered template for accounting: \n  source: /opt/csghub/embedded/sv/accounting/templates/log/run.sample\n  target: /opt/csghub/service/accounting/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/accounting/log/run \n   => ba4dd58c3c6ff1b981157797fa9c7e4d\n2025/09/04 07:02:27 Rendered template for notification: \n  source: /opt/csghub/embedded/sv/notification/templates/log/run.sample\n  target: /opt/csghub/service/notification/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/notification/log/run \n   => 7fa378954cd73f6f4442ccf78918c75d\n2025/09/04 07:02:27 Rendered template for dataviewer: \n  source: /opt/csghub/embedded/sv/dataviewer/templates/log/run.sample\n  target: /opt/csghub/service/dataviewer/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/dataviewer/log/run \n   => ab68cfec65c0108be20d7891276dce63\n2025/09/04 07:02:27 Rendered template for user: \n  source: /opt/csghub/embedded/sv/user/templates/log/run.sample\n  target: /opt/csghub/service/user/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/user/log/run \n   => b1d301a026d70745b0c02e8baf411fd7\n2025/09/04 07:02:27 Rendered template for portal: \n  source: /opt/csghub/embedded/sv/portal/templates/log/run.sample\n  target: /opt/csghub/service/portal/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/portal/log/run \n   => ca9bac2cbed9e1d6e4e7a234c0b551fc\n2025/09/04 07:02:27 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/control/t.sample\n  target: /opt/csghub/service/temporal/control/t\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/temporal/control/t \n   => 9eb6af8dfba197fa48d0875068720a4d\n2025/09/04 07:02:27 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/control/h.sample\n  target: /opt/csghub/service/postgresql/control/h\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/postgresql/control/h \n   => c6e68eef5effd7711e265afe94ba8e3d\n2025/09/04 07:02:27 Rendered template for worker: \n  source: /opt/csghub/embedded/sv/worker/templates/log/run.sample\n  target: /opt/csghub/service/worker/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/worker/log/run \n   => d174ebd29d37f7fb99a1a9a404c151c4\n2025/09/04 07:02:27 Rendered template for agentic: \n  source: /opt/csghub/embedded/sv/agentic/templates/log/run.sample\n  target: /opt/csghub/service/agentic/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/agentic/log/run \n   => fde76ec7809f37154771c95a3885c574\n2025/09/04 07:02:27 Rendered template for mirror_repo: \n  source: /opt/csghub/embedded/sv/mirror_repo/templates/log/run.sample\n  target: /opt/csghub/service/mirror_repo/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/mirror_repo/log/run \n   => b7bcf4bd7a48639c4b1c888b812fb409\n2025/09/04 07:02:27 Rendered template for mirror_lfs: \n  source: /opt/csghub/embedded/sv/mirror_lfs/templates/log/run.sample\n  target: /opt/csghub/service/mirror_lfs/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/mirror_lfs/log/run \n   => bc5e057282cca2de3b221ebc3ccfc979\n2025/09/04 07:02:27 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/log/run.sample\n  target: /opt/csghub/service/server/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/server/log/run \n   => 1113c04b8f4e71ce0d8063ef5c5dbbb4\n2025/09/04 07:02:27 Rendered template for rproxy: \n  source: /opt/csghub/embedded/sv/rproxy/templates/run.sample\n  target: /opt/csghub/service/rproxy/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/rproxy/run \n   => 1187be58ae4a3cdcf70514acca68ae66\n2025/09/04 07:02:27 Restarting services rproxy\nwarning: rproxy: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for runner: \n  source: /opt/csghub/embedded/sv/runner/templates/log/run.sample\n  target: /opt/csghub/service/runner/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/runner/log/run \n   => a7ee140ef874c7f28095fb04872eac30\n2025/09/04 07:02:27 Rendered template for dataviewer: \n  source: /opt/csghub/embedded/sv/dataviewer/templates/run.sample\n  target: /opt/csghub/service/dataviewer/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/dataviewer/run \n   => 380da0ffe56e66ba3809f6918a93ec56\n2025/09/04 07:02:27 Rendered template for accounting: \n  source: /opt/csghub/embedded/sv/accounting/templates/run.sample\n  target: /opt/csghub/service/accounting/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/accounting/run \n   => a41c549c1fe3919367eb3e4ad7fa87b5\n2025/09/04 07:02:27 Restarting services dataviewer\n2025/09/04 07:02:27 Restarting services accounting\nwarning: dataviewer: unable to open supervise/ok: file does not exist\nwarning: accounting: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for gitlab_shell: \n  source: /opt/csghub/embedded/sv/gitlab_shell/templates/log/run.sample\n  target: /opt/csghub/service/gitlab_shell/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/gitlab_shell/log/run \n   => 2edc3b1b60fa03d62a21f6b520e2d18c\n2025/09/04 07:02:27 Rendered template for user: \n  source: /opt/csghub/embedded/sv/user/templates/run.sample\n  target: /opt/csghub/service/user/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/user/run \n   => d7e089ad2ed2682013ed6aebc703e20c\n2025/09/04 07:02:27 Restarting services user\nwarning: user: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for notification: \n  source: /opt/csghub/embedded/sv/notification/templates/run.sample\n  target: /opt/csghub/service/notification/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/notification/run \n   => f42234e56975407fee9b8d2c37cb0285\n2025/09/04 07:02:27 Restarting services notification\nwarning: notification: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/control/t.sample\n  target: /opt/csghub/service/postgresql/control/t\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/postgresql/control/t \n   => 6ae755aed0391a0a37d340e0bf6bc69d\n2025/09/04 07:02:27 Rendered template for nats: \n  source: /opt/csghub/embedded/sv/nats/templates/log/run.sample\n  target: /opt/csghub/service/nats/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/nats/log/run \n   => b5271df1d411f467525b853d841d09f2\n2025/09/04 07:02:27 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/log/run.sample\n  target: /opt/csghub/service/casdoor/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/casdoor/log/run \n   => f010faca987dce7adf5b99fd4acf93c0\n2025/09/04 07:02:27 Rendered template for web: \n  source: /opt/csghub/embedded/sv/web/templates/control/t.sample\n  target: /opt/csghub/service/web/control/t\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/web/control/t \n   => e8e849af87edf977f6535357e37c73e4\n2025/09/04 07:02:27 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/log/run.sample\n  target: /opt/csghub/service/temporal/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/temporal/log/run \n   => 1e0d4ff7f03a17901dd8d59d7dd13256\n2025/09/04 07:02:27 Rendered template for worker: \n  source: /opt/csghub/embedded/sv/worker/templates/run.sample\n  target: /opt/csghub/service/worker/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/worker/run \n   => 77cc9f6f1a4950ada92196d0d57b4448\n2025/09/04 07:02:27 Restarting services worker\nwarning: worker: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for portal: \n  source: /opt/csghub/embedded/sv/portal/templates/pre-start.sample\n  target: /opt/csghub/service/portal/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/portal/pre-start \n   => b4799b751f26706c32e11036070051a7\n2025/09/04 07:02:27 Rendered template for agentic: \n  source: /opt/csghub/embedded/sv/agentic/templates/run.sample\n  target: /opt/csghub/service/agentic/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/agentic/run \n   => 381fad633a67e2ba8f42928399be589c\n2025/09/04 07:02:27 Restarting services agentic\nwarning: agentic: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for mirror_repo: \n  source: /opt/csghub/embedded/sv/mirror_repo/templates/run.sample\n  target: /opt/csghub/service/mirror_repo/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/mirror_repo/run \n   => 040c463aee0ff7684dfc747805ca8d92\n2025/09/04 07:02:27 Restarting services mirror_repo\nwarning: mirror_repo: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for mirror_lfs: \n  source: /opt/csghub/embedded/sv/mirror_lfs/templates/run.sample\n  target: /opt/csghub/service/mirror_lfs/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/mirror_lfs/run \n   => ab408d3eb1e704b48ecc004e2321b07f\n2025/09/04 07:02:27 Restarting services mirror_lfs\nwarning: mirror_lfs: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/create_bucket.sample\n  target: /opt/csghub/service/minio/create_bucket\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/minio/create_bucket \n   => 345eb9db34d1a5355c8d06c0524ec556\n2025/09/04 07:02:27 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/create_database.sample\n  target: /opt/csghub/service/postgresql/create_database\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/postgresql/create_database \n   => 15022794ebb71d6bb2af58dd90334783\n2025/09/04 07:02:27 Rendered template for gitlab_shell: \n  source: /opt/csghub/embedded/sv/gitlab_shell/templates/run.sample\n  target: /opt/csghub/service/gitlab_shell/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/gitlab_shell/run \n   => 4cec4eea39791f353553ef5194a34680\n2025/09/04 07:02:27 Rendered template for producer: \n  source: /opt/csghub/embedded/sv/producer/templates/control/t.sample\n  target: /opt/csghub/service/producer/control/t\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/producer/control/t \n   => 523058ae76eac9f3889c6e5281662fd8\n2025/09/04 07:02:27 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/control/h.sample\n  target: /opt/csghub/service/nginx/control/h\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/nginx/control/h \n   => 5cdb18f8b81c745e3aff49509cede500\n2025/09/04 07:02:27 Rendered template for runner: \n  source: /opt/csghub/embedded/sv/runner/templates/pre-start.sample\n  target: /opt/csghub/service/runner/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/runner/pre-start \n   => 069113eddce780e1efd6381b5f687f20\n2025/09/04 07:02:27 Rendered template for nats: \n  source: /opt/csghub/embedded/sv/nats/templates/run.sample\n  target: /opt/csghub/service/nats/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/nats/run \n   => 60d83a3d1487761b7345356130b91708\n2025/09/04 07:02:27 Rendered template for web: \n  source: /opt/csghub/embedded/sv/web/templates/log/run.sample\n  target: /opt/csghub/service/web/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/web/log/run \n   => 24ee2fb0655b91833927e2d13ed6f87a\n2025/09/04 07:02:27 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/pre-start.sample\n  target: /opt/csghub/service/casdoor/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/casdoor/pre-start \n   => 85aca70905d2bbfe54ba93e75a282f93\n2025/09/04 07:02:27 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/pre-start.sample\n  target: /opt/csghub/service/server/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/server/pre-start \n   => 6589c0ac77f97c59de11b50dad4c11e2\n2025/09/04 07:02:27 Rendered template for portal: \n  source: /opt/csghub/embedded/sv/portal/templates/run.sample\n  target: /opt/csghub/service/portal/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/portal/run \n   => 5ab992c2e8630a69d9d7f3e3b6100993\n2025/09/04 07:02:27 Restarting services portal\nwarning: portal: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/pre-start.sample\n  target: /opt/csghub/service/temporal/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/temporal/pre-start \n   => 1ac5f108ac881b3f39d281032a8ca4fc\n2025/09/04 07:02:27 Rendered template for redis: \n  source: /opt/csghub/embedded/sv/redis/templates/log/run.sample\n  target: /opt/csghub/service/redis/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/redis/log/run \n   => dd23df83103389a4a9ca563af228e07c\n2025/09/04 07:02:27 Rendered template for registry: \n  source: /opt/csghub/embedded/sv/registry/templates/log/run.sample\n  target: /opt/csghub/service/registry/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/registry/log/run \n   => d242c37a244bd027d8e3b0532e2cb22c\n2025/09/04 07:02:27 Rendered template for dnsmasq: \n  source: /opt/csghub/embedded/sv/dnsmasq/templates/log/run.sample\n  target: /opt/csghub/service/dnsmasq/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/dnsmasq/log/run \n   => c6be46f8d85039837572cc530651a36c\n2025/09/04 07:02:27 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/log/run.sample\n  target: /opt/csghub/service/minio/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/minio/log/run \n   => 1ba719db98549b42ab50bc499a58b8ad\n2025/09/04 07:02:27 Rendered template for gitlab_shell: \n  source: /opt/csghub/etc/gitlab_shell/config.yml.sample\n  target: /var/opt/csghub/gitlab_shell/config.yml\n2025/09/04 07:02:27 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/finish.sample\n  target: /opt/csghub/service/postgresql/finish\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/postgresql/finish \n   => d6a9e771ba58cb13460399d8ba4734c2\n2025/09/04 07:02:27 Restarting services gitlab_shell\nwarning: gitlab_shell: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for producer: \n  source: /opt/csghub/embedded/sv/producer/templates/log/run.sample\n  target: /opt/csghub/service/producer/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/producer/log/run \n   => 0901cf6a1e270be73695e9e53fe57129\n2025/09/04 07:02:27 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/log/run.sample\n  target: /opt/csghub/service/nginx/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/nginx/log/run \n   => d6134161ba02ce0bdb14b0cb6cdbaf4f\n2025/09/04 07:02:27 Rendered template for runner: \n  source: /opt/csghub/embedded/sv/runner/templates/run.sample\n  target: /opt/csghub/service/runner/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/runner/run \n   => 2ecc642425c660449c8de10e12b29bf7\n2025/09/04 07:02:27 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/run.sample\n  target: /opt/csghub/service/casdoor/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/casdoor/run \n   => 13da5045cf08f83ebbebb344875d43a0\n2025/09/04 07:02:27 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/run.sample\n  target: /opt/csghub/service/server/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/server/run \n   => fb535cf6183f8003aa4e40d65f7f98a1\n2025/09/04 07:02:27 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/run.sample\n  target: /opt/csghub/service/temporal/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/temporal/run \n   => 9f87adc87db90ed02ab8c415cbee6f96\n2025/09/04 07:02:27 Rendered template for redis: \n  source: /opt/csghub/embedded/sv/redis/templates/pre-start.sample\n  target: /opt/csghub/service/redis/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/redis/pre-start \n   => 899d7c18e037462fa2ab4efae38bfe32\n2025/09/04 07:02:27 Rendered template for producer: \n  source: /opt/csghub/embedded/sv/producer/templates/run.sample\n  target: /opt/csghub/service/producer/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/producer/run \n   => aaabba6fd4cc707dcef1af1539624cd2\n2025/09/04 07:02:27 Restarting services producer\nwarning: producer: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/log/run.sample\n  target: /opt/csghub/service/postgresql/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/postgresql/log/run \n   => a5d342b52443aee978fcd55fbe2f64d8\n2025/09/04 07:02:27 Rendered template for web: \n  source: /opt/csghub/embedded/sv/web/templates/pre-start.sample\n  target: /opt/csghub/service/web/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/web/pre-start \n   => b5ee85f081aa160114d72dfb72c52399\n2025/09/04 07:02:27 Rendered template for dnsmasq: \n  source: /opt/csghub/embedded/sv/dnsmasq/templates/pre-start.sample\n  target: /opt/csghub/service/dnsmasq/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/dnsmasq/pre-start \n   => 8bfbd850e7e955f94cca9ecbacfcfe9a\n2025/09/04 07:02:27 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/pre-start.sample\n  target: /opt/csghub/service/nginx/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/nginx/pre-start \n   => c559e0abb1d86ffaeb79066069900442\n2025/09/04 07:02:27 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/pre-start.sample\n  target: /opt/csghub/service/minio/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/minio/pre-start \n   => 6e4c29db37af0b17a526fc3a87e83992\n2025/09/04 07:02:27 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/scripts/01_promote_superuser.sql.sample\n  target: /opt/csghub/service/server/scripts/01_promote_superuser.sql\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/server/scripts/01_promote_superuser.sql \n   => 489087244c1b97f67d63bf88287350b4\n2025/09/04 07:02:27 Rendered template for runner: \n  source: /opt/csghub/embedded/sv/runner/templates/yamls/01_space.yaml.sample\n  target: /opt/csghub/service/runner/yamls/01_space.yaml\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/runner/yamls/01_space.yaml \n   => 81b0170bc866094662f880d0555683b6\n2025/09/04 07:02:27 Rendered template for temporal: \n  source: /opt/csghub/etc/temporal/docker.yaml.sample\n  target: /var/opt/csghub/temporal/docker.yaml\n2025/09/04 07:02:27 Rendered template for redis: \n  source: /opt/csghub/embedded/sv/redis/templates/run.sample\n  target: /opt/csghub/service/redis/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/redis/run \n   => 8bcfd49f0c0c80f017e67489f595ff5b\n2025/09/04 07:02:27 Restarting services temporal\nwarning: temporal: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for gitaly: \n  source: /opt/csghub/embedded/sv/gitaly/templates/log/run.sample\n  target: /opt/csghub/service/gitaly/log/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/gitaly/log/run \n   => 64282020ea307addf8f5a3769bd0e8e4\n2025/09/04 07:02:27 Rendered template for dnsmasq: \n  source: /opt/csghub/embedded/sv/dnsmasq/templates/run.sample\n  target: /opt/csghub/service/dnsmasq/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/dnsmasq/run \n   => 0c436e364109b22b6a2871dbc3bd1576\n2025/09/04 07:02:27 Restarting services dnsmasq\nwarning: dnsmasq: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/pre-start.sample\n  target: /opt/csghub/service/postgresql/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/postgresql/pre-start \n   => 23e7dce649d1ff96e4b091278c0010d9\n2025/09/04 07:02:27 Rendered template for web: \n  source: /opt/csghub/embedded/sv/web/templates/run.sample\n  target: /opt/csghub/service/web/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/web/run \n   => 2e7a6aaaee9f6253e99c31cd571cead9\n2025/09/04 07:02:27 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/run.sample\n  target: /opt/csghub/service/minio/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/minio/run \n   => 5241ba8fd6809bddb51c7ca4e784b8dc\n2025/09/04 07:02:27 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/run.sample\n  target: /opt/csghub/service/nginx/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/nginx/run \n   => f65a78166e3e9babdb37ce43cdbc5b09\n2025/09/04 07:02:27 Restarting services minio\nwarning: minio: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/scripts/02_seed_space_resources.sql.sample\n  target: /opt/csghub/service/server/scripts/02_seed_space_resources.sql\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/server/scripts/02_seed_space_resources.sql \n   => 249c41ff71d8681b1953d78ef5ce8954\n2025/09/04 07:02:27 Rendered template for runner: \n  source: /opt/csghub/embedded/sv/runner/templates/yamls/02_argo.yaml.sample\n  target: /opt/csghub/service/runner/yamls/02_argo.yaml\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/runner/yamls/02_argo.yaml \n   => e80c95a73a265efd96615504cfddaab1\n2025/09/04 07:02:27 Rendered template for gitaly: \n  source: /opt/csghub/embedded/sv/gitaly/templates/pre-start.sample\n  target: /opt/csghub/service/gitaly/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/gitaly/pre-start \n   => 410757024a3ddd5aefd2f4da360e2037\n2025/09/04 07:02:27 Rendered template for redis: \n  source: /opt/csghub/etc/redis/redis.conf.sample\n  target: /var/opt/csghub/redis/redis.conf\n2025/09/04 07:02:27 Restarting services redis\nwarning: redis: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for web: \n  source: /opt/csghub/embedded/sv/web/templates/scripts/01_platforms_llmmodel.sql.sample\n  target: /opt/csghub/service/web/scripts/01_platforms_llmmodel.sql\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/web/scripts/01_platforms_llmmodel.sql \n   => 103eb44b22a47d02c86c17304dda1caa\n2025/09/04 07:02:27 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/run.sample\n  target: /opt/csghub/service/postgresql/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/postgresql/run \n   => dce8d438351a64ae5adf2fc190b9d6c6\n2025/09/04 07:02:27 Rendered template for nginx: \n  source: /opt/csghub/etc/nginx/html/404.html.sample\n  target: /var/opt/csghub/nginx/html/404.html\n2025/09/04 07:02:27 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/scripts/03_seed_tag_categories.sql.sample\n  target: /opt/csghub/service/server/scripts/03_seed_tag_categories.sql\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/server/scripts/03_seed_tag_categories.sql \n   => 4025e46fbc4a58fea4baae9788880905\n2025/09/04 07:02:27 Rendered template for nats: \n  source: /opt/csghub/etc/nats/nats.conf.sample\n  target: /var/opt/csghub/nats/nats.conf\n2025/09/04 07:02:27 Config file changed: /var/opt/csghub/nats/nats.conf \n  c037651fa144eb9beeb2a7706531acd2 => c81e9b3cfd1387b89edad2733096f127\n2025/09/04 07:02:27 Rendered template for runner: \n  source: /opt/csghub/embedded/sv/runner/templates/yamls/03_knative.yaml.sample\n  target: /opt/csghub/service/runner/yamls/03_knative.yaml\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/runner/yamls/03_knative.yaml \n   => e22b488f2a1143b85a4c953d880c7231\n2025/09/04 07:02:27 Restarting services nats\nwarning: nats: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for web: \n  source: /opt/csghub/embedded/sv/web/templates/scripts/02_platforms_llmsetting.sql.sample\n  target: /opt/csghub/service/web/scripts/02_platforms_llmsetting.sql\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/web/scripts/02_platforms_llmsetting.sql \n   => affc57f7f31ba804686928b136705595\n2025/09/04 07:02:27 Rendered template for gitaly: \n  source: /opt/csghub/embedded/sv/gitaly/templates/run.sample\n  target: /opt/csghub/service/gitaly/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/gitaly/run \n   => e21e2a58d3b46341296b2070ac39d9a4\n2025/09/04 07:02:27 Rendered template for nginx: \n  source: /opt/csghub/etc/nginx/html/500.html.sample\n  target: /var/opt/csghub/nginx/html/500.html\n2025/09/04 07:02:27 Rendered template for postgresql: \n  source: /opt/csghub/etc/postgresql/pg_hba.conf.sample\n  target: /var/opt/csghub/postgresql/data/pg_hba.conf\n2025/09/04 07:02:27 Rendered template for registry: \n  source: /opt/csghub/embedded/sv/registry/templates/pre-start.sample\n  target: /opt/csghub/service/registry/pre-start\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/registry/pre-start \n   => 129b0cf3667252f1fe531785adff428d\n2025/09/04 07:02:27 Rendered template for web: \n  source: /opt/csghub/embedded/sv/web/templates/scripts/03_platforms_embeddingmodel.sql.sample\n  target: /opt/csghub/service/web/scripts/03_platforms_embeddingmodel.sql\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/web/scripts/03_platforms_embeddingmodel.sql \n   => 837cf263e45fbe8ca42754c214cc0ac5\n2025/09/04 07:02:27 Rendered template for nginx: \n  source: /opt/csghub/etc/nginx/html/502.html.sample\n  target: /var/opt/csghub/nginx/html/502.html\n2025/09/04 07:02:27 Rendered template for runner: \n  source: /opt/csghub/embedded/sv/runner/templates/yamls/05_lws.yaml.sample\n  target: /opt/csghub/service/runner/yamls/05_lws.yaml\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/runner/yamls/05_lws.yaml \n   => 92bb54036d198d4f8e9424424637b004\n2025/09/04 07:02:27 Restarting services runner\nwarning: runner: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for gitaly: \n  source: /opt/csghub/etc/gitaly/config.toml.sample\n  target: /var/opt/csghub/gitaly/config.toml\n2025/09/04 07:02:27 Restarting services gitaly\nwarning: gitaly: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/scripts/update_casdoor.sql.sample\n  target: /opt/csghub/service/casdoor/scripts/update_casdoor.sql\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/casdoor/scripts/update_casdoor.sql \n   => 814d7c009401913fb38b0d3e8e762bcc\n2025/09/04 07:02:27 Rendered template for server: \n  source: /opt/csghub/etc/server/config.toml.sample\n  target: /var/opt/csghub/server/config.toml\n2025/09/04 07:02:27 Config file changed: /var/opt/csghub/server/config.toml \n  7b3ee1e0e292708f3473939d7c7d4064 => 044c5713b8279f7fc1819bbc4b16f1c3\n2025/09/04 07:02:27 Restarting services server\nwarning: server: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for web: \n  source: /opt/csghub/embedded/sv/web/templates/scripts/04_platforms_embeddingsetting.sql.sample\n  target: /opt/csghub/service/web/scripts/04_platforms_embeddingsetting.sql\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/web/scripts/04_platforms_embeddingsetting.sql \n   => cb5737bc705aff43146fbe770d6fe16a\n2025/09/04 07:02:27 Rendered template for registry: \n  source: /opt/csghub/embedded/sv/registry/templates/run.sample\n  target: /opt/csghub/service/registry/run\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/registry/run \n   => b7812ef4e2d4f4a74e7eaff7ce409166\n2025/09/04 07:02:27 Rendered template for postgresql: \n  source: /opt/csghub/etc/postgresql/postgresql.conf.sample\n  target: /var/opt/csghub/postgresql/data/postgresql.conf\n2025/09/04 07:02:27 Restarting services postgresql\nwarning: postgresql: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for nginx: \n  source: /opt/csghub/etc/nginx/html/503.html.sample\n  target: /var/opt/csghub/nginx/html/503.html\n2025/09/04 07:02:27 Rendered template for casdoor: \n  source: /opt/csghub/etc/casdoor/app.conf.sample\n  target: /var/opt/csghub/casdoor/app.conf\n2025/09/04 07:02:27 Config file changed: /var/opt/csghub/casdoor/app.conf \n   => 2ad0ff4dd8eacfab4976cd44ddd7c827\n2025/09/04 07:02:27 Rendered template for web: \n  source: /opt/csghub/embedded/sv/web/templates/scripts/05_socialaccount_socialapp.sql.sample\n  target: /opt/csghub/service/web/scripts/05_socialaccount_socialapp.sql\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/web/scripts/05_socialaccount_socialapp.sql \n   => d36829ab4e432b4d7c048be9563d0b1f\n2025/09/04 07:02:27 Rendered template for registry: \n  source: /opt/csghub/etc/registry/config.yml.sample\n  target: /var/opt/csghub/registry/config.yml\n2025/09/04 07:02:27 Restarting services registry\nwarning: registry: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for nginx: \n  source: /opt/csghub/etc/nginx/html/config.js.sample\n  target: /var/opt/csghub/nginx/html/config.js\n2025/09/04 07:02:27 Rendered template for web: \n  source: /opt/csghub/embedded/sv/web/templates/scripts/06_socialaccount_socialapp_sites.sql.sample\n  target: /opt/csghub/service/web/scripts/06_socialaccount_socialapp_sites.sql\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/web/scripts/06_socialaccount_socialapp_sites.sql \n   => 56f9d6bcb6a17005962723345b78591a\n2025/09/04 07:02:27 Rendered template for nginx: \n  source: /opt/csghub/etc/nginx/html/deploy.html.sample\n  target: /var/opt/csghub/nginx/html/deploy.html\n2025/09/04 07:02:27 Rendered template for web: \n  source: /opt/csghub/embedded/sv/web/templates/scripts/07_accounts_user.sql.sample\n  target: /opt/csghub/service/web/scripts/07_accounts_user.sql\n2025/09/04 07:02:27 Config file changed: /opt/csghub/service/web/scripts/07_accounts_user.sql \n   => 0dcb8c8576d01fd608d731947be1a7e8\n2025/09/04 07:02:27 Restarting services web\nwarning: web: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for nginx: \n  source: /opt/csghub/etc/nginx/nginx.conf.sample\n  target: /var/opt/csghub/nginx/nginx.conf\n2025/09/04 07:02:27 Restarting services nginx\nwarning: nginx: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Rendered template for casdoor: \n  source: /opt/csghub/etc/casdoor/init_data.json.sample\n  target: /var/opt/csghub/casdoor/init_data.json\n2025/09/04 07:02:27 Config file changed: /var/opt/csghub/casdoor/init_data.json \n  e9be03da951ed11c5dbcd59191509977 => 57756ad76f06629313c10b60b7a3238c\n2025/09/04 07:02:27 Restarting services casdoor\nwarning: casdoor: unable to open supervise/ok: file does not exist\n2025/09/04 07:02:27 Reconfiguration completed successfully for all services.\n\nInitialization information is in the /etc/csghub.\n\n",
    "comments": [
      "看着像是服务没有正常启动。\ncsghub-ctl status 使用这个命令看看所有服务是否正常运行。\ncsghub-ctl tail 使用这个命令看一下server有什么错误log。",
      "看起来像是数据库初始化的问题，**Error: Failed to execute ./scripts/02_seed_space_resources.sql**\n怎么修改sql初始化的脚本？\n\nroot@707e773272ea:/# csghub-ctl status\nrun: accounting: (pid 3007) 1906s; run: log: (pid 2194) 1907s\nrun: casdoor: (pid 2912) 1906s; run: log: (pid 2193) 1907s\nrun: dataviewer: (pid 3696) 1905s; run: log: (pid 2180) 1907s\nrun: dnsmasq: (pid 2213) 1907s; run: log: (pid 2206) 1907s\nrun: gitaly: (pid 2218) 1907s; run: log: (pid 2211) 1907s\nrun: gitlab_shell: (pid 2223) 1907s; run: log: (pid 2217) 1907s\nrun: minio: (pid 2195) 1907s; run: log: (pid 2189) 1907s\nrun: mirror_lfs: (pid 3737) 1905s; run: log: (pid 2201) 1907s\nrun: mirror_repo: (pid 3738) 1905s; run: log: (pid 2185) 1907s\nrun: nats: (pid 2184) 1907s; run: log: (pid 2178) 1907s\nrun: nginx: (pid 2187) 1907s; run: log: (pid 2179) 1907s\nrun: notification: (pid 3119) 1906s; run: log: (pid 2200) 1907s\nrun: portal: (pid 2930) 1906s; run: log: (pid 2181) 1907s\nrun: postgresql: (pid 2190) 1907s; run: log: (pid 2182) 1907s\nrun: redis: (pid 2209) 1907s; run: log: (pid 2199) 1907s\nrun: registry: (pid 2183) 1907s; run: log: (pid 2174) 1907s\nrun: rproxy: (pid 3087) 1906s; run: log: (pid 2171) 1907s\nrun: runner: (pid 3108) 1906s; run: log: (pid 2210) 1907s\nrun: server: (pid 101748) 0s; run: log: (pid 2169) 1907s\nrun: temporal: (pid 2196) 1907s; run: log: (pid 2191) 1907s\nrun: user: (pid 3711) 1905s; run: log: (pid 2205) 1907s\nroot@707e773272ea:/# csghub-ctl tail\n2025/09/04 08:30:02 Tailing log for service * from /var/log/csghub/*/current...\n==> /var/log/csghub/accounting/current <==\n2025-09-04_07:58:06.54534 Starting server...\n2025-09-04_07:58:06.61121 init logger, level: INFO, format: json\n2025-09-04_07:58:06.61254 {\"time\":\"2025-09-04T07:58:06.612472663Z\",\"level\":\"INFO\",\"msg\":\"failed to initialize databasepinging pg database: dial tcp 127.0.0.1:5432: connect: connection refused\"}\n2025-09-04_07:58:07.61863 Starting server...\n2025-09-04_07:58:07.70852 init logger, level: INFO, format: json\n2025-09-04_07:58:07.83072 {\"time\":\"2025-09-04T07:58:07.830658252Z\",\"level\":\"INFO\",\"msg\":\"http server is running\",\"port\":8086}\n\n==> /var/log/csghub/agentic/current <==\n2025-09-04_07:49:23.69515 DEBUG    | [Factory gitlab_agent] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69522 DEBUG    | [Factory gitlab_agent.codereview] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69528 DEBUG    | [Factory gitlab_agent.mr_agent] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69534 DEBUG    | [Factory gitlab_agent.mr_pipeline_agent] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69541 DEBUG    | [Factory gitlab_agent.gitlab_ci] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69547 DEBUG    | [Factory gitlab_notification_agent] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69553 DEBUG    | [Factory gitlab_notification_center] Received a message: {'header': {'type': 'Started', 'content_type': 'application/json', 'extensions': {}}, 'reply': None, 'content': b''}\n2025-09-04_07:49:23.69587 [2025-09-04 07:49:23 +0000] [3241] [INFO] Running on http://127.0.0.1:8184 (CTRL + C to quit)\n2025-09-04_07:49:23.69963 [09/04/25 07:49:23] INFO     Running on http://127.0.0.1:8184     logging.py:106\n2025-09-04_07:49:23.69964                              (CTRL + C to quit)                                 \n\n==> /var/log/csghub/casdoor/current <==\n2025-09-04_07:58:07.73826 You are now connected to database \"casdoor\" as user \"casdoor\".\n2025-09-04_07:58:07.74330 DO\n2025-09-04_07:58:07.74443 DO\n2025-09-04_07:58:07.74626 DO\n2025-09-04_07:58:07.74759 DO\n2025-09-04_07:58:07.74792 \n2025-09-04_07:58:07.74793 Successfully executed all SQL files!\n2025-09-04_07:58:08.33449 2025/09/04 07:58:08 Starting Radius server on 0.0.0.0:1812\n2025-09-04_07:58:08.33475 2025/09/04 07:58:08 Listening on 0.0.0.0:389\n2025-09-04_07:58:08.34649 2025/09/04 07:58:08.346 [I]  http server Running on http://:8087\n\n==> /var/log/csghub/dataviewer/current <==\n2025-09-04_07:58:06.66277 {\"time\":\"2025-09-04T07:58:06.662694051Z\",\"level\":\"INFO\",\"msg\":\"failed to initialize databasepinging pg database: FATAL: the database system is starting up (SQLSTATE=57P03)\"}\n2025-09-04_07:58:07.66997 Starting server...\n2025-09-04_07:58:07.73606 init logger, level: INFO, format: json\n2025-09-04_07:58:07.74156 Error: unable to create workflow client, error: failed reaching server: connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:7233: connect: connection refused\"\n2025-09-04_07:58:08.74961 Starting server...\n2025-09-04_07:58:08.84736 init logger, level: INFO, format: json\n2025-09-04_07:58:08.87733 {\"time\":\"2025-09-04T07:58:08.877148278Z\",\"level\":\"INFO\",\"msg\":\"run viewer worker\",\"options\":{\"Host\":\"http://localhost\",\"Port\":8093,\"MaxConcurrentActivityExecutionSize\":5,\"MaxConcurrentLocalActivityExecutionSize\":10,\"MaxConcurrentWorkflowTaskExecutionSize\":2,\"ActivityStartToCloseTimeout\":7200,\"ActivityMaximumAttempts\":2,\"CacheDir\":\"\",\"DownloadLfsFile\":true,\"MaxThreadNumOfExport\":8,\"MaxConcurrentSessionExecutionSize\":1,\"SessionExecutionTimeout\":240,\"ConvertLimitSize\":5368709120}}\n2025-09-04_07:58:09.29951 {\"time\":\"2025-09-04T07:58:09.299449816Z\",\"level\":\"INFO\",\"msg\":\"Starting session worker\",\"Namespace\":\"default\",\"TaskQueue\":\"data_viewer_queue_dataset_update\",\"WorkerID\":\"3696@707e773272ea@\"}\n2025-09-04_07:58:09.30269 {\"time\":\"2025-09-04T07:58:09.30258482Z\",\"level\":\"INFO\",\"msg\":\"Started Worker\",\"Namespace\":\"default\",\"TaskQueue\":\"data_viewer_queue_dataset_update\",\"WorkerID\":\"3696@707e773272ea@\"}\n2025-09-04_07:58:09.30276 {\"time\":\"2025-09-04T07:58:09.302710095Z\",\"level\":\"INFO\",\"msg\":\"dataviewer http server is running\",\"port\":8093}\n\n==> /var/log/csghub/dnsmasq/current <==\n2025-09-04_07:58:06.55207 ./pre-start: line 19: setcap: command not found\n2025-09-04_07:58:06.55448 dnsmasq: started, version 2.91 cachesize 150\n2025-09-04_07:58:06.55450 dnsmasq: compile time options: IPv6 GNU-getopt no-DBus no-UBus no-i18n no-IDN DHCP DHCPv6 no-Lua TFTP no-conntrack ipset no-nftset auth no-DNSSEC loop-detect inotify dumpfile\n2025-09-04_07:58:06.55451 dnsmasq: reading /etc/resolv.conf\n2025-09-04_07:58:06.55452 dnsmasq: ignoring nameserver 127.0.0.1 - local interface\n2025-09-04_07:58:06.55453 dnsmasq: using nameserver 127.0.0.11#53\n2025-09-04_07:58:06.55456 dnsmasq: read /etc/hosts - 9 names\n\n==> /var/log/csghub/gitaly/current <==\n2025-09-04_07:58:06.90741 {\"duration_ms\":138,\"level\":\"info\",\"msg\":\"Started Gitaly\",\"pid\":2419,\"time\":\"2025-09-04T07:58:06.907Z\"}\n2025-09-04_07:58:06.90762 {\"level\":\"info\",\"msg\":\"maintenance: daily scheduled\",\"pid\":2419,\"scheduled\":\"2025-09-04T23:30:00Z\",\"time\":\"2025-09-04T07:58:06.907Z\"}\n2025-09-04_07:58:06.90807 {\"counting_duration_ms\":0,\"level\":\"info\",\"msg\":\"completed counting repositories\",\"pid\":2419,\"storage_path\":\"/var/opt/csghub/gitaly/repositories\",\"time\":\"2025-09-04T07:58:06.908Z\"}\n2025-09-04_07:58:06.90809 {\"counting_duration\":1,\"level\":\"info\",\"msg\":\"completed counting all repositories\",\"pid\":2419,\"time\":\"2025-09-04T07:58:06.908Z\"}\n2025-09-04_07:58:07.77897 {\"component\":\"backchannel.YamuxServer\",\"level\":\"info\",\"msg\":\"[ERR] yamux: Failed to read stream data: read tcp 127.0.0.1:8075-\\u003e127.0.0.1:57184: read: connection reset by peer\",\"pid\":2419,\"time\":\"2025-09-04T07:58:07.778Z\"}\n2025-09-04_07:58:07.77904 {\"level\":\"warning\",\"msg\":\"[core] [Channel #53 SubChannel #54]grpc: addrConn.createTransport failed to connect to {Addr: \\\"multiplexed/127.0.0.1:57190\\\", ServerName: \\\"multiplexed%2F127.0.0.1:57190\\\", }. Err: connection error: desc = \\\"error reading server preface: EOF\\\"\",\"pid\":2419,\"system\":\"system\",\"time\":\"2025-09-04T07:58:07.778Z\"}\n2025-09-04_07:58:07.77912 {\"component\":\"backchannel.YamuxServer\",\"level\":\"info\",\"msg\":\"[ERR] yamux: Failed to write header: write tcp 127.0.0.1:8075-\\u003e127.0.0.1:57184: use of closed network connection\",\"pid\":2419,\"time\":\"2025-09-04T07:58:07.779Z\"}\n2025-09-04_07:58:07.78404 {\"level\":\"warning\",\"msg\":\"[core] [Channel #73 SubChannel #75]grpc: addrConn.createTransport failed to connect to {Addr: \\\"multiplexed/127.0.0.1:57254\\\", ServerName: \\\"multiplexed%2F127.0.0.1:57254\\\", }. Err: connection error: desc = \\\"error reading server preface: EOF\\\"\",\"pid\":2419,\"system\":\"system\",\"time\":\"2025-09-04T07:58:07.784Z\"}\n2025-09-04_07:58:07.78408 {\"level\":\"warning\",\"msg\":\"[core] [Channel #74 SubChannel #76]grpc: addrConn.createTransport failed to connect to {Addr: \\\"multiplexed/127.0.0.1:57268\\\", ServerName: \\\"multiplexed%2F127.0.0.1:57268\\\", }. Err: connection error: desc = \\\"error reading server preface: EOF\\\"\",\"pid\":2419,\"system\":\"system\",\"time\":\"2025-09-04T07:58:07.784Z\"}\n2025-09-04_07:58:09.86626 {\"duration_ms\":3097,\"level\":\"info\",\"msg\":\"License database preloaded\",\"pid\":2419,\"time\":\"2025-09-04T07:58:09.866Z\"}\n\n==> /var/log/csghub/gitlab_shell/current <==\n2025-09-04_07:58:06.54912 Using existing Host Keys\n2025-09-04_07:58:06.57301 {\"error\":\"open /var/log/csghub/gitlab_shell/gitlab-shell.log: permission denied\",\"level\":\"warning\",\"log_file\":\"stdout\",\"msg\":\"Unable to configure logging, falling back to STDOUT\",\"time\":\"2025-09-04T07:58:06Z\"}\n2025-09-04_07:58:06.57383 {\"correlation_id\":\"01K49VQ77DW1HB7NGQ8FW468XB\",\"level\":\"info\",\"msg\":\"Listening for SSH connections\",\"supported_public_key_algorithms\":[\"ssh-rsa\",\"ssh-dss\",\"ecdsa-sha2-nistp256\",\"sk-ecdsa-sha2-nistp256@openssh.com\",\"ecdsa-sha2-nistp384\",\"ecdsa-sha2-nistp521\",\"ssh-ed25519\",\"sk-ssh-ed25519@openssh.com\",\"rsa-sha2-256\",\"rsa-sha2-512\"],\"tcp_address\":\"[::]:2222\",\"time\":\"2025-09-04T07:58:06Z\"}\n\n==> /var/log/csghub/minio/current <==\n2025-09-04_07:58:07.15114 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.150847781Z\",\"message\":\"MinIO Object Storage Server\"}\n2025-09-04_07:58:07.15128 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.151126036Z\",\"message\":\"Copyright: 2015-2025 MinIO, Inc.\\nLicense: GNU AGPLv3 - https://www.gnu.org/licenses/agpl-3.0.html\\nVersion: RELEASE.2025-03-12T18-04-18Z (go1.24.1 linux/amd64)\\n\"}\n2025-09-04_07:58:07.15131 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.151182906Z\",\"message\":\"API: http://172.27.0.2:9000  http://127.0.0.1:9000 \"}\n2025-09-04_07:58:07.15132 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.151217423Z\",\"message\":\"WebUI: http://172.27.0.2:9002 http://127.0.0.1:9002 \"}\n2025-09-04_07:58:07.15132 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.151236121Z\",\"message\":\"\\nDocs: https://docs.min.io\"}\n2025-09-04_07:58:07.53725 {\"level\":\"INFO\",\"time\":\"2025-09-04T07:58:07.537223457Z\",\"message\":\"You are running an older version of MinIO released 4 months before the latest release, update: Run `mc admin update ALIAS`\"}\n\n==> /var/log/csghub/mirror_lfs/current <==\n2025-09-04_08:29:15.75292 {\"time\":\"2025-09-04T08:29:15.75285674Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:20.75701 {\"time\":\"2025-09-04T08:29:20.756941173Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:25.76085 {\"time\":\"2025-09-04T08:29:25.760775794Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:30.76446 {\"time\":\"2025-09-04T08:29:30.764376124Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:35.76902 {\"time\":\"2025-09-04T08:29:35.76895322Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:40.77255 {\"time\":\"2025-09-04T08:29:40.772490512Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:45.77603 {\"time\":\"2025-09-04T08:29:45.775962842Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:50.77965 {\"time\":\"2025-09-04T08:29:50.779580578Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:55.78328 {\"time\":\"2025-09-04T08:29:55.78320576Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:30:00.78682 {\"time\":\"2025-09-04T08:30:00.786752151Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n\n==> /var/log/csghub/mirror_repo/current <==\n2025-09-04_08:29:15.88192 {\"time\":\"2025-09-04T08:29:15.881854283Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:20.88515 {\"time\":\"2025-09-04T08:29:20.885083419Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:25.88969 {\"time\":\"2025-09-04T08:29:25.889619794Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:30.89237 {\"time\":\"2025-09-04T08:29:30.892306356Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:35.89637 {\"time\":\"2025-09-04T08:29:35.896297185Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:40.89999 {\"time\":\"2025-09-04T08:29:40.899900909Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:45.90389 {\"time\":\"2025-09-04T08:29:45.903824903Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:50.90825 {\"time\":\"2025-09-04T08:29:50.908173667Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:29:55.91200 {\"time\":\"2025-09-04T08:29:55.911933485Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n2025-09-04_08:30:00.91558 {\"time\":\"2025-09-04T08:30:00.915519305Z\",\"level\":\"INFO\",\"msg\":\"no tasks to dispatch, sleep 5s\"}\n\n==> /var/log/csghub/nats/current <==\n2025-09-04_07:58:06.56479 [2184] 2025/09/04 07:58:06.564770 [INF]   Restored 0 messages for stream '$G > normalPriorityMsgStream' in 0s\n2025-09-04_07:58:06.56485 [2184] 2025/09/04 07:58:06.564851 [INF]   Starting restore for stream '$G > siteInternalMailStream'\n2025-09-04_07:58:06.56513 [2184] 2025/09/04 07:58:06.565123 [INF]   Restored 0 messages for stream '$G > siteInternalMailStream' in 0s\n2025-09-04_07:58:06.56519 [2184] 2025/09/04 07:58:06.565184 [INF]   Recovering 1 consumers for stream - '$G > deployServiceUpdateStream'\n2025-09-04_07:58:06.56565 [2184] 2025/09/04 07:58:06.565641 [INF]   Recovering 1 consumers for stream - '$G > highPriorityMsgStream'\n2025-09-04_07:58:06.56583 [2184] 2025/09/04 07:58:06.565830 [INF]   Recovering 1 consumers for stream - '$G > meteringEventStream'\n2025-09-04_07:58:06.56608 [2184] 2025/09/04 07:58:06.566077 [INF]   Recovering 1 consumers for stream - '$G > normalPriorityMsgStream'\n2025-09-04_07:58:06.56629 [2184] 2025/09/04 07:58:06.566289 [INF]   Recovering 1 consumers for stream - '$G > siteInternalMailStream'\n2025-09-04_07:58:06.56658 [2184] 2025/09/04 07:58:06.566580 [INF] Listening for client connections on 0.0.0.0:4222\n2025-09-04_07:58:06.56697 [2184] 2025/09/04 07:58:06.566956 [INF] Server is ready\n\n==> /var/log/csghub/nginx/current <==\n2025-09-04_08:26:00.33031 2025/09/04 08:26:00 [error] 2464#2464: *48 connect() failed (111: Connection refused) while connecting to upstream, client: 10.16.110.29, server: 10.55.3.5, request: \"POST /api/v1/events HTTP/1.1\", upstream: \"http://127.0.0.1:8080/api/v1/events\", host: \"10.55.3.5\", referrer: \"http://10.55.3.5/models\"\n2025-09-04_08:26:00.33037 {\"remote_addr\":\"10.16.110.29\",\"remote_user\":\"\",\"time_local\":\"04/Sep/2025:08:26:00 +0000\",\"request\":\"POST /api/v1/events HTTP/1.1\",\"status\":\"502\",\"body_bytes_sent\":\"2415\",\"http_referer\":\"http://10.55.3.5/models\",\"http_user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8080\",\"upstream_status\":\"502\",\"request_time\":0.000,\"upstream_response_time\":0.000,\"host\":\"10.55.3.5\"}\n2025-09-04_08:28:08.26151 2025/09/04 08:28:08 [error] 2464#2464: *48 connect() failed (111: Connection refused) while connecting to upstream, client: 10.16.110.29, server: 10.55.3.5, request: \"GET /api/v1/notifications/count HTTP/1.1\", upstream: \"http://127.0.0.1:8080/api/v1/notifications/count\", host: \"10.55.3.5\", referrer: \"http://10.55.3.5/models\"\n2025-09-04_08:28:08.26170 {\"remote_addr\":\"10.16.110.29\",\"remote_user\":\"\",\"time_local\":\"04/Sep/2025:08:28:08 +0000\",\"request\":\"GET /api/v1/notifications/count HTTP/1.1\",\"status\":\"502\",\"body_bytes_sent\":\"2415\",\"http_referer\":\"http://10.55.3.5/models\",\"http_user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8080\",\"upstream_status\":\"502\",\"request_time\":0.000,\"upstream_response_time\":0.000,\"host\":\"10.55.3.5\"}\n2025-09-04_08:28:08.26234 2025/09/04 08:28:08 [error] 2464#2464: *47 connect() failed (111: Connection refused) while connecting to upstream, client: 10.16.110.29, server: 10.55.3.5, request: \"GET /api/v1/notifications/poll/1?timezone=Asia/Shanghai HTTP/1.1\", upstream: \"http://127.0.0.1:8080/api/v1/notifications/poll/1?timezone=Asia/Shanghai\", host: \"10.55.3.5\", referrer: \"http://10.55.3.5/models\"\n2025-09-04_08:28:08.26241 {\"remote_addr\":\"10.16.110.29\",\"remote_user\":\"\",\"time_local\":\"04/Sep/2025:08:28:08 +0000\",\"request\":\"GET /api/v1/notifications/poll/1?timezone=Asia/Shanghai HTTP/1.1\",\"status\":\"502\",\"body_bytes_sent\":\"2415\",\"http_referer\":\"http://10.55.3.5/models\",\"http_user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8080\",\"upstream_status\":\"502\",\"request_time\":0.000,\"upstream_response_time\":0.000,\"host\":\"10.55.3.5\"}\n2025-09-04_08:28:08.33131 2025/09/04 08:28:08 [error] 2464#2464: *48 connect() failed (111: Connection refused) while connecting to upstream, client: 10.16.110.29, server: 10.55.3.5, request: \"POST /api/v1/events HTTP/1.1\", upstream: \"http://127.0.0.1:8080/api/v1/events\", host: \"10.55.3.5\", referrer: \"http://10.55.3.5/models\"\n2025-09-04_08:28:08.33150 {\"remote_addr\":\"10.16.110.29\",\"remote_user\":\"\",\"time_local\":\"04/Sep/2025:08:28:08 +0000\",\"request\":\"POST /api/v1/events HTTP/1.1\",\"status\":\"502\",\"body_bytes_sent\":\"2415\",\"http_referer\":\"http://10.55.3.5/models\",\"http_user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8080\",\"upstream_status\":\"502\",\"request_time\":0.000,\"upstream_response_time\":0.000,\"host\":\"10.55.3.5\"}\n2025-09-04_08:28:08.33164 2025/09/04 08:28:08 [error] 2464#2464: *47 connect() failed (111: Connection refused) while connecting to upstream, client: 10.16.110.29, server: 10.55.3.5, request: \"POST /api/v1/events HTTP/1.1\", upstream: \"http://127.0.0.1:8080/api/v1/events\", host: \"10.55.3.5\", referrer: \"http://10.55.3.5/models\"\n2025-09-04_08:28:08.33173 {\"remote_addr\":\"10.16.110.29\",\"remote_user\":\"\",\"time_local\":\"04/Sep/2025:08:28:08 +0000\",\"request\":\"POST /api/v1/events HTTP/1.1\",\"status\":\"502\",\"body_bytes_sent\":\"2415\",\"http_referer\":\"http://10.55.3.5/models\",\"http_user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8080\",\"upstream_status\":\"502\",\"request_time\":0.000,\"upstream_response_time\":0.000,\"host\":\"10.55.3.5\"}\n\n==> /var/log/csghub/notification/current <==\n2025-09-04_07:58:07.87334 {\"time\":\"2025-09-04T07:58:07.87323508Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":15}\n2025-09-04_07:58:07.87334 {\"time\":\"2025-09-04T07:58:07.87323872Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":16}\n2025-09-04_07:58:07.87335 {\"time\":\"2025-09-04T07:58:07.873201331Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":18}\n2025-09-04_07:58:07.87335 {\"time\":\"2025-09-04T07:58:07.873246552Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":8}\n2025-09-04_07:58:07.87336 {\"time\":\"2025-09-04T07:58:07.87325138Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":6}\n2025-09-04_07:58:07.87337 {\"time\":\"2025-09-04T07:58:07.873247375Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":10}\n2025-09-04_07:58:07.87338 {\"time\":\"2025-09-04T07:58:07.873240184Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":0}\n2025-09-04_07:58:07.87338 {\"time\":\"2025-09-04T07:58:07.87323602Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":1}\n2025-09-04_07:58:07.87339 {\"time\":\"2025-09-04T07:58:07.873265555Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":7}\n2025-09-04_07:58:07.87339 {\"time\":\"2025-09-04T07:58:07.87328891Z\",\"level\":\"INFO\",\"msg\":\"message dispatcher started\",\"dispatcher_id\":11}\n\n==> /var/log/csghub/portal/current <==\n2025-09-04_08:17:03.28223 {\"time\":\"2025-09-04T08:17:03.282192467Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/zhHant-D4ojFWZk.css\":0}\n2025-09-04_08:17:03.29030 {\"time\":\"2025-09-04T08:17:03.290276271Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/lodash-CUM784Py.js\":0}\n2025-09-04_08:17:03.29067 {\"time\":\"2025-09-04T08:17:03.290623572Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/components-BR-wKlBP.css\":0}\n2025-09-04_08:17:03.29068 {\"time\":\"2025-09-04T08:17:03.290638937Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/element-plus-C6wo0AKd.css\":0}\n2025-09-04_08:17:03.32783 {\"time\":\"2025-09-04T08:17:03.327794006Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/vendor-DxeqvKnK.js\":2}\n2025-09-04_08:17:03.35816 {\"time\":\"2025-09-04T08:17:03.358135941Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/element-plus-DWkN6ha2.js\":1}\n2025-09-04_08:17:03.44881 {\"time\":\"2025-09-04T08:17:03.448791334Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/zhHant-BnzEFRMx.js\":0}\n2025-09-04_08:17:03.44973 {\"time\":\"2025-09-04T08:17:03.449701462Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/components-D5tbeXZT.js\":1}\n2025-09-04_08:17:03.49771 {\"time\":\"2025-09-04T08:17:03.49768504Z\",\"level\":\"INFO\",\"msg\":\"assets request\",\"/assets/main-BNctXl3I.js\":0}\n2025-09-04_08:25:39.60689 {\"time\":\"2025-09-04T08:25:39.606768573Z\",\"level\":\"INFO\",\"msg\":\"Portal Request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":0,\"status\":200,\"current_user\":\"\",\"url\":\"/\"}\n\n==> /var/log/csghub/postgresql/current <==\n2025-09-04_08:30:02.22836           LIMIT 1)\n2025-09-04_08:30:02.22837           INSERT INTO public.space_resources (id, name, resources, cluster_id)\n2025-09-04_08:30:02.22837               VALUES\n2025-09-04_08:30:02.22838               (1, 'CPU basic · 0.5 vCPU · 1 GB', '{ \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }', (SELECT cluster_id FROM selected_cluster)),\n2025-09-04_08:30:02.22839               (2, 'CPU basic · 2 vCPU · 4 GB', '{ \"cpu\": { \"type\": \"Intel\", \"num\": \"2\" }, \"memory\": \"4Gi\" }', (SELECT cluster_id FROM selected_cluster))\n2025-09-04_08:30:02.22839       ON CONFLICT (id)\n2025-09-04_08:30:02.22840           DO UPDATE SET\n2025-09-04_08:30:02.22841               name = EXCLUDED.name,\n2025-09-04_08:30:02.22841               resources = EXCLUDED.resources,\n2025-09-04_08:30:02.22843               cluster_id = EXCLUDED.cluster_id;\n\n==> /var/log/csghub/producer/current <==\n2025-09-04_07:49:40.85494 [2025-09-04 07:49:40] INFO [celery.beat:632] beat: Starting...\n2025-09-04_07:49:41.00193 [2025-09-04 07:49:41] INFO [celery.beat:278] Scheduler: Sending due task sync-github-user-perms (codereview.tasks.sync_github_user_perms)\n2025-09-04_07:49:41.07581 [2025-09-04 07:49:41] INFO [celery.beat:278] Scheduler: Sending due task refresh-user-starship-app-tokens (codereview.tasks.refresh_user_starship_app_tokens)\n2025-09-04_07:49:41.07739 [2025-09-04 07:49:41] INFO [celery.beat:278] Scheduler: Sending due task sync-user-perms (codereview.tasks.sync_user_perms)\n2025-09-04_07:50:00.00030 [2025-09-04 07:50:00] INFO [celery.beat:278] Scheduler: Sending due task sync-user-perms (codereview.tasks.sync_user_perms)\n2025-09-04_07:50:00.00221 [2025-09-04 07:50:00] INFO [celery.beat:278] Scheduler: Sending due task refresh-user-starship-app-tokens (codereview.tasks.refresh_user_starship_app_tokens)\n2025-09-04_07:50:00.00345 [2025-09-04 07:50:00] INFO [celery.beat:278] Scheduler: Sending due task sync-github-user-perms (codereview.tasks.sync_github_user_perms)\n2025-09-04_07:55:00.00064 [2025-09-04 07:55:00] INFO [celery.beat:278] Scheduler: Sending due task sync-github-user-perms (codereview.tasks.sync_github_user_perms)\n2025-09-04_07:55:00.00295 [2025-09-04 07:55:00] INFO [celery.beat:278] Scheduler: Sending due task refresh-user-starship-app-tokens (codereview.tasks.refresh_user_starship_app_tokens)\n2025-09-04_07:55:00.00462 [2025-09-04 07:55:00] INFO [celery.beat:278] Scheduler: Sending due task sync-user-perms (codereview.tasks.sync_user_perms)\n\n==> /var/log/csghub/redis/current <==\n2025-09-04_07:58:06.55563 2209:M 04 Sep 2025 07:58:06.555 * monotonic clock: POSIX clock_gettime\n2025-09-04_07:58:06.55620 2209:M 04 Sep 2025 07:58:06.556 * Running mode=standalone, port=6379.\n2025-09-04_07:58:06.55624 2209:M 04 Sep 2025 07:58:06.556 # Server initialized\n2025-09-04_07:58:06.60390 2209:M 04 Sep 2025 07:58:06.603 * DB loaded from append only file: 0.046 seconds\n2025-09-04_07:58:06.60392 2209:M 04 Sep 2025 07:58:06.603 * Ready to accept connections\n2025-09-04_07:59:07.01213 2209:M 04 Sep 2025 07:59:07.012 * 10000 changes in 60 seconds. Saving...\n2025-09-04_07:59:07.01280 2209:M 04 Sep 2025 07:59:07.012 * Background saving started by pid 6999\n2025-09-04_07:59:07.01512 6999:C 04 Sep 2025 07:59:07.015 * DB saved on disk\n2025-09-04_07:59:07.01546 6999:C 04 Sep 2025 07:59:07.015 * RDB: 0 MB of memory used by copy-on-write\n2025-09-04_07:59:07.11491 2209:M 04 Sep 2025 07:59:07.114 * Background saving terminated with success\n\n==> /var/log/csghub/registry/current <==\n2025-09-04_07:58:06.61196 mc: <ERROR> Unable to initialize new alias from the provided credentials. Get \"http://127.0.0.1:9000/probe-bsign-g65b4hfsbbxv40kw4nhf5eq0cdlrzo/?location=\": dial tcp 127.0.0.1:9000: connect: connection refused.\n2025-09-04_07:58:06.62947 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"warning\",\"msg\":\"No HTTP secret provided - generated random secret. This may cause problems with uploads if multiple registries are behind a load-balancer. To provide a shared secret, fill in http.secret in the configuration file or set the REGISTRY_HTTP_SECRET environment variable.\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.62942142Z\",\"version\":\"2.8.3\"}\n2025-09-04_07:58:06.62951 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"info\",\"msg\":\"redis not configured\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.629491225Z\",\"version\":\"2.8.3\"}\n2025-09-04_07:58:06.62960 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"info\",\"msg\":\"backend redirection disabled\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.629587658Z\",\"version\":\"2.8.3\"}\n2025-09-04_07:58:06.62962 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"info\",\"msg\":\"using inmemory blob descriptor cache\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.629611131Z\",\"version\":\"2.8.3\"}\n2025-09-04_07:58:06.62965 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"info\",\"msg\":\"Starting upload purge in 41m0s\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.629567664Z\",\"version\":\"2.8.3\"}\n2025-09-04_07:58:06.62979 {\"go.version\":\"go1.20.8\",\"instance.id\":\"8e7246f8-bfca-4c69-aa11-ab286069d6cc\",\"level\":\"info\",\"msg\":\"listening on 127.0.0.1:5001\",\"service\":\"registry\",\"time\":\"2025-09-04T07:58:06.629786246Z\",\"version\":\"2.8.3\"}\n\n==> /var/log/csghub/rproxy/current <==\n2025-09-04_07:58:06.54483 Starting server...\n2025-09-04_07:58:06.64762 init logger, level: INFO, format: json\n2025-09-04_07:58:06.64880 {\"time\":\"2025-09-04T07:58:06.64877199Z\",\"level\":\"INFO\",\"msg\":\"failed to initialize databasepinging pg database: dial tcp 127.0.0.1:5432: connect: connection refused\"}\n2025-09-04_07:58:07.65577 Starting server...\n2025-09-04_07:58:07.74133 init logger, level: INFO, format: json\n2025-09-04_07:58:07.75824 {\"time\":\"2025-09-04T07:58:07.758214112Z\",\"level\":\"INFO\",\"msg\":\"rproxy http server is running\",\"port\":8083}\n\n==> /var/log/csghub/runner/current <==\n2025-09-04_07:58:07.70441 Database: csghub_server\n2025-09-04_07:58:07.70442 Username: csghub_server\n2025-09-04_07:58:07.70443 Password: ******\n2025-09-04_07:58:07.70444 Connection: psql -h localhost -U csghub_server -d csghub_server\n2025-09-04_07:58:07.70445 -------------------------------------\n2025-09-04_07:58:07.71934 Starting server...\n2025-09-04_07:58:07.80975 init logger, level: INFO, format: json\n2025-09-04_07:58:07.94246 {\"time\":\"2025-09-04T07:58:07.942373816Z\",\"level\":\"ERROR\",\"msg\":\"No kubeconfig files\",\"path\":\"/etc/csghub/.kube\"}\n2025-09-04_07:58:07.94257 {\"time\":\"2025-09-04T07:58:07.942556909Z\",\"level\":\"INFO\",\"msg\":\"deploy runner is running\",\"port\":8082}\n2025-09-04_07:58:07.94269 {\"time\":\"2025-09-04T07:58:07.942638997Z\",\"level\":\"ERROR\",\"msg\":\"failed to get cluster for image builder\",\"clusterID\":\"\",\"error\":\"cluster with the given ID does not exist\"}\n\n==> /var/log/csghub/server/current <==\n2025-09-04_08:30:02.22662  public\n2025-09-04_08:30:02.22663 (1 row)\n2025-09-04_08:30:02.22664 \n2025-09-04_08:30:02.22830 psql:scripts/02_seed_space_resources.sql:43: FATAL:  null value in column \"cluster_id\" of relation \"space_resources\" violates not-null constraint\n2025-09-04_08:30:02.22831 DETAIL:  Failing row contains (1, CPU basic · 0.5 vCPU · 1 GB, { \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }, null, 2025-09-04 16:30:02.226688+08, 2025-09-04 16:30:02.226688+08).\n2025-09-04_08:30:02.23231 psql:scripts/02_seed_space_resources.sql:43: server closed the connection unexpectedly\n2025-09-04_08:30:02.23242       This probably means the server terminated abnormally\n2025-09-04_08:30:02.23244       before or while processing the request.\n2025-09-04_08:30:02.23244 psql:scripts/02_seed_space_resources.sql:43: error: connection to server was lost\n2025-09-04_08:30:02.23405 Error: Failed to execute ./scripts/02_seed_space_resources.sql\n\n",
      "@MasonXon 帮看看，像是db初始化失败了",
      "可以参考下这里的解决方案 https://github.com/OpenCSGs/csghub/issues/1335#issuecomment-3256866168"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1332"
  },
  {
    "id": "issue_1326",
    "title": "gitaly-wrapper这个源码在哪，如何编译的",
    "body": "gitaly-wrapper这个源码在哪，如何编译的",
    "comments": [
      "gitaly不用编译，直接使用官方镜像就可以",
      "> gitaly不用编译，直接使用官方镜像就可以\n\n我这边用的是all in one镜像，镜像里的gitaly的启动命令是\nexec chpst -e /opt/csghub/etc/gitaly/env -P\n-u git:git\n/opt/csghub/embedded/bin/gitaly-wrapper /opt/csghub/embedded/bin/gitaly serve /var/opt/csghub/gitaly/config.toml\n想问下wrapper 这个是从哪来的",
      "@yxuebo1987-collab https://gitlab.com/gitlab-org/gitaly 是使用 gitaly 的官方项目编译出来的"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1326"
  },
  {
    "id": "issue_1324",
    "title": "当前只支持s3存储吗？",
    "body": "当前只支持s3存储吗？本地目录存储支持吗？",
    "comments": [
      "你好，是的，当前仅支持 S3 存储 LFS 文件"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1324"
  },
  {
    "id": "issue_1323",
    "title": "本地部署csghub+dataflow,dataflow使用不了",
    "body": "使用下面这个docker compose在本地部署服务\n```bash\nservices:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.10.0-ce\n    container_name: csghub\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://xx.xx.xx.xx\"\n        \n        server:\n          multi_sync:\n            enabled: false\n          proxy:\n            hosts: []\n          model:\n            download_endpoint: \"http://xx.xx.xx.xx\"\n          telemetry:\n            enable: false\n          dataflow:\n            address: \"http://dataflow:8000\"  # 使用容器名\n          starship:\n            enable: true\n        \n        runner:\n          enable: false\n    \n    ports:\n      - '80:80'\n      - '2222:2222'\n      - '5000:5000'\n      - '8000:8000'\n      - '8001:8001'\n      - '8002:8002'\n      - '9000:9000'\n      - '9001:9001'\n    \n    volumes:\n      - ./csghub/etc:/etc/csghub\n      - ./csghub/logs:/var/log/csghub\n      - ./csghub/data:/var/opt/csghub\n    \n    restart: always\n    shm_size: '2g'\n\n  # 使用独立的PostgreSQL容器\n  postgres:\n    image: postgres:13\n    container_name: csghub-postgres\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: postgres123\n      POSTGRES_DB: postgres\n      # 使用初始化脚本创建dataflow用户\n      POSTGRES_INITDB_ARGS: \"-E UTF8\"\n    volumes:\n      - ./postgres-data:/var/lib/postgresql/data\n      - ./init-db.sql:/docker-entrypoint-initdb.d/init.sql:ro\n    ports:\n      - \"5432:5432\"\n    restart: always\n\n  dataflow:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/dataflow:latest\n    container_name: dataflow\n    environment:\n      CSGHUB_ENDPOINT: \"http://xx.xx.xx.xx\"\n      DATABASE_HOSTNAME: \"postgres\"  # 使用独立的postgres容器\n      DATABASE_PORT: \"5432\"\n      DATABASE_USERNAME: \"dataflow\"\n      DATABASE_PASSWORD: \"8f444970fcde559c\"\n      DATABASE_DB: \"dataflow\"\n      DATA_DIR: \"/data\"\n      MAX_WORKERS: 20\n      RAY_ENABLE: \"false\"\n      RAY_LOG_DIR: \"/var/log/dataflow\"\n      API_SERVER: \"0.0.0.0\"\n      API_PORT: 8000\n      ENABLE_OPENTELEMETRY: \"false\"\n    volumes:\n      - ./csghub/data/dataflow:/data\n      - ./csghub/logs/dataflow:/var/log/dataflow\n    restart: always\n    depends_on:\n      - postgres\n ```\n\n服务正常启动，dataflow容器日志正常：\n```bash\ndocker logs dataflow\n/usr/local/lib/python3.10/site-packages/pydantic/_internal/_fields.py:160: UserWarning: Field \"model_arn\" has conflict with protected namespace \"model_\".\n\nYou may be able to resolve this warning by setting `model_config['protected_namespaces'] = ()`.\n  warnings.warn(\nINFO:     Started server process [1]\nINFO:     Waiting for application startup.\n2025-08-25 13:42:07.086 | INFO     | data_server.main:lifespan:22 - Initializing application...\n2025-08-25 13:42:07.086 | INFO     | data_server.agent.deps:init_managers:13 - Initializing managers...\n2025-08-25 13:42:07.086 | INFO     | data_server.agent.deps:init_managers:18 - Connection manager initialized\n2025-08-25 13:42:07.086 | INFO     | data_server.main:lifespan:29 - Managers initialized successfully\n2025-08-25 13:42:07.086 | INFO     | data_server.main:lifespan:44 - Application startup complete\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)\n```\n但是前端访问时没有算子显示，也没法新建，请问是啥原因呢，是哪里配置有问题吗\n<img width=\"2581\" height=\"1042\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/74ccef35-f155-4e97-add1-1ecf5af5f843\" />",
    "comments": [
      "要想在本地部署实现下面这些功能，需要怎么配置呢\n<img width=\"2210\" height=\"1998\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2fdd5ea7-69f1-4943-98fa-72eefc12b214\" />",
      "@HaiHui886 帮忙解答一下",
      "@HaiHui886 @Rader 您好，能帮忙解答一下嘛",
      "@Lixingming18 \n\n1. 请参考 https://github.com/OpenCSGs/csghub-dataflow上面的build step, 使用最新代码编译一个最新的dataflow的image。\n2. 修改https://github.com/OpenCSGs/csghub-dataflow/blob/main/docker-compose-prd.yml这个文件中的参数符合本地环境变量\n3. 安装csghub-ce版本, 然后修改上面docker-compose文件中的dataflow地址向本地的dataflow环境\n          dataflow:\n            address: \"http://dataflow:8000\"  # 使用容器名\n\n\n",
      "<img width=\"3723\" height=\"2132\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3146f2c3-56f8-462b-a51a-d2fcedc07731\" />\n\n@HaiHui886 我按照您这个说明进行安装，但是点击数据工具模块时还是看不到dataflow相关的页面，几个接口有报错，msg\n: \n\"failed to get user 'root' token for git: failed to get response, path:http://127.0.0.1:8088/api/v1/user/root/tokens/first?current_user=root&app=git&token_name=dataflow, status:404\" 但是我似乎没有看到在哪里有这个配置信息\n",
      "@Lixingming18 \n1. 请问安装是那个版本的csghub? 需要使用最新的版本csghub+dataflow\n2. 请详细描述一下您的部署步骤，包括安装配置。\n3. 这个127.0.0.1:8088是portal的地址吗？\n",
      "1. 使用https://github.com/OpenCSGs/csghub-dataflow上面的build step,  ‘docker build -t dataflow . -f Dockerfile’ 编译得到dataflow的image。\n2. 使用下面这个docker compose 启动 dataflow服务：\n```bash\nservices:\n\n  dataflow_postgres_db:\n    restart: unless-stopped\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/postgres:15.10\n    volumes:\n      - /data/v2/postgres_db_data:/var/lib/postgresql/data\n    command: -p 5432\n    environment:\n      - POSTGRES_DB=data_flow\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=postgres\n    ports:\n      - \"5433:5432\"\n    networks:\n      - csg-network\n\n  dataflow_mongo_db:\n    restart: unless-stopped\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/mongo:8.0.12\n    volumes:\n      - /data/project/csghub-test/data/v2/mongodata:/data/db\n    environment:\n      - MONGO_INITDB_ROOT_USERNAME=root\n      - MONGO_INITDB_ROOT_PASSWORD=example\n    ports:\n      - \"27017:27017\"\n    networks:\n      - csg-network\n\n  dataflow_celery_redis:\n    restart: unless-stopped\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/redis:7.2.5\n    volumes:\n      - /data/project/csghub-test/dataflow_data/celery_redis_data:/data\n    ports:\n      - \"16379:6379\"\n    networks:\n      - csg-network\n\n  dataflow_celery_worker:\n    restart: unless-stopped\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/dataflow:20250916\n    command: >\n      sh -c \"\n        MILLISECOND_TIMESTAMP=$$(date +%s%3N);\n        NODENAME=worker_$$MILLISECOND_TIMESTAMP@$$(hostname -f);\n        celery -A data_celery.main:celery_app worker --loglevel=info --pool=gevent -n $$NODENAME\n      \"\n    volumes:\n      - /data/project/csghub-test/data/v2/apidata:/data/dataflow_data\n    environment:\n      - DATA_DIR=/data/dataflow_data\n      - CSGHUB_ENDPOINT=http://csghub\n      - MAX_WORKERS=99\n      - RAY_ADDRESS=auto\n      - RAY_ENABLE=False\n      - RAY_LOG_DIR=/home/output\n      - API_SERVER=0.0.0.0\n      - API_PORT=8001\n      - ENABLE_OPENTELEMETRY=False\n      - DATABASE_DB=data_flow\n      - DATABASE_USERNAME=postgres\n      - DATABASE_PASSWORD=postgres\n      - DATABASE_HOSTNAME=dataflow_postgres_db\n      - DATABASE_PORT=5432\n      - REDIS_HOST_URL=redis://dataflow_celery_redis:6379\n      - MONG_HOST_URL=mongodb://root:example@dataflow_mongo_db:27017\n    ports:\n      - \"8001:8001\"\n    depends_on:\n      - dataflow_celery_redis\n      - dataflow_mongo_db\n      - dataflow_postgres_db\n    networks:\n      - csg-network\n\n  dataflow_label_studio:\n    stdin_open: true\n    tty: true\n    image: heartexlabs/label-studio:latest\n    restart: unless-stopped\n    expose:\n      - \"8002\"\n    depends_on:\n      - dataflow_postgres_db\n    environment:\n      - DJANGO_DB=default\n      - POSTGRE_NAME=postgres\n      - POSTGRE_USER=postgres\n      - POSTGRE_PASSWORD=postgres\n      - POSTGRE_PORT=5432\n      - POSTGRE_HOST=dataflow_postgres_db\n      - LABEL_STUDIO_HOST=${LABEL_STUDIO_HOST:-}\n      - JSON_LOG=1\n      - LABEL_STUDIO_HOST=0.0.0.0\n      - CSG_HUB_ENDPOINT=http://csghub\n      - LABEL_STUDIO_PORT=8002\n  #    - LOG_LEVEL=DEBUG\n    volumes:\n      - /data/project/csghub-test/data/v2/label-studio:/label-studio/data:rw\n    ports:\n      - \"8002:8002\"\n    networks:\n      - csg-network\n\n  dataflow_api_server:\n    restart: unless-stopped\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/dataflow:20250916\n    command: >\n      sh -c \"\n        uvicorn data_server.main:app --host 0.0.0.0 --port 10443\n      \"\n    volumes:\n      - /data/project/csghub-test/data/v2/apidata:/data/dataflow_data\n    environment:\n      - DATA_DIR=/data/dataflow_data\n      - CSGHUB_ENDPOINT=http://csghub\n      - MAX_WORKERS=99\n      - RAY_ADDRESS=auto\n      - RAY_ENABLE=False\n      - RAY_LOG_DIR=/home/output\n      - API_SERVER=0.0.0.0\n      - API_PORT=10443\n      - ENABLE_OPENTELEMETRY=False\n      - DATABASE_DB=data_flow\n      - DATABASE_USERNAME=postgres\n      - DATABASE_PASSWORD=postgres\n      - DATABASE_HOSTNAME=dataflow_postgres_db\n      - DATABASE_PORT=5432\n      - STUDIO_JUMP_URL=http://csghub:8002\n      - REDIS_HOST_URL=redis://dataflow_celery_redis:6379\n      - MONG_HOST_URL=mongodb://root:example@dataflow_mongo_db:27017\n    ports:\n      - \"10443:10443\"\n    depends_on:\n      - dataflow_celery_redis\n      - dataflow_mongo_db\n      - dataflow_postgres_db\n      - dataflow_celery_worker\n    networks:\n      - csg-network\n\nnetworks:\n  csg-network:\n    driver: bridge\n```\n\n3.使用下面这个docker compose启动csghub服务\n\n```bash\nservices:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.10.0-ce\n    container_name: csghub\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://xxx.xxx.xxx.xxx\"\n        \n        server:\n          multi_sync:\n            enabled: false\n          proxy:\n            hosts: []\n          model:\n            download_endpoint: \"http://xxx.xxx.xxx.xxx\"\n          telemetry:\n            enable: false\n          dataflow:\n            address: \"http://dataflow_api_server:10443\" \n          starship:\n            enable: true\n        \n        runner:\n          enable: false\n    \n    ports:\n      - '80:80'\n      - '2222:2222'\n      - '8000:8000'\n      - '5000:5000'\n      - '9000:9000'\n      - '9001:9001'\n    \n    volumes:\n      - ./csghub/etc:/etc/csghub\n      - ./csghub/logs:/var/log/csghub\n      - ./csghub/data:/var/opt/csghub\n    \n    restart: always\n    shm_size: '2g'\n    networks:\n      - csg-network\n\nnetworks:\n  csg-network:\n    external: true\n    name: csghub-dataflow_csg-network\n```",
      "@HaiHui886 127.0.0.1:8088 好像没有看到哪单独起这个服务诶，我的csghub服务就是起在80端口的，\n\n我检查了一下日志，发现在`csghub/logs/user`里面出现报错：\n```bash\n2025-10-14_01:39:35.85475 {\"time\":\"2025-10-14T01:39:35.854695162Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":0,\"status\":404,\"current_user\":\"root\",\"auth_type\":\"ApiKey\",\"url\":\"/api/v1/user/root/tokens/first?current_user=root&app=git&token_name=dataflow\",\"full_path\":\"\"}\n2025-10-14_01:39:44.85121 {\"time\":\"2025-10-14T01:39:44.851116953Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":0,\"status\":404,\"current_user\":\"root\",\"auth_type\":\"ApiKey\",\"url\":\"/api/v1/user/root/tokens/first?current_user=root&app=git&token_name=dataflow\",\"full_path\":\"\"}\n```\n\n按照这个日志来看，似乎dataflow和csghub集成还需要token认证？但是我好像没看到哪里可以配置",
      "最新版本的csghub镜像是哪个呢\n",
      "@HaiHui886 或者说除了csghub 和dataflow之外，还需要额外部署其它的什么服务吗",
      "@Lixingming18 \n1. 不需要其它服务了。应该UI的代码和最新dataflow不匹配。\n2. opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.10.0-ce这个版本还没有包含最新的dataflow。\n3. 建议等我们的opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.12.0-ce近期会发布。\n",
      "We will follow it. Thanks!",
      "好的，希望尽快能看到更新，非常感谢"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1323"
  },
  {
    "id": "issue_1321",
    "title": "前端筛选标签的问题",
    "body": "<img width=\"1947\" height=\"705\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/68f59a5d-de89-4859-bbea-450b30d4e649\" />\n请问这里的模型标签和模型行业标签，是对应下图的task和industry吗？\n\n<img width=\"1735\" height=\"1581\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/0ee78908-25fe-489f-bc4d-6e34edb1f8c5\" />\n\n<img width=\"725\" height=\"711\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/024518fc-fcaf-43da-b0d3-32d0d4dae602\" />\n",
    "comments": [
      "Yes.",
      "@QinYuuuu 标签分类数据缺少中文国际化",
      "fix"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1321"
  },
  {
    "id": "issue_1316",
    "title": "Bug Report: Error When Creating Application Space via Template",
    "body": "\nDescribe the bug\nWhen attempting to create an application space by following the template example in the CSGHub platform, an error occurs during the creation process. The operation fails to complete successfully, and no application space is created in the end. No detailed error message is displayed on the interface, making it difficult to identify the root cause directly.\n\nEnvironment\n\nCSGHub Version: csghub-1.10.0     v1.10.0-ce-ee\nOS: Ubuntu 24.04.2 LTS\nHardware: 12c16G\nLaunch Method: helm\n\n\nExpected behavior\nAfter submitting the configuration via the template, the application space should be created successfully. A confirmation message should be displayed, and the new application space should appear in the \"Application Spaces\" list, ready for further use.\n\nScreenshots\n\n![Image](https://github.com/user-attachments/assets/c2bd3b42-3471-44e1-96ce-f9ebfae09b82)\n\n",
    "comments": [
      "Thanks for report issue."
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1316"
  },
  {
    "id": "issue_1308",
    "title": "替换Portal的镜像，重新部署temporal报错",
    "body": "Portal部分在本地运行，服务可以起来，然后打成镜像上传到docker hub上了，最后使用docker compose部署的时候将CSGHub Portal的镜像替换成了我自己的，但是部署的时候 temporal就一直报错",
    "comments": [
      "请把报错信息或者截屏放入。",
      "<img width=\"1590\" height=\"928\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/9a4c6b39-619c-46e1-8e46-2d648522001a\" />\nubuntu@ip-172-26-6-201:~/csghub$ sudo docker logs csghub-temporal-1\nTEMPORAL_ADDRESS is not set, setting it to 192.171.100.122:7233\n2025/08/18 13:02:41 Loading config; env=docker,zone=,configDir=config\n2025/08/18 13:02:41 Loading config files=[config/docker.yaml]\n{\"level\":\"info\",\"ts\":\"2025-08-18T13:02:41.357Z\",\"msg\":\"Build info.\",\"git-time\":\"2024-10-10T20:14:19.000Z\",\"git-revision\":\"5d99e200cc66bb22a0e78e69763422fb9441a0eb\",\"git-modified\":false,\"go-arch\":\"amd64\",\"go-os\":\"linux\",\"go-version\":\"go1.22.3\",\"cgo-enabled\":false,\"server-version\":\"1.25.1\",\"debug-mode\":false,\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/cmd/server/main.go:176\"}\n{\"level\":\"info\",\"ts\":\"2025-08-18T13:02:41.358Z\",\"msg\":\"Updated dynamic config\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/common/dynamicconfig/file_based_client.go:208\"}\n{\"level\":\"warn\",\"ts\":\"2025-08-18T13:02:41.358Z\",\"msg\":\"Not using any authorizer and flag `--allow-no-auth` not detected. Future versions will require using the flag `--allow-no-auth` if you do not want to set an authorizer.\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/cmd/server/main.go:206\"}\n[Fx] PROVIDE    fx.Lifecycle <= go.uber.org/fx.New.func1()\n[Fx] PROVIDE    fx.Shutdowner <= go.uber.org/fx.(*App).shutdowner-fm()\n[Fx] PROVIDE    fx.DotGraph <= go.uber.org/fx.(*App).dotGraph-fm()\n[Fx] PROVIDE    *temporal.ServerImpl <= go.temporal.io/server/temporal.NewServerFxImpl()\n[Fx] PROVIDE    *temporal.serverOptions <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    chan interface {} <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    temporal.synchronizationModeParams <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    *config.Config <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    *config.PProf <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    log.Config <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    resource.ServiceNames <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    resource.NamespaceLogger <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    resolver.ServiceResolver <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    client.AbstractDataStoreFactory <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    visibility.VisibilityStoreFactory <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    searchattribute.Mapper <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    []grpc.UnaryServerInterceptor <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    authorization.Authorizer <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    authorization.ClaimMapper <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    authorization.JWTAudienceMapper <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    map[primitives.ServiceName]static.Hosts <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    log.Logger <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    client.FactoryProvider <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    dynamicconfig.Client <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    encryption.TLSConfigProvider <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    *client.Config <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    client.Client <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    metrics.Handler <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE    archiver.ArchivalMetadata <= go.temporal.io/server/common/resource.ArchivalMetadataProvider()\n[Fx] PROVIDE    tasks.TaskCategoryRegistry <= go.temporal.io/server/temporal.TaskCategoryRegistryProvider()\n[Fx] PROVIDE    client.FactoryProviderFn <= go.temporal.io/server/temporal.PersistenceFactoryProvider()\n[Fx] PROVIDE    *temporal.ServicesMetadata[group = \"services\"] <= go.temporal.io/server/temporal.HistoryServiceProvider()\n[Fx] PROVIDE    *temporal.ServicesMetadata[group = \"services\"] <= go.temporal.io/server/temporal.MatchingServiceProvider()\n[Fx] PROVIDE    *temporal.ServicesMetadata[group = \"services\"] <= go.temporal.io/server/temporal.FrontendServiceProvider()\n[Fx] PROVIDE    *temporal.ServicesMetadata[group = \"services\"] <= go.temporal.io/server/temporal.InternalFrontendServiceProvider()\n[Fx] PROVIDE    *temporal.ServicesMetadata[group = \"services\"] <= go.temporal.io/server/temporal.WorkerServiceProvider()\n[Fx] PROVIDE    *cluster.Config <= go.temporal.io/server/temporal.ApplyClusterMetadataConfigProvider()\n[Fx] PROVIDE    config.Persistence <= go.temporal.io/server/temporal.ApplyClusterMetadataConfigProvider()\n[Fx] PROVIDE    *dynamicconfig.Collection <= go.temporal.io/server/common/dynamicconfig.init.func1()\n[Fx] PROVIDE    pingable.Pingable[group = \"deadlockDetectorRoots\"] <= fx.Annotate(go.temporal.io/server/common/dynamicconfig.init.func2(), fx.ResultTags([\"group:\\\"deadlockDetectorRoots\\\"\"])\n[Fx] PROVIDE    *pprof.PProfInitializerImpl <= go.temporal.io/server/common/pprof.NewInitializer()\n[Fx] PROVIDE    []trace.SpanExporter <= go.temporal.io/server/temporal.init.func2()\n[Fx] SUPPLY     []temporal.ServerOption\n[Fx] RUN        supply: stub([]temporal.ServerOption)\n[Fx] RUN        provide: go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] Error returned: received non-nil error from function \"go.temporal.io/server/temporal\".ServerOptionsProvider\n        /home/runner/work/docker-builds/docker-builds/temporal/temporal/fx.go:184:\nsql schema version compatibility check failed: unable to read DB schema version keyspace/database: temporal error: no usable database connection found\n[Fx] ERROR              Failed to initialize custom logger: could not build arguments for function \"go.uber.org/fx\".(*module).constructCustomLogger.func2\n        /home/runner/go/pkg/mod/go.uber.org/fx@v1.22.0/module.go:292:\nfailed to build fxevent.Logger:\ncould not build arguments for function \"go.temporal.io/server/temporal\".init.func8\n        /home/runner/work/docker-builds/docker-builds/temporal/temporal/fx.go:1004:\nfailed to build log.Logger:\nreceived non-nil error from function \"go.temporal.io/server/temporal\".ServerOptionsProvider\n        /home/runner/work/docker-builds/docker-builds/temporal/temporal/fx.go:184:\nsql schema version compatibility check failed: unable to read DB schema version keyspace/database: temporal error: no usable database connection found\nUnable to create server. Error: could not build arguments for function \"go.uber.org/fx\".(*module).constructCustomLogger.func2 (/home/runner/go/pkg/mod/go.uber.org/fx@v1.22.0/module.go:292): failed to build fxevent.Logger: could not build arguments for function \"go.temporal.io/server/temporal\".init.func8 (/home/runner/work/docker-builds/docker-builds/temporal/temporal/fx.go:1004): failed to build log.Logger: received non-nil error from function \"go.temporal.io/server/temporal\".ServerOptionsProvider (/home/runner/work/docker-builds/docker-builds/temporal/temporal/fx.go:184): sql schema version compatibility check failed: unable to read DB schema version keyspace/database: temporal error: no usable database connection found.\nubuntu@ip-172-26-6-201:~/csghub$",
      "貌似数据库没起来。",
      "@Rader @KinglyWayne 辛苦看看",
      "ubuntu@ip-172-26-6-201:~/csghub$ sudo docker ps | grep postgres\na5c4de34d5d5   opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsg_public/csghub/postgres:15.10          \"docker-entrypoint.s…\"   19 minutes ago   Up 18 minutes (healthy)            5432/tcp                                                    csghub-postgres-1\n数据起来了，但是Temporal 容器一致无法连接数据库",
      "@lxx181 看日志temporal服务未识别到postgres数据库。\n\n请贴一下docker compose配置文件里 `csghub-postgres`和`csghub-temporal`这两个服务的完整配置",
      "postgres:\n    image: ${CSGHUB_IMAGE_PREFIX}/csghub/postgres:15.10\n    depends_on:\n      fluentd:\n        condition: service_healthy\n    environment:\n      POSTGRES_USER: \"$POSTGRES_USER\"\n      POSTGRES_PASSWORD: \"$POSTGRES_PASSWORD\"\n      POSTGRES_MULTIPLE_DATABASES: \"csghub_server,csghub_portal,casdoor,temporal\"\n    volumes:\n      - ./data/postgresql/data:/var/lib/postgresql/data\n    restart: always\n    privileged: true\n    healthcheck:\n      test: [ \"CMD\", \"pg_isready\", \"-U\", \"$POSTGRES_USER\", \"-h\", \"127.0.0.1\"]\n      interval: 5s\n    deploy:\n      replicas: ${POSTGRES_ENABLED:-1}\n    logging:\n      driver: fluentd\n      options:\n        fluentd-address: localhost:24224\n        tag: postgres\n    networks:\n      opencsg:\n        ipv4_address: 192.171.100.104\n\ntemporal:\n    image: ${CSGHUB_IMAGE_PREFIX}/temporalio/auto-setup:1.25.1\n    depends_on:\n      postgres:\n        condition: service_healthy\n        restart: true\n    environment:\n      DB: \"postgres12\"\n      POSTGRES_SEEDS: \"$POSTGRES_HOST\"\n      DB_PORT: \"$POSTGRES_PORT\"\n      POSTGRES_USER: \"$POSTGRES_USER\"\n      POSTGRES_PASSWORD: \"$POSTGRES_PASSWORD\"\n      DEFAULT_NAMESPACE_RETENTION: \"7d\"\n    command: >\n      sh -c \"\n           while ! ping -c 1 -W 1 postgres; do\n          echo 'Waiting for PostgreSQL...';\n          sleep 2;\n        done;\n        temporal-sql-tool --ep postgres -u csghub --pw 'Csghub@2025!' -p 5432 --db temporal --pl postgres setup-schema -v 0.0;\n        temporal-sql-tool --ep postgres -u csghub --pw 'Csghub@2025!' -p 5432 --db temporal --pl postgres setup-schema -v 1.0;\n        exec temporal-server start --env docker --cluster default\n      \"\n    user: \"root\"\n    healthcheck:\n      test: [ \"CMD-SHELL\", \"nc -z temporal 7233\" ]\n      interval: 10s\n      timeout: 30s\n      retries: 30\n    logging:\n      driver: fluentd\n      options:\n        fluentd-address: localhost:24224\n        tag: temporal\n    networks:\n      opencsg:\n        ipv4_address: 192.171.100.122",
      "<img width=\"1070\" height=\"710\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/5515cb31-55af-4af3-95dc-48b03e34d98e\" />\n\n`POSTGRES_HOST` 的值配置是什么？",
      "<img width=\"1237\" height=\"295\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3ca8a445-92f1-4f0b-a560-7d644dd6e25f\" />\npostgres\n",
      "你是自定义了 temporal 的 entrypoint 是吗？替换掉了原有的 entrypoint.sh 的脚本？可以进入到 temporal 数据库看下`\\dt`有什么内容吗?",
      "之前替换过entrypoint.sh，但是没解决问题。现在是将所有的容器清除，重新部署的，你看一下entrypoint.sh有问题吗？\nubuntu@ip-172-26-6-201:~/csghub$ sudo docker run -it --rm \\\n>   --volumes-from 625697b897b9 \\\n>   --name temp-temporal-debug \\\n>   opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsg_public/temporalio/auto-setup:1.25.1 \\\n>   bash\nTEMPORAL_ADDRESS is not set, setting it to 172.17.0.5:7233\n6286914ae925:/etc/temporal$ cat /etc/temporal/entrypoint.sh\n#!/bin/bash\n\nset -eu -o pipefail\n\n: \"${BIND_ON_IP:=$(getent hosts \"$(hostname)\" | awk '{print $1;}')}\"\nexport BIND_ON_IP\n\nif [[ \"${BIND_ON_IP}\" == \"0.0.0.0\" ]]; then\n    : \"${TEMPORAL_BROADCAST_ADDRESS:=$(getent hosts \"$(hostname)\" | awk '{print $1;}')}\"\n    export TEMPORAL_BROADCAST_ADDRESS\nfi\n\n# check TEMPORAL_ADDRESS is not empty\nif [[ -z \"${TEMPORAL_ADDRESS:-}\" ]]; then\n    echo \"TEMPORAL_ADDRESS is not set, setting it to ${BIND_ON_IP}:7233\"\n\n    if [[ \"${BIND_ON_IP}\" =~ \":\" ]]; then\n        # ipv6\n        export TEMPORAL_ADDRESS=\"[${BIND_ON_IP}]:7233\"\n    else\n        # ipv4\n        export TEMPORAL_ADDRESS=\"${BIND_ON_IP}:7233\"\n    fi\nfi\n\n# Support TEMPORAL_CLI_ADDRESS for backwards compatibility.\n# TEMPORAL_CLI_ADDRESS is deprecated and support for it will be removed in the future release.\nif [[ -z \"${TEMPORAL_CLI_ADDRESS:-}\" ]]; then\n    export TEMPORAL_CLI_ADDRESS=\"${TEMPORAL_ADDRESS}\"\nfi\n\ndockerize -template /etc/temporal/config/config_template.yaml:/etc/temporal/config/docker.yaml\n\n# Automatically setup Temporal Server (databases, Elasticsearch, default namespace) if \"autosetup\" is passed as an argument.\nfor arg; do\n    if [[ ${arg} == autosetup ]]; then\n        /etc/temporal/auto-setup.sh\n        break\n    fi\ndone\n\n# Setup Temporal Server in development mode if \"develop\" is passed as an argument.\nfor arg; do\n    if [[ ${arg} == develop ]]; then\n        /etc/temporal/setup-develop.sh\n        break\n    fi\ndone\n\n# Run bash instead of Temporal Server if \"bash\" is passed as an argument (convenient to debug docker image).\nfor arg; do\n    if [[ ${arg} == bash ]]; then\n        bash\n        exit 0\n    fi\ndone\n\nexec /etc/temporal/start-temporal.sh\n6286914ae925:/etc/temporal$\n\ntemporal 数据库是空的\nubuntu@ip-172-26-6-201:~/csghub$ sudo docker exec -it csghub-postgres-1 bash\nroot@a5c4de34d5d5:/# psql -U csghub -d temporal -W\nPassword: \npsql (15.10 (Debian 15.10-1.pgdg120+1))\nType \"help\" for help.\n\ntemporal=# \\dt\nDid not find any relations.\ntemporal=#",
      "temporal 的 entrypoint.sh 是否可以保持默认，看起来是 temporal 并没有做数据库初始化",
      "我清除了之前所有的文件，想在重新部署，现在应该是默认的",
      "好像核心问题不是数据库未初始化，而是 Temporal 容器根本无法建立数据库连接\nubuntu@ip-172-26-6-201:/csghub$ sudo docker logs csghub-temporal-1 | grep -i \"error|fail\"\n2025/08/18 13:02:41 Loading config; env=docker,zone=,configDir=config\n2025/08/18 13:02:41 Loading config files=[config/docker.yaml]\n[Fx] PROVIDE fx.Lifecycle <= [go.uber.org/fx.New.func1()](https://go.uber.org/fx.New.func1())\n[Fx] PROVIDE fx.Shutdowner <= [go.uber.org/fx.(*App).shutdowner-fm()](https://go.uber.org/fx.(*App).shutdowner-fm())\n[Fx] PROVIDE fx.DotGraph <= [go.uber.org/fx.(*App).dotGraph-fm()](https://go.uber.org/fx.(*App).dotGraph-fm())\n[Fx] PROVIDE *temporal.ServerImpl <= go.temporal.io/server/temporal.NewServerFxImpl()\n[Fx] PROVIDE *temporal.serverOptions <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE chan interface {} <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE temporal.synchronizationModeParams <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE *config.Config <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE *config.PProf <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE log.Config <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE resource.ServiceNames <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE resource.NamespaceLogger <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE resolver.ServiceResolver <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE client.AbstractDataStoreFactory <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE visibility.VisibilityStoreFactory <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE searchattribute.Mapper <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE []grpc.UnaryServerInterceptor <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE authorization.Authorizer <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE authorization.ClaimMapper <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE authorization.JWTAudienceMapper <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE map[primitives.ServiceName]static.Hosts <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE log.Logger <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE client.FactoryProvider <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE dynamicconfig.Client <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE encryption.TLSConfigProvider <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE *client.Config <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE client.Client <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE metrics.Handler <= go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] PROVIDE archiver.ArchivalMetadata <= go.temporal.io/server/common/resource.ArchivalMetadataProvider()\n[Fx] PROVIDE tasks.TaskCategoryRegistry <= go.temporal.io/server/temporal.TaskCategoryRegistryProvider()\n[Fx] PROVIDE client.FactoryProviderFn <= go.temporal.io/server/temporal.PersistenceFactoryProvider()\n[Fx] PROVIDE *temporal.ServicesMetadata[group = \"services\"] <= go.temporal.io/server/temporal.HistoryServiceProvider()\n[Fx] PROVIDE *temporal.ServicesMetadata[group = \"services\"] <= go.temporal.io/server/temporal.MatchingServiceProvider()\n[Fx] PROVIDE *temporal.ServicesMetadata[group = \"services\"] <= go.temporal.io/server/temporal.FrontendServiceProvider()\n[Fx] PROVIDE *temporal.ServicesMetadata[group = \"services\"] <= go.temporal.io/server/temporal.InternalFrontendServiceProvider()\n[Fx] PROVIDE *temporal.ServicesMetadata[group = \"services\"] <= go.temporal.io/server/temporal.WorkerServiceProvider()\n[Fx] PROVIDE *cluster.Config <= go.temporal.io/server/temporal.ApplyClusterMetadataConfigProvider()\n[Fx] PROVIDE config.Persistence <= go.temporal.io/server/temporal.ApplyClusterMetadataConfigProvider()\n[Fx] PROVIDE *dynamicconfig.Collection <= go.temporal.io/server/common/dynamicconfig.init.func1()\n[Fx] PROVIDE pingable.Pingable[group = \"deadlockDetectorRoots\"] <= fx.Annotate(go.temporal.io/server/common/dynamicconfig.init.func2(), fx.ResultTags([\"group:\"deadlockDetectorRoots\"\"])\n[Fx] PROVIDE *pprof.PProfInitializerImpl <= go.temporal.io/server/common/pprof.NewInitializer()\n[Fx] PROVIDE []trace.SpanExporter <= go.temporal.io/server/temporal.init.func2()\n[Fx] SUPPLY []temporal.ServerOption\n[Fx] RUN supply: stub([]temporal.ServerOption)\n[Fx] RUN provide: go.temporal.io/server/temporal.ServerOptionsProvider()\n[Fx] Error returned: received non-nil error from function \"go.temporal.io/server/temporal\".ServerOptionsProvider\n/home/runner/work/docker-builds/docker-builds/temporal/temporal/fx.go:184:\nsql schema version compatibility check failed: unable to read DB schema version keyspace/database: temporal error: no usable database connection found\n[Fx] ERROR Failed to initialize custom logger: could not build arguments for function \"[go.uber.org/fx](https://go.uber.org/fx)\".(*module).constructCustomLogger.func2\n/home/runner/go/pkg/mod/[go.uber.org/fx@v1.22.0/module.go:292](https://go.uber.org/fx@v1.22.0/module.go:292):\nfailed to build fxevent.Logger:\ncould not build arguments for function \"go.temporal.io/server/temporal\".init.func8\n/home/runner/work/docker-builds/docker-builds/temporal/temporal/fx.go:1004:\nfailed to build log.Logger:\nreceived non-nil error from function \"go.temporal.io/server/temporal\".ServerOptionsProvider\n/home/runner/work/docker-builds/docker-builds/temporal/temporal/fx.go:184:\nsql schema version compatibility check failed: unable to read DB schema version keyspace/database: temporal error: no usable database connection found\nUnable to create server. Error: could not build arguments for function \"[go.uber.org/fx](https://go.uber.org/fx)\".(*module).constructCustomLogger.func2 (/home/runner/go/pkg/mod/[go.uber.org/fx@v1.22.0/module.go:292](https://go.uber.org/fx@v1.22.0/module.go:292)): failed to build fxevent.Logger: could not build arguments for function \"go.temporal.io/server/temporal\".init.func8 (/home/runner/work/docker-builds/docker-builds/temporal/temporal/fx.go:1004): failed to build log.Logger: received non-nil error from function \"go.temporal.io/server/temporal\".ServerOptionsProvider (/home/runner/work/docker-builds/docker-builds/temporal/temporal/fx.go:184): sql schema version compatibility check failed: unable to read DB schema version keyspace/database: temporal error: no usable database connection found.\nubuntu@ip-172-26-6-201:/csghub$",
      "你可以手动测试下 temporal 的数据库配置是否可以连接上数据库",
      "ubuntu@ip-172-26-6-201:~/csghub$ sudo docker logs -f csghub-temporal-1\nTEMPORAL_ADDRESS is not set, setting it to 172.18.0.3:7233\nPostgreSQL started.\nSetup PostgreSQL schema.\n2025-08-19T15:20:20.371Z        ERROR   sql handle: unable to refresh database connection pool  {\"error\": \"unable to connect to DB, tried default DB names: postgres,defaultdb, errors: [pq: password authentication failed for user \\\"csghub\\\" pq: password authentication failed for user \\\"csghub\\\"]\", \"logging-call-at\": \"/home/runner/work/docker-builds/docker-builds/temporal/common/persistence/sql/sqlplugin/db_handle.go:125\"}\n2025-08-19T15:20:20.371Z        WARN    sql handle: did not refresh database connection pool because the last refresh was too close {\"min_refresh_interval_seconds\": 1, \"logging-call-at\": \"/home/runner/work/docker-builds/docker-builds/temporal/common/persistence/sql/sqlplugin/db_handle.go:115\"}\n2025-08-19T15:20:20.371Z        ERROR   Unable to create SQL database.  {\"error\": \"no usable database connection found\", \"logging-call-at\": \"/home/runner/work/docker-builds/docker-builds/temporal/tools/sql/handler.go:94\"}",
      "这不是提示密码不正确吗？而且这里 default db 为什么是 postgres,DBNAME的变量呢？你改过这部分是吗？默认应该是可以的，看起来你定义的这几个变量个默认不符，变量名不正确，这是 helm 中定义的变量名：\n\n<img width=\"1490\" height=\"450\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/061a53d2-d051-4cc0-bcd9-dbd98f5afa52\" />",
      "我用的是docker compose部署的，您说的是docker-compose.yml的配置吗？\n\n<img width=\"926\" height=\"888\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f0b61948-e6f5-4749-b591-122a2b4916d6\" />",
      "你看下我标注的这几个变量，是 temporal 镜像接受的变量，你的变量引用不正确，可以参考下[这里](https://hub.docker.com/r/temporalio/auto-setup#mysqlpostgresql-environment-variables)。"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1308"
  },
  {
    "id": "issue_1288",
    "title": "Create a new model/datasets repository  error",
    "body": "docker version: 24.0.6\ndocker compose version:2.22.0-desktop.2\ndocker desktop version:4.24.2\n\n### When I want to create a new model/datasets repository in my root account, clicking on the \"Create Model/Datasets\" page will result in an error: \n\n### First click：\n`Model creation failed: fail to create repo in git, error: rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:8075: connect: connection refused\"`\n\n\n### Follow up click：\n`Model creation failed: SYS-ERR-4: ERROR: duplicate key value violates unique constraint \"idx_repositories_repository_type_path\" (SQLSTATE=23505)`\n\n![Image](https://github.com/user-attachments/assets/11f78d1a-647b-46a5-89f2-2dc5a04e76b9)",
    "comments": [
      "try change the name of model or dataset, and submit again.",
      "> try change the name of model or dataset, and submit again.\n\nI have tried many times(use different name) and still get the same error. my Docker version is too low? It can be used on the latest docker.",
      "OK，I see,  you clicked twice.  \n\nPlease make sure the git server `gitaly` is running. csghub_server created the repo already, but failed to create repo in git server."
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1288"
  },
  {
    "id": "issue_1270",
    "title": "登录以及casdoor登录",
    "body": "看readme大约是2025年1月左右的版本，因为现在的安装文档已经看不懂了，就想把这个恢复跑起来。\n1、问题描述：\n\n首先是docker-compose up以后，login会提示报错：\n重定向 URI：http://XXX:8000/api/v1/callback/casdoor在许可跳转列表中未找到\n\n但是找到了相关配置文件，./docker/etc/casdoor/目录下，看这个url是已经配置在redirectUris中的。\n\n然后群里提问后，群里大佬说，直接的登录8000端口的casdoor试试\n然后根据找到的账户密码，登录8000，提示用户不存在csghub，密码Csghub@2025！\n\n感谢解答！",
    "comments": [
      "新版的安装请参考： https://github.com/OpenCSGs/csghub-charts"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1270"
  },
  {
    "id": "issue_1267",
    "title": "使用docker-compose部署gitlab-shell报错",
    "body": "{\"error\":\"open /srv/gitlab-shell/keys/ssh_host_rsa_key: no such file or directory\",\"filename\":\"/srv/gitlab-shell/keys/ssh_host_rsa_key\",\"level\":\"error\",\"msg\":\"Failed to r\nead host key\",\"time\":\"2025-07-30T02:50:35Z\"}\n\n问下这个密钥需要手动生成么？",
    "comments": [
      "手动生成解决了"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1267"
  },
  {
    "id": "issue_1262",
    "title": "csghub helm 内网部署 gateway 与ingress-nginx-controller报错",
    "body": "1、helm模板部署csghub 1.9.0版本\n2、k8s 版本是1.19\n3、去除无法兼容的MInReady的最小等待时间，进行helm部署\n4、出现报错：gateway中，rproxy-nginx尝试连接kourier相关服务，失败。请问该服务是否有必要存在，该问题该如何配置或定位。\n5、出现报错：ingress-nginx-controller尝试连接localhost:10246的一个configure服务，请问该服务主要是用于什么功能，该问题该如何配置与定位？",
    "comments": [
      "@MasonXon any suggestion?",
      "@FisherZhongYi @Rader In 1.9.0, in order to simplify the knative parameters passed in during installation, kourier svc is used by default as the upstream service of rproxy nginx. However, this will cause the related services to be not found in a new installation. You can try to use a version above 1.9.0. You can directly use version 1.9.3.",
      "Deployment-related issues can be submitted [here](https://github.com/OpenCSGs/csghub-charts/issues) later."
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1262"
  },
  {
    "id": "issue_1255",
    "title": "There is no problem in uploading a single model file of about 4G, but a single file larger than 4G will directly report an error.",
    "body": "\n**Describe the bug**\n\nAfter using helmchart to deploy in the k8s cluster, git lfs cannot upload a single model file larger than 4G through http or ssh.\n\n**Environment**\nCSGHub Version: v1.8.0｜1.9.0\nOS: Linux \nHardware: 512c1024G\nLaunch:  helm chart\n\n\n**To Reproduce**\nSteps to reproduce the behavior:\n1. git clone xxx\n2. git lfs install\n3. git track \"*.safesenter\"\n4. git lfs push\n\n**Expected behavior**\nSuccessfully uploaded\n\n**Screenshots**\n\nuse ssh:\n```\nDeepSeek-R1-0528# GIT_TRACE=1 git lfs push --object-id origin6 042be47233c9077ce4bc8dd42c124d17bb74bb2c1c368343e9db8292ef277c1e\n03:24:17.426904 git.c:749               trace: exec: git-lfs push --object-id origin6 042be47233c9077ce4bc8dd42c124d17bb74bb2c1c368343e9db8292ef277c1e\n03:24:17.426984 run-command.c:659       trace: run_command: git-lfs push --object-id origin6 042be47233c9077ce4bc8dd42c124d17bb74bb2c1c368343e9db8292ef277c1e\n03:24:17.458136 trace git-lfs: exec: git 'version'\n03:24:17.461974 trace git-lfs: exec: git '-c' 'filter.lfs.smudge=' '-c' 'filter.lfs.clean=' '-c' 'filter.lfs.process=' '-c' 'filter.lfs.required=false' 'remote'\n03:24:17.466157 trace git-lfs: exec: git '-c' 'filter.lfs.smudge=' '-c' 'filter.lfs.clean=' '-c' 'filter.lfs.process=' '-c' 'filter.lfs.required=false' 'rev-parse' 'HEAD' '--symbolic-full-name' 'HEAD'\n03:24:17.470500 trace git-lfs: exec: git '-c' 'filter.lfs.smudge=' '-c' 'filter.lfs.clean=' '-c' 'filter.lfs.process=' '-c' 'filter.lfs.required=false' 'rev-parse' '--git-dir' '--show-toplevel'\n03:24:17.474255 trace git-lfs: exec: git 'config' '--includes' '-l'\n03:24:17.477785 trace git-lfs: exec: git 'rev-parse' '--is-bare-repository'\n03:24:17.481511 trace git-lfs: exec: git 'config' '--includes' '-l' '--blob' ':.lfsconfig'\n03:24:17.485804 trace git-lfs: exec: git 'config' '--includes' '-l' '--blob' 'HEAD:.lfsconfig'\n03:24:17.490411 trace git-lfs: attempting pure SSH protocol connection\n03:24:17.490424 trace git-lfs: spawning pure SSH connection\n03:24:17.490550 trace git-lfs: run_command: ssh -oControlMaster=auto -oControlPath=/tmp/sock-291537913/sock-%C -p 30022 git@xxx.com git-lfs-transfer /models/root/DeepSeek-R1-0528.git upload\n03:24:17.490672 trace git-lfs: exec: ssh '-oControlMaster=auto' '-oControlPath=/tmp/sock-291537913/sock-%C' '-p' '30022' 'git@xxx.com' 'git-lfs-transfer /models/root/DeepSeek-R1-0528.git upload'\n03:24:17.585427 trace git-lfs: pure SSH connection successful\n03:24:17.585956 trace git-lfs: tq: running as batched queue, batch size of 100\n03:24:17.586514 trace git-lfs: tq: sending batch of size 1\n03:24:17.586533 trace git-lfs: api: batch 1 files                                                                                                               \n03:24:24.639786 trace git-lfs: shutting down pure SSH connection\n03:24:24.639828 trace git-lfs: terminating pure SSH connection (1 -> 0)\nLFS: batch response: status 500 from server (internal error)\n```\n\nuse http:\n```\nGIT_TRACE=1 git lfs push --object-id origin5  042be47233c9077ce4bc8dd42c124d17bb74bb2c1c368343e9db8292ef277c1e\n03:26:01.665466 git.c:749               trace: exec: git-lfs push --object-id origin5 042be47233c9077ce4bc8dd42c124d17bb74bb2c1c368343e9db8292ef277c1e\n03:26:01.665533 run-command.c:659       trace: run_command: git-lfs push --object-id origin5 042be47233c9077ce4bc8dd42c124d17bb74bb2c1c368343e9db8292ef277c1e\n03:26:01.693419 trace git-lfs: exec: git 'version'\n03:26:01.697326 trace git-lfs: exec: git '-c' 'filter.lfs.smudge=' '-c' 'filter.lfs.clean=' '-c' 'filter.lfs.process=' '-c' 'filter.lfs.required=false' 'remote'\n03:26:01.701481 trace git-lfs: exec: git '-c' 'filter.lfs.smudge=' '-c' 'filter.lfs.clean=' '-c' 'filter.lfs.process=' '-c' 'filter.lfs.required=false' 'rev-parse' 'HEAD' '--symbolic-full-name' 'HEAD'\n03:26:01.705899 trace git-lfs: exec: git '-c' 'filter.lfs.smudge=' '-c' 'filter.lfs.clean=' '-c' 'filter.lfs.process=' '-c' 'filter.lfs.required=false' 'rev-parse' '--git-dir' '--show-toplevel'\n03:26:01.710198 trace git-lfs: exec: git 'config' '--includes' '-l'\n03:26:01.713950 trace git-lfs: exec: git 'rev-parse' '--is-bare-repository'\n03:26:01.717074 trace git-lfs: exec: git 'config' '--includes' '-l' '--blob' ':.lfsconfig'\n03:26:01.720669 trace git-lfs: exec: git 'config' '--includes' '-l' '--blob' 'HEAD:.lfsconfig'\n03:26:01.725294 trace git-lfs: tq: running as batched queue, batch size of 100\n03:26:01.725451 trace git-lfs: tq: sending batch of size 1                                                                                                      \n03:26:01.726024 trace git-lfs: api: batch 1 files\n03:26:01.726840 trace git-lfs: HTTP: POST http://root:8b072c954c5342f8940e5a7ce2a8cd79@xxx.com:30080/models/root/DeepSeek-R1-0528.git/info/lfs/objects/batch\n03:26:01.740099 trace git-lfs: HTTP: 500\n03:26:01.740145 trace git-lfs: HTTP: <!DOCTYPE html>\n<html>\n<head>\n  <title>500 Server Error | CSGHub</title>\n  <style>\n    body {\n      height: 100vh;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin: 0;\n      background-color: #f9fafb;\n    }\n    .content {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      gap: 32px;\n      max-width: 800px;\n      padding: 20px;\n    }\n    .content img {\n      width: 242px;\n      height: auto;\n    }\n    .\n03:26:01.740332 trace git-lfs: api error: Fatal error: Unable to parse HTTP response for POST http://root:8b072c954c5342f8940e5a7ce2a8cd79@xxx.com:30080/models/root/DeepSeek-R1-0528.git/info/lfs/objects/batch: invalid character '<' looking for beginning of value\nbatch response: Fatal error: Unable to parse HTTP response for POST http://root:8b072c954c5342f8940e5a7ce2a8cd79@xxx.com:30080/models/root/DeepSeek-R1-0528.git/info/lfs/objects/batch: invalid character '<' looking for beginning of value\nUploading LFS objects:   0% (0/1), 0 B | 0 B/s, done.\n\nErrors logged to '/opt/data/cgs/DeepSeek-R1-0528/.git/lfs/logs/20250724T032601.740432899.log'.\nUse `git lfs logs last` to view the log.\n```\n\n**Additional context**\n\n\nAbout 4G can be uploaded successfully.\n",
    "comments": [
      "@Bao0ne may I know which version you are using? We have fixed issue in v1.8",
      "@samchen8008 I tried v1.8.0-ee, v1.8.0-ce and v1.9.0-ee, and they all encountered the same problem.helmchart need to make additional configuration? ",
      "@Rader @KinglyWayne @ganisback can you guys have a look?",
      "@Bao0ne This is because OSS pre-signed URLs only support files up to 5GB in size. We've improved the error message in the latest version. If you need to upload files larger than 5GB, please consider using our SDK instead https://github.com/OpenCSGs/csghub-sdk.",
      "I tried to use sdk to upload, and observed the upload traffic, but returned a 500 error.：\n```\npython3 upload.py                        \nfail to upload model-00163-of-000163.safetensors with response code: 500, error: <!DOCTYPE html>\n<html>\n<head>\n  <title>500 Server Error | CSGHub</title>\n  <style>\n    body {\n      height: 100vh;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin: 0;\n      background-color: #f9fafb;\n    }\n    .content {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      gap: 32px;\n      max-width: 800px;\n      padding: 20px;\n    }\n    .content img {\n      width: 242px;\n      height: auto;\n    }\n    .text-content {\n      text-align: center;\n    }\n    .text-content h1 {\n      color: #101828;\n      font-family: \"PingFang SC\", system-ui, -apple-system, sans-serif;\n      font-size: 60px;\n      font-weight: 500;\n      line-height: 72px;\n      letter-spacing: -1.2px;\n      margin: 0 0 16px 0;\n    }\n    .text-content p {\n      color: #475467;\n      font-family: \"PingFang SC\", system-ui, -apple-system, sans-serif;\n      font-size: 20px;\n      font-weight: 400;\n      line-height: 30px;\n      margin: 0 0 32px 0;\n    }\n    .action-button {\n      display: inline-block;\n      padding: 12px 24px;\n      background-color: #1e50e2;\n      color: white;\n      text-decoration: none;\n      border-radius: 8px;\n      font-family: \"PingFang SC\", system-ui, -apple-system, sans-serif;\n      font-size: 16px;\n      font-weight: 500;\n      transition: background-color 0.3s;\n    }\n    .action-button:hover {\n      background-color: #1a44b8;\n    }\n    .error-details {\n      background-color: #f8f9fc;\n      padding: 12px;\n      border-radius: 6px;\n      margin-top: 20px;\n      font-family: monospace;\n      color: #667085;\n      font-size: 14px;\n    }\n  </style>\n</head>\n<body>\n<div class=\"content\">\n  <img src=\"https://opencsg-public-resource.oss-cn-beijing.aliyuncs.com/0916d174-15a8-44f3-90a0-35882a4554bc\" alt=\"Server error\">\n  <div class=\"text-content\">\n    <h1>500 Internal Server Error</h1>\n    <p>Something went wrong on our servers while processing your request.</p>\n    <div class=\"error-details\">\n      Error 500: Internal Server Error<br>\n    </div>\n  </div>\n</div>\n<script>\n  // Generate a simple request ID for tracking\n  document.getElementById('request-id').textContent =\n          Math.random().toString(36).substring(2, 10).toUpperCase();\n</script>\n</body>\n</html>\n```\n\nCode：\n\n```\nfrom pycsghub.file_upload import http_upload_file\n\ntoken = \"xxx\"\n\nendpoint = \"http://xxx:30080\"\nrepo_type = \"model\"\nrepo_id = 'root/DeepSeek-R1-0528'\nresult = http_upload_file(repo_id, endpoint=endpoint, token=token, repo_type='model', file_path='model-00163-of-000163.safetensors')\n```",
      "@Bao0ne Suggest just upload small files by http method, and upload file which size is less than 4G by http upoad method due to some network limit.  \n\nUse following command upload large folder to your local csghub.\n\n`csghub-cli upload-large-folder <repo-name> <local path> -e <local csghub server address> -k <your token>` "
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1255"
  },
  {
    "id": "issue_1251",
    "title": "Used helm installed，visit casdoor.example.com login, an error occurred",
    "body": "<!--\nUsed helm installed，visit casdoor.example.com login, an error occurred -->\n**Describe the bug**\nwhen I used helm installed csghub，i try to login casdoor.example.com or csg\n\n**Environment**\nnode name|  ip| docker vresion| k8s version|\n---| ---| ---| ---|\nk8s-master | 192.168.100.7 | 23.0.6| v1.28.2\nk8s-node | 192.168.100.9 | 23.0.6| v1.28.2\n\nCSGHub Version: helm version is v1.9.0-ce-ee\nOS: ubuntu20.04\nHardware:  master 16c16G node16c16G\nLaunch:   helm chart\n\n\n**To Reproduce**\nSteps to reproduce the behavior:\n1.csghub install command\n```\nhelm upgrade --install csghub csghub/csghub \\\n  --namespace csghub \\\n  --create-namespace \\\n  --set global.ingress.domain=\"example.com\" \\\n  --set global.ingress.service.type=\"NodePort\" \\\n  --set ingress-nginx.controller.service.type=\"NodePort\" \\\n  --set global.deploy.knative.serving.services[0].type=\"NodePort\" \\\n  --set global.deploy.knative.serving.services[0].domain=\"app.internal\" \\\n  --set global.deploy.knative.serving.services[0].host=\"192.168.100.9\" \\\n  --set global.deploy.knative.serving.services[0].port=\"30213\"\n```\n2. In node1 ,i take \"192.168.100.9     csghub.example.com casdoor.example.com\" to /etc/hosts\n3. In node1 web browser, visit http://csghub.example.com:30080/\n4. Click on \"重新登录\"\n5. input username and passwd, then click on \"sign in\"\n6. an error occurred\n```\n{\n\t\"GET\": {\n\t\t\"scheme\": \"http\",\n\t\t\"host\": \"localhost:3000\",\n\t\t\"filename\": \"/errors/server-error\",\n\t\t\"query\": {\n\t\t\t\"error_code\": \"500\",\n\t\t\t\"error_message\": \"failed to signin: failed to get token from casdoor,error:Post \\\"http://casdoor.example.com:30080/api/login/oauth/access_token\\\": dial tcp: lookup casdoor.example.com on 10.96.0.10:53: no such host\"\n\t\t}\n\t}\n}\n```\n**Expected behavior**\nsolving this problem\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n\n<img width=\"1915\" height=\"1057\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d025e870-12dd-4252-b135-6b7bd82764ef\" />\n\n<img width=\"1912\" height=\"1069\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a009fb88-70a6-4688-a523-93cefdd3b344\" />\n\n<img width=\"1929\" height=\"1074\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/67ad4f46-fbc9-4a28-bcd3-24cdbe3e1cca\" />\n\n**Additional context**\nhelm install log is \n```\nYou have successfully installed CSGHub!\n\nVisit CSGHub at the following address:\n      \n    Address: http://csghub.example.com:30080\n    Credentials: root/O**************\n\nVisit the Casdoor administrator console at the following address:\n\n    Address: http://casdoor.example.com:30080\n    Credentials:\n        Username: root\n        Password: $(kubectl get secret --namespace csghub csghub-init-root -o jsonpath=\"{.data.INIT_ROOT_PASSWORD}\" | base64 -d)\n\nVisit the Temporal console at the following address:\n\n    Address: http://temporal.example.com:30080\n    Credentials:\n        Username: $(kubectl get secret --namespace csghub csghub-temporal -o jsonpath=\"{.data.TEMPORAL_USERNAME}\" | base64 -d)\n        Password: $(kubectl get secret --namespace csghub csghub-temporal -o jsonpath=\"{.data.TEMPORAL_PASSWORD}\" | base64 -d)\n\nVisit the Minio console at the following address:\n\n    Address: http://minio.example.com:30080/console/\n    Credentials:\n        Username: $(kubectl get secret --namespace csghub csghub-minio -o jsonpath=\"{.data.MINIO_ROOT_USER}\" | base64 -d)\n        Password: $(kubectl get secret --namespace csghub csghub-minio -o jsonpath=\"{.data.MINIO_ROOT_PASSWORD}\" | base64 -d)\n\nTo access Registry using docker-cli:\n    \n    Endpoint: registry.example.com:30080\n    Credentials:\n        Username=$(kubectl get secret --namespace csghub csghub-registry -ojsonpath='{.data.REGISTRY_USERNAME}' | base64 -d)\n        Password=$(kubectl get secret --namespace csghub csghub-registry -ojsonpath='{.data.REGISTRY_PASSWORD}' | base64 -d)\n\n    Login to the registry:\n        echo \"$Password\" | docker login registry.example.com:30080 --username $Username ---password-stdin\n\n    Pull/Push images:\n        docker pull registry.example.com:30080/test:latest\n        docker push registry.example.com:30080/test:latest\n\n*Notes: This is not a container registry suitable for production environments.*\n\nFor more details, visit:\n    https://github.com/OpenCSGs/csghub-charts\n\n```\n",
    "comments": [
      "> **Describe the bug** when I used helm installed csghub，i try to login casdoor.example.com or csg\n> \n> **Environment**\n> \n> node name\tip\tdocker vresion\tk8s version\n> k8s-master\t192.168.100.7\t23.0.6\tv1.28.2\n> k8s-node\t192.168.100.9\t23.0.6\tv1.28.2\n> CSGHub Version: helm version is v1.9.0-ce-ee OS: ubuntu20.04 Hardware: master 16c16G node16c16G Launch: helm chart\n> \n> **To Reproduce** Steps to reproduce the behavior: 1.csghub install command\n> \n> ```\n> helm upgrade --install csghub csghub/csghub \\\n>   --namespace csghub \\\n>   --create-namespace \\\n>   --set global.ingress.domain=\"example.com\" \\\n>   --set global.ingress.service.type=\"NodePort\" \\\n>   --set ingress-nginx.controller.service.type=\"NodePort\" \\\n>   --set global.deploy.knative.serving.services[0].type=\"NodePort\" \\\n>   --set global.deploy.knative.serving.services[0].domain=\"app.internal\" \\\n>   --set global.deploy.knative.serving.services[0].host=\"192.168.100.9\" \\\n>   --set global.deploy.knative.serving.services[0].port=\"30213\"\n> ```\n> \n> 2. In node1 ,i take \"192.168.100.9     csghub.example.com casdoor.example.com\" to /etc/hosts\n> 3. In node1 web browser, visit http://csghub.example.com:30080/\n> 4. Click on \"重新登录\"\n> 5. input username and passwd, then click on \"sign in\"\n> 6. an error occurred\n> \n> ```\n> {\n> \t\"GET\": {\n> \t\t\"scheme\": \"http\",\n> \t\t\"host\": \"localhost:3000\",\n> \t\t\"filename\": \"/errors/server-error\",\n> \t\t\"query\": {\n> \t\t\t\"error_code\": \"500\",\n> \t\t\t\"error_message\": \"failed to signin: failed to get token from casdoor,error:Post \\\"http://casdoor.example.com:30080/api/login/oauth/access_token\\\": dial tcp: lookup casdoor.example.com on 10.96.0.10:53: no such host\"\n> \t\t}\n> \t}\n> }\n> ```\n> \n> **Expected behavior** solving this problem\n> \n> **Screenshots** If applicable, add screenshots to help explain your problem.\n> \n> <img alt=\"Image\" width=\"1915\" height=\"1057\" src=\"https://private-user-images.githubusercontent.com/55644074/468935293-d025e870-12dd-4252-b135-6b7bd82764ef.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTMyMzkyOTUsIm5iZiI6MTc1MzIzODk5NSwicGF0aCI6Ii81NTY0NDA3NC80Njg5MzUyOTMtZDAyNWU4NzAtMTJkZC00MjUyLWIxMzUtNmI3YmQ4Mjc2NGVmLmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MjMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzIzVDAyNDk1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWZmZGYwMzBhZDRlNzUyYmQxZTAzZmNkMmEzYjAwMDNlZDc2OGE3ZTA4Y2FhYjlhZDY1YmE4NzUxZThmODE1MDcmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.7vNqksd9NPd3Re93WfdPdPpS9JikxqpF_Olfm3PVWts\"> <img alt=\"Image\" width=\"1912\" height=\"1069\" src=\"https://private-user-images.githubusercontent.com/55644074/468935373-a009fb88-70a6-4688-a523-93cefdd3b344.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTMyMzkyOTUsIm5iZiI6MTc1MzIzODk5NSwicGF0aCI6Ii81NTY0NDA3NC80Njg5MzUzNzMtYTAwOWZiODgtNzBhNi00Njg4LWE1MjMtOTNjZWZkZDNiMzQ0LmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MjMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzIzVDAyNDk1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWU3MWE3YWUyOWI5M2Y1MmEzNGVkOTIzMTVjNzViOGYyZTM2MzU4NDIwMzc0N2IwZTljNGFmNGViNDUyMGIwYzgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.RGDXoRJoUmPlwL36KdnNsgkNLWzU9YfIcp1W8Ctb0Y4\"> <img alt=\"Image\" width=\"1929\" height=\"1074\" src=\"https://private-user-images.githubusercontent.com/55644074/468935419-67ad4f46-fbc9-4a28-bcd3-24cdbe3e1cca.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTMyMzkyOTUsIm5iZiI6MTc1MzIzODk5NSwicGF0aCI6Ii81NTY0NDA3NC80Njg5MzU0MTktNjdhZDRmNDYtZmJjOS00YTI4LWJjZDMtMjRjZGJlM2UxY2NhLmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MjMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzIzVDAyNDk1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTM1N2RhZGIxOTIwMzg4MjIxMjIzOGNiN2NlMGViMzI3ODRkYTE4OWZmNTM0ODE0MWZlNTc2N2YzMWI5MDE3ZWYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.MaNXEKZCczb49LMD7HdG2FOlb5YZrJ4grKp2_FNcRDI\">\n> **Additional context** helm install log is\n> \n> ```\n> You have successfully installed CSGHub!\n> \n> Visit CSGHub at the following address:\n>       \n>     Address: http://csghub.example.com:30080\n>     Credentials: root/O**************\n> \n> Visit the Casdoor administrator console at the following address:\n> \n>     Address: http://casdoor.example.com:30080\n>     Credentials:\n>         Username: root\n>         Password: $(kubectl get secret --namespace csghub csghub-init-root -o jsonpath=\"{.data.INIT_ROOT_PASSWORD}\" | base64 -d)\n> \n> Visit the Temporal console at the following address:\n> \n>     Address: http://temporal.example.com:30080\n>     Credentials:\n>         Username: $(kubectl get secret --namespace csghub csghub-temporal -o jsonpath=\"{.data.TEMPORAL_USERNAME}\" | base64 -d)\n>         Password: $(kubectl get secret --namespace csghub csghub-temporal -o jsonpath=\"{.data.TEMPORAL_PASSWORD}\" | base64 -d)\n> \n> Visit the Minio console at the following address:\n> \n>     Address: http://minio.example.com:30080/console/\n>     Credentials:\n>         Username: $(kubectl get secret --namespace csghub csghub-minio -o jsonpath=\"{.data.MINIO_ROOT_USER}\" | base64 -d)\n>         Password: $(kubectl get secret --namespace csghub csghub-minio -o jsonpath=\"{.data.MINIO_ROOT_PASSWORD}\" | base64 -d)\n> \n> To access Registry using docker-cli:\n>     \n>     Endpoint: registry.example.com:30080\n>     Credentials:\n>         Username=$(kubectl get secret --namespace csghub csghub-registry -ojsonpath='{.data.REGISTRY_USERNAME}' | base64 -d)\n>         Password=$(kubectl get secret --namespace csghub csghub-registry -ojsonpath='{.data.REGISTRY_PASSWORD}' | base64 -d)\n> \n>     Login to the registry:\n>         echo \"$Password\" | docker login registry.example.com:30080 --username $Username ---password-stdin\n> \n>     Pull/Push images:\n>         docker pull registry.example.com:30080/test:latest\n>         docker push registry.example.com:30080/test:latest\n> \n> *Notes: This is not a container registry suitable for production environments.*\n> \n> For more details, visit:\n>     https://github.com/OpenCSGs/csghub-charts\n> ```\n\n\n\n> **Describe the bug** when I used helm installed csghub，i try to login casdoor.example.com or csg\n> \n> **Environment**\n> \n> node name\tip\tdocker vresion\tk8s version\n> k8s-master\t192.168.100.7\t23.0.6\tv1.28.2\n> k8s-node\t192.168.100.9\t23.0.6\tv1.28.2\n> CSGHub Version: helm version is v1.9.0-ce-ee OS: ubuntu20.04 Hardware: master 16c16G node16c16G Launch: helm chart\n> \n> **To Reproduce** Steps to reproduce the behavior: 1.csghub install command\n> \n> ```\n> helm upgrade --install csghub csghub/csghub \\\n>   --namespace csghub \\\n>   --create-namespace \\\n>   --set global.ingress.domain=\"example.com\" \\\n>   --set global.ingress.service.type=\"NodePort\" \\\n>   --set ingress-nginx.controller.service.type=\"NodePort\" \\\n>   --set global.deploy.knative.serving.services[0].type=\"NodePort\" \\\n>   --set global.deploy.knative.serving.services[0].domain=\"app.internal\" \\\n>   --set global.deploy.knative.serving.services[0].host=\"192.168.100.9\" \\\n>   --set global.deploy.knative.serving.services[0].port=\"30213\"\n> ```\n> \n> 2. In node1 ,i take \"192.168.100.9     csghub.example.com casdoor.example.com\" to /etc/hosts\n> 3. In node1 web browser, visit http://csghub.example.com:30080/\n> 4. Click on \"重新登录\"\n> 5. input username and passwd, then click on \"sign in\"\n> 6. an error occurred\n> \n> ```\n> {\n> \t\"GET\": {\n> \t\t\"scheme\": \"http\",\n> \t\t\"host\": \"localhost:3000\",\n> \t\t\"filename\": \"/errors/server-error\",\n> \t\t\"query\": {\n> \t\t\t\"error_code\": \"500\",\n> \t\t\t\"error_message\": \"failed to signin: failed to get token from casdoor,error:Post \\\"http://casdoor.example.com:30080/api/login/oauth/access_token\\\": dial tcp: lookup casdoor.example.com on 10.96.0.10:53: no such host\"\n> \t\t}\n> \t}\n> }\n> ```\n> \n> **Expected behavior** solving this problem\n> \n> **Screenshots** If applicable, add screenshots to help explain your problem.\n> \n> <img alt=\"Image\" width=\"1915\" height=\"1057\" src=\"https://private-user-images.githubusercontent.com/55644074/468935293-d025e870-12dd-4252-b135-6b7bd82764ef.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTMyMzkyOTUsIm5iZiI6MTc1MzIzODk5NSwicGF0aCI6Ii81NTY0NDA3NC80Njg5MzUyOTMtZDAyNWU4NzAtMTJkZC00MjUyLWIxMzUtNmI3YmQ4Mjc2NGVmLmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MjMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzIzVDAyNDk1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWZmZGYwMzBhZDRlNzUyYmQxZTAzZmNkMmEzYjAwMDNlZDc2OGE3ZTA4Y2FhYjlhZDY1YmE4NzUxZThmODE1MDcmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.7vNqksd9NPd3Re93WfdPdPpS9JikxqpF_Olfm3PVWts\"> <img alt=\"Image\" width=\"1912\" height=\"1069\" src=\"https://private-user-images.githubusercontent.com/55644074/468935373-a009fb88-70a6-4688-a523-93cefdd3b344.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTMyMzkyOTUsIm5iZiI6MTc1MzIzODk5NSwicGF0aCI6Ii81NTY0NDA3NC80Njg5MzUzNzMtYTAwOWZiODgtNzBhNi00Njg4LWE1MjMtOTNjZWZkZDNiMzQ0LmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MjMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzIzVDAyNDk1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWU3MWE3YWUyOWI5M2Y1MmEzNGVkOTIzMTVjNzViOGYyZTM2MzU4NDIwMzc0N2IwZTljNGFmNGViNDUyMGIwYzgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.RGDXoRJoUmPlwL36KdnNsgkNLWzU9YfIcp1W8Ctb0Y4\"> <img alt=\"Image\" width=\"1929\" height=\"1074\" src=\"https://private-user-images.githubusercontent.com/55644074/468935419-67ad4f46-fbc9-4a28-bcd3-24cdbe3e1cca.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTMyMzkyOTUsIm5iZiI6MTc1MzIzODk5NSwicGF0aCI6Ii81NTY0NDA3NC80Njg5MzU0MTktNjdhZDRmNDYtZmJjOS00YTI4LWJjZDMtMjRjZGJlM2UxY2NhLmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MjMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzIzVDAyNDk1NVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTM1N2RhZGIxOTIwMzg4MjIxMjIzOGNiN2NlMGViMzI3ODRkYTE4OWZmNTM0ODE0MWZlNTc2N2YzMWI5MDE3ZWYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.MaNXEKZCczb49LMD7HdG2FOlb5YZrJ4grKp2_FNcRDI\">\n> **Additional context** helm install log is\n> \n> ```\n> You have successfully installed CSGHub!\n> \n> Visit CSGHub at the following address:\n>       \n>     Address: http://csghub.example.com:30080\n>     Credentials: root/O**************\n> \n> Visit the Casdoor administrator console at the following address:\n> \n>     Address: http://casdoor.example.com:30080\n>     Credentials:\n>         Username: root\n>         Password: $(kubectl get secret --namespace csghub csghub-init-root -o jsonpath=\"{.data.INIT_ROOT_PASSWORD}\" | base64 -d)\n> \n> Visit the Temporal console at the following address:\n> \n>     Address: http://temporal.example.com:30080\n>     Credentials:\n>         Username: $(kubectl get secret --namespace csghub csghub-temporal -o jsonpath=\"{.data.TEMPORAL_USERNAME}\" | base64 -d)\n>         Password: $(kubectl get secret --namespace csghub csghub-temporal -o jsonpath=\"{.data.TEMPORAL_PASSWORD}\" | base64 -d)\n> \n> Visit the Minio console at the following address:\n> \n>     Address: http://minio.example.com:30080/console/\n>     Credentials:\n>         Username: $(kubectl get secret --namespace csghub csghub-minio -o jsonpath=\"{.data.MINIO_ROOT_USER}\" | base64 -d)\n>         Password: $(kubectl get secret --namespace csghub csghub-minio -o jsonpath=\"{.data.MINIO_ROOT_PASSWORD}\" | base64 -d)\n> \n> To access Registry using docker-cli:\n>     \n>     Endpoint: registry.example.com:30080\n>     Credentials:\n>         Username=$(kubectl get secret --namespace csghub csghub-registry -ojsonpath='{.data.REGISTRY_USERNAME}' | base64 -d)\n>         Password=$(kubectl get secret --namespace csghub csghub-registry -ojsonpath='{.data.REGISTRY_PASSWORD}' | base64 -d)\n> \n>     Login to the registry:\n>         echo \"$Password\" | docker login registry.example.com:30080 --username $Username ---password-stdin\n> \n>     Pull/Push images:\n>         docker pull registry.example.com:30080/test:latest\n>         docker push registry.example.com:30080/test:latest\n> \n> *Notes: This is not a container registry suitable for production environments.*\n> \n> For more details, visit:\n>     https://github.com/OpenCSGs/csghub-charts\n> ```\n\n",
      "The problem has been solved. The issue was that CoreDNS couldn't resolve csghub.example.com via nslookup. I found a solution using method 2 from [this troubleshooting guide](https://opencsg.com/docs/csghub/101/install/troubleshooting)."
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1251"
  },
  {
    "id": "issue_1248",
    "title": "下载数据集时，LFS文件下载失败",
    "body": "使用docker-compose方法部署，配置如下\n\n<img width=\"1783\" height=\"825\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/27e43adf-86df-4413-a01b-e25a99f99531\" />\n\nclone的时候失败：\n\n<img width=\"895\" height=\"381\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/dc78ca61-1898-4749-aba0-58d9cd678e5c\" />\n\ncsghub日志有报错：\n\n<img width=\"1823\" height=\"93\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a038a96a-cfe5-4a63-98d6-feb97ebb1cc6\" />",
    "comments": [],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1248"
  },
  {
    "id": "issue_1246",
    "title": "Using docker compose install csghub, but cannot log in",
    "body": "I follow step by step to install csghub and it running ok, but when I log in I get error \"502 Service Temporarily Unavailable\"  url is \"http://csghub.example.com/api/v1/callback/casdoor?code=98da75ae11a11b5e84c8&state=casdoor\". So, how can I fix, thanks.\n```\nservices:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.9.0-ce\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://csghub.example.com\" # 访问 CSGHub 实例域名，建议使用域名方式配置\n        runner:\t\t\t\t\t\t\t\t\t\t\t\t\t\t# 仅使用完整功能时需要，基本功能安装可移除此项\n          enable: true\t\t\t\t\t\t\t\t\t\t# 是否启用 Runner 服务，禁用则仅能使用基础功能\n          deploy:\n            knative:\n              services:\n                - type: \"NodePort\"        # 如果 Kubernetes 集群支持 LoadBalancer，可以使用 LoadBalancer\n                  domain: \"app.internal\"\t# 自定义 Knative Serving 内部域名\n                  host: \"192.168.18.10\"   # 暴露 kourier 服务的 EXTERNAL-IP\n                  port: 30123\t\t\t\t\t\t\t# 自定义端口号，type=LoadBalancer, 请指定为 80\n    ports:\n      - '80:80'\t\t\t\t\t# Nginx\n      - '2222:2222'     # Git Over SSH\n      - '5000:5000'     # Container Registry\n      - '8000:8000'     # Casdoor\n      - '9000:9000'     # Minio\n    volumes:\n      - ./csghub/etc:/etc/csghub\n      - ./csghub/logs:/var/log/csghub\n      - ./csghub/data:/var/opt/csghub\n      - ./csghub/.kube:/etc/csghub/.kube  # 仅使用完整功能时需要，基本功能安装可移除此项\n    restart: always\n    shm_size: '256m'\n```",
    "comments": [
      "Add logs\n```\ncsghub-ctl status\nrun: accounting: (pid 2996) 69s; run: log: (pid 2168) 70s\nrun: casdoor: (pid 3755) 68s; run: log: (pid 2183) 70s\nrun: dataviewer: (pid 4152) 67s; run: log: (pid 2166) 70s\nrun: dnsmasq: (pid 2162) 70s; run: log: (pid 2154) 70s\nrun: gitaly: (pid 2160) 70s; run: log: (pid 2155) 70s\nrun: gitlab_shell: (pid 2194) 70s; run: log: (pid 2190) 70s\nrun: minio: (pid 2163) 70s; run: log: (pid 2158) 70s\nrun: mirror_lfs: (pid 4151) 67s; run: log: (pid 2157) 70s\nrun: mirror_repo: (pid 4189) 66s; run: log: (pid 2181) 70s\nrun: nats: (pid 2195) 70s; run: log: (pid 2192) 70s\nrun: nginx: (pid 2161) 70s; run: log: (pid 2156) 70s\nrun: notification: (pid 3035) 69s; run: log: (pid 2173) 70s\nrun: portal: (pid 2918) 69s; run: log: (pid 2169) 70s\nrun: postgresql: (pid 2165) 70s; run: log: (pid 2159) 70s\nrun: redis: (pid 2175) 70s; run: log: (pid 2167) 70s\nrun: registry: (pid 2187) 70s; run: log: (pid 2182) 70s\nrun: rproxy: (pid 4116) 67s; run: log: (pid 2185) 70s\nrun: runner: (pid 3036) 69s; run: log: (pid 2180) 70s\ndown: server: 1s, normally up, want up; run: log: (pid 2184) 70s\nrun: temporal: (pid 2998) 69s; run: log: (pid 2171) 70s\nrun: user: (pid 3782) 68s; run: log: (pid 2170) 70s\n```\n\n```\nroot@7cff1702bc93:/# cat /var/log/csghub/casdoor/current\n2025-07-18_02:48:34.63210 psql: error: connection to server on socket \"/tmp/.s.PGSQL.5432\" failed: No such file or directory\n2025-07-18_02:48:34.63215       Is the server running locally and accepting connections on that socket?\n2025-07-18_02:48:34.63261 Creating user casdoor...\n2025-07-18_02:48:34.63458 psql: error: connection to server on socket \"/tmp/.s.PGSQL.5432\" failed: No such file or directory\n2025-07-18_02:48:34.63459       Is the server running locally and accepting connections on that socket?\n```\n\n```\nroot@7cff1702bc93:/# cat /var/log/csghub/server/current\n2025-07-18_02:52:59.06754 psql:scripts/02_seed_space_resources.sql:43: FATAL:  null value in column \"cluster_id\" of relation \"space_resources\" violates not-null constraint\n2025-07-18_02:52:59.06755 DETAIL:  Failing row contains (1, CPU basic · 0.5 vCPU · 1 GB, { \"cpu\": { \"type\": \"Intel\", \"num\": \"0.5\" }, \"memory\": \"1Gi\" }, null, 2025-07-18 10:52:59.066503+08, 2025-07-18 10:52:59.066503+08).\n2025-07-18_02:52:59.06957 psql:scripts/02_seed_space_resources.sql:43: server closed the connection unexpectedly\n2025-07-18_02:52:59.06958       This probably means the server terminated abnormally\n2025-07-18_02:52:59.06958       before or while processing the request.\n2025-07-18_02:52:59.06959 psql:scripts/02_seed_space_resources.sql:43: error: connection to server was lost\n2025-07-18_02:52:59.06985 Error: Failed to execute ./scripts/02_seed_space_resources.sql\n2025-07-18_02:52:59.22141 init logger, level: INFO, format: json\n2025-07-18_02:52:59.22667 init logger, level: INFO, format: json\n2025-07-18_02:52:59.23213 {\"time\":\"2025-07-18T02:52:59.232101203Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\n```\n\n```\nroot@7cff1702bc93:/# cat /var/log/csghub/nginx/current\n2025-07-18_02:49:27.64458 {\"remote_addr\":\"10.100.21.31\",\"remote_user\":\"\",\"time_local\":\"18/Jul/2025:02:49:27 +0000\",\"request\":\"POST /api/login?clientId=7a97bc5168cb75ffc514&responseType=code&redirectUri=http%3A%2F%2F10.100.18.24%2Fapi%2Fv1%2Fcallback%2Fcasdoor&type=code&scope=read&state=casdoor&nonce=&code_challenge_method=&code_challenge= HTTP/1.1\",\"status\":\"200\",\"body_bytes_sent\":\"87\",\"http_referer\":\"http://10.100.18.24:8000/login/oauth/authorize?client_id=7a97bc5168cb75ffc514&response_type=code&redirect_uri=http://10.100.18.24/api/v1/callback/casdoor&scope=read&state=casdoor\",\"http_user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8087\",\"upstream_status\":\"200\",\"request_time\":0.237,\"upstream_response_time\":0.237,\"host\":\"10.100.18.24\"}\n2025-07-18_02:49:27.66422 2025/07/18 02:49:27 [error] 2429#2429: *3 connect() failed (111: Connection refused) while connecting to upstream, client: 10.100.21.31, server: 10.100.18.24, request: \"GET /api/v1/callback/casdoor?code=fea57575b9c9054a1d83&state=casdoor HTTP/1.1\", upstream: \"http://127.0.0.1:8080/api/v1/callback/casdoor?code=fea57575b9c9054a1d83&state=casdoor\", host: \"10.100.18.24\", referrer: \"http://10.100.18.24:8000/\"\n```",
      "Nginx config API rout port is 8080, but there isn't service listen 8080 port when I run `netstat -tulnp`\n```\nActive Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        0      0 127.0.0.11:46595        0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:5001          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:6939          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:6933          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:6935          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:6934          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:7243          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:7233          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:7235          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:7234          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:8075          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:9000          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:9122          0.0.0.0:*               LISTEN      -\ntcp        0      0 127.0.0.1:9236          0.0.0.0:*               LISTEN      -\ntcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      2161/nginx: master\ntcp        0      0 0.0.0.0:53              0.0.0.0:*               LISTEN      -\ntcp        0      0 0.0.0.0:5000            0.0.0.0:*               LISTEN      2161/nginx: master\ntcp        0      0 0.0.0.0:5432            0.0.0.0:*               LISTEN      -\ntcp        0      0 0.0.0.0:6379            0.0.0.0:*               LISTEN      -\ntcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      2161/nginx: master\ntcp        0      0 0.0.0.0:9001            0.0.0.0:*               LISTEN      2161/nginx: master\ntcp6       0      0 ::1:9000                :::*                    LISTEN      -\ntcp6       0      0 :::389                  :::*                    LISTEN      -\ntcp6       0      0 :::53                   :::*                    LISTEN      -\ntcp6       0      0 :::2222                 :::*                    LISTEN      -\ntcp6       0      0 :::4222                 :::*                    LISTEN      -\ntcp6       0      0 :::5432                 :::*                    LISTEN      -\ntcp6       0      0 :::8086                 :::*                    LISTEN      2996/csghub-server\ntcp6       0      0 :::8087                 :::*                    LISTEN      -\ntcp6       0      0 :::8082                 :::*                    LISTEN      3036/csghub-server\ntcp6       0      0 :::8083                 :::*                    LISTEN      4116/csghub-server\ntcp6       0      0 :::8093                 :::*                    LISTEN      4152/csghub-server\ntcp6       0      0 :::8095                 :::*                    LISTEN      3035/csghub-server\ntcp6       0      0 :::8088                 :::*                    LISTEN      3782/csghub-server\ntcp6       0      0 :::8090                 :::*                    LISTEN      2918/csghub-portal\ntcp6       0      0 :::9000                 :::*                    LISTEN      -\ntcp6       0      0 :::9002                 :::*                    LISTEN      -\ntcp6       0      0 :::8222                 :::*                    LISTEN      -\nudp        0      0 127.0.0.11:38645        0.0.0.0:*                           -\nudp        0      0 0.0.0.0:53              0.0.0.0:*                           -\nudp6       0      0 :::53                   :::*                                -\nudp6       0      0 :::1812                 :::*                                -\n\n```",
      "@xTuringLab `csghub-ctl status` shows the server is down, have you tried to restart it ?\n\n> down: server: 1s, normally up, want up; run: log: (pid 2184) 70s\n\nby the way, logs of `casdoor` and `server` both show connection failure to `postgresql`."
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1246"
  },
  {
    "id": "issue_1245",
    "title": "登录报错 500 Internal Server Error",
    "body": "<!--\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\n-->\n**bug描述**\n注册正常，输入重复邮箱会提示邮箱占用；登录时输入错误密码也会提示。\n但输入正确密码，界面等待，约20s后返回 500 Internal Server Error \n\n详细信息\n```\nUncaught TypeError: Cannot set properties of null (setting 'textContent')\n    at casdoor?code=db3d36d7290e6f64d8f0&state=casdoor:86:53\n```\n**环境**\nCSGHub Version: v1.9.0-ce\nOS: Ubuntu\nLaunch:  docker compose \n\nyml文件\n```\nservices:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsghq/omnibus-csghub:v1.9.0-ce\n    hostname: 'csghub.example.com'\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://172.20.84.183\" # 访问 CSGHub 实例域名，建议使用域名方式配置\n        runner:\t\t\t\t\t\t\t\t\t\t\t\t\t\t# 仅使用完整功能时需要，基本功能安装可移除此项\n          enable: false\t\t\t\t\t\t\t\t\t\t# 是否启用 Runner 服务，禁用则仅能使用基础功能\n          deploy:\n            knative:\n              services:\n                - type: \"NodePort\"        # 如果 Kubernetes 集群支持 LoadBalancer，可以使用 LoadBalancer\n                  domain: \"app.internal\"\t# 自定义 Knative Serving 内部域名\n                  host: \"192.168.18.10\"   # 暴露 kourier 服务的 EXTERNAL-IP\n                  port: 30123\t\t\t\t\t\t\t# 自定义端口号，type=LoadBalancer, 请指定为 80\n    ports:\n      - '80:80'\t\t\t\t\t# Nginx\n      - '2222:2222'     # Git Over SSH\n      - '5000:5000'     # Container Registry\n      - '8000:8000'     # Casdoor\n      - '9000:9000'     # Minio\n\n    volumes:\n      - csghub_etc:/etc/csghub\n      - csghub_logs:/var/log/csghub\n      - csghub_data:/var/opt/csghub\n\n    restart: always\n    shm_size: '256m'\n\n\nvolumes:\n  csghub_etc:\n  csghub_logs:\n  csghub_data:\n```\n\n**状态**\n`csghub-ctl status`\n```\nrun: accounting: (pid 1800) 863s; run: log: (pid 1179) 865s\nrun: casdoor: (pid 1680) 863s; run: log: (pid 1141) 865s\nrun: dataviewer: (pid 1791) 863s; run: log: (pid 1159) 865s\nrun: dnsmasq: (pid 1148) 865s; run: log: (pid 1133) 865s\nrun: gitaly: (pid 1150) 865s; run: log: (pid 1134) 865s\nrun: gitlab_shell: (pid 1144) 865s; run: log: (pid 1129) 865s\nrun: minio: (pid 1168) 865s; run: log: (pid 1142) 865s\nrun: mirror_lfs: (pid 1786) 863s; run: log: (pid 1132) 865s\nrun: mirror_repo: (pid 1794) 863s; run: log: (pid 1167) 865s\nrun: nats: (pid 1145) 865s; run: log: (pid 1131) 865s\nrun: nginx: (pid 1143) 865s; run: log: (pid 1130) 865s\nrun: notification: (pid 1788) 863s; run: log: (pid 1140) 865s\nrun: portal: (pid 1691) 863s; run: log: (pid 1138) 865s\nrun: postgresql: (pid 1149) 865s; run: log: (pid 1135) 865s\nrun: redis: (pid 1146) 865s; run: log: (pid 1127) 865s\nrun: registry: (pid 1151) 865s; run: log: (pid 1139) 865s\nrun: rproxy: (pid 1790) 863s; run: log: (pid 1137) 865s\nrun: server: (pid 1679) 863s; run: log: (pid 1128) 865s\nrun: temporal: (pid 1580) 864s; run: log: (pid 1136) 865s\nrun: user: (pid 1789) 863s; run: log: (pid 1160) 865s\n```\n**casdoor**\n`/var/log/csghub/casdoor/current`\n\n```\n2025-07-17_10:10:14.56421 subOwner = anonymous, subName = anonymous, method = GET, urlPath = /api/get-application, obj.Owner = admin, obj.Name = CSGHub, result = allow\n2025-07-17_10:10:14.56424 2025/07/17 10:10:14.564 \u001b[1;34m[I]\u001b[0m  (172.18.0.1) subOwner = anonymous, subName = anonymous, method = GET, urlPath = /api/get-application, obj.Owner = admin, obj.Name = CSGHub, result = allow\n2025-07-17_10:10:17.14341 subOwner = anonymous, subName = anonymous, method = POST, urlPath = /api/login, obj.Owner = , obj.Name = , result = allow\n2025-07-17_10:10:17.14344 2025/07/17 10:10:17.143 \u001b[1;34m[I]\u001b[0m  (172.18.0.1) subOwner = anonymous, subName = anonymous, method = POST, urlPath = /api/login, obj.Owner = , obj.Name = , result = allow\n\n```\n\n**server**\n`/var/log/csghub/server/current`\n\n```\n2025-07-17_10:10:12.47820 {\"time\":\"2025-07-17T10:10:12.478111085Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"172.18.0.1\",\"method\":\"GET\",\"latency(ms)\":35,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/models?page=1&per=16&search=&sort=trending&source=\",\"full_path\":\"/api/v1/models\"}\n2025-07-17_10:10:47.29709 {\"time\":\"2025-07-17T10:10:47.296984431Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"172.18.0.1\",\"method\":\"GET\",\"latency(ms)\":30023,\"status\":500,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/callback/casdoor?code=3d6cc46fc1a907916e10&state=casdoor\",\"full_path\":\"/api/v1/callback/casdoor\"}\n2025-07-17_10:10:54.42040 {\"time\":\"2025-07-17T10:10:54.420313132Z\",\"level\":\"ERROR\",\"msg\":\"failed to get all service status\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp [::1]:8082: connect: connection refused\"}\n2025-07-17_10:11:54.42719 {\"time\":\"2025-07-17T10:11:54.42711198Z\",\"level\":\"ERROR\",\"msg\":\"failed to get all service status\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp [::1]:8082: connect: connection refused\"}\n2025-07-17_10:12:54.42452 {\"time\":\"2025-07-17T10:12:54.424431805Z\",\"level\":\"ERROR\",\"msg\":\"failed to get all service status\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp [::1]:8082: connect: connection refused\"}\n``` \n**nginx**\n`/var/log/csghub/nginx/current`\n```\n2025-07-17_10:10:17.26492 {\"remote_addr\":\"172.18.0.1\",\"remote_user\":\"\",\"time_local\":\"17/Jul/2025:10:10:17 +0000\",\"request\":\"POST /api/login?clientId=7a97bc5168cb75ffc514&responseType=code&redirectUri=http%3A%2F%2F172.20.84.183%2Fapi%2Fv1%2Fcallback%2Fcasdoor&type=code&scope=read&state=casdoor&nonce=&code_challenge_method=&code_challenge= HTTP/1.1\",\"status\":\"200\",\"body_bytes_sent\":\"87\",\"http_referer\":\"http://172.20.84.183:8000/login/oauth/authorize?client_id=7a97bc5168cb75ffc514&response_type=code&redirect_uri=http://172.20.84.183/api/v1/callback/casdoor&scope=read&state=casdoor\",\"http_user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8087\",\"upstream_status\":\"200\",\"request_time\":0.124,\"upstream_response_time\":0.124,\"host\":\"172.20.84.183\"}\n2025-07-17_10:10:47.29755 {\"remote_addr\":\"172.18.0.1\",\"remote_user\":\"\",\"time_local\":\"17/Jul/2025:10:10:47 +0000\",\"request\":\"GET /api/v1/callback/casdoor?code=3d6cc46fc1a907916e10&state=casdoor HTTP/1.1\",\"status\":\"500\",\"body_bytes_sent\":\"2282\",\"http_referer\":\"http://172.20.84.183:8000/\",\"http_user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8080\",\"upstream_status\":\"500\",\"request_time\":30.017,\"upstream_response_time\":30.024,\"host\":\"172.20.84.183\"}\n2025-07-17_10:10:47.37002 {\"remote_addr\":\"172.18.0.1\",\"remote_user\":\"\",\"time_local\":\"17/Jul/2025:10:10:47 +0000\",\"request\":\"GET /favicon.ico HTTP/1.1\",\"status\":\"302\",\"body_bytes_sent\":\"40\",\"http_referer\":\"http://172.20.84.183/api/v1/callback/casdoor?code=3d6cc46fc1a907916e10&state=casdoor\",\"http_user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8090\",\"upstream_status\":\"302\",\"request_time\":0.000,\"upstream_response_time\":0.001,\"host\":\"172.20.84.183\"}\n2025-07-17_10:10:47.37291 {\"remote_addr\":\"172.18.0.1\",\"remote_user\":\"\",\"time_local\":\"17/Jul/2025:10:10:47 +0000\",\"request\":\"GET /errors/not-found HTTP/1.1\",\"status\":\"200\",\"body_bytes_sent\":\"1128\",\"http_referer\":\"http://172.20.84.183/api/v1/callback/casdoor?code=3d6cc46fc1a907916e10&state=casdoor\",\"http_user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0\",\"http_x_forwarded_for\":\"\",\"upstream_addr\":\"127.0.0.1:8090\",\"upstream_status\":\"200\",\"request_time\":0.001,\"upstream_response_time\":0.001,\"host\":\"172.20.84.183\"}\n\n```\n\n**补充说明**\n\n\nissues有人遇到同样问题[Get the status 500 when login](https://github.com/OpenCSGs/csghub-charts/issues/314)\n但他通过镜像更新为 1.8.1-ce解决；我使用1.8.1-ce镜像并未解决这个问题。\n",
    "comments": [
      "casdoor 回调 csghub server服务异常了，这里有一个 500的错误\n```\n2025-07-17_10:10:47.29709 {\"time\":\"2025-07-17T10:10:47.296984431Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"172.18.0.1\",\"method\":\"GET\",\"latency(ms)\":30023,\"status\":500,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/callback/casdoor?code=3d6cc46fc1a907916e10&state=casdoor\",\"full_path\":\"/api/v1/callback/casdoor\"}\n```\n\n详细信息部分说的“Uncaught TypeError: Cannot set properties of null (setting 'textContent')” 有完整的上下文吗？ \n",
      "> casdoor 回调 csghub server服务异常了，这里有一个 500的错误\n> \n> ```\n> 2025-07-17_10:10:47.29709 {\"time\":\"2025-07-17T10:10:47.296984431Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"172.18.0.1\",\"method\":\"GET\",\"latency(ms)\":30023,\"status\":500,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/callback/casdoor?code=3d6cc46fc1a907916e10&state=casdoor\",\"full_path\":\"/api/v1/callback/casdoor\"}\n> ```\n> \n> 详细信息部分说的“Uncaught TypeError: Cannot set properties of null (setting 'textContent')” 有完整的上下文吗？\n\nhttps://img.scdn.io/i/6878d5cb1e30f_1752749515.webp\n完整的上下文是不是指的是`api/v1/callback/casdoor?code=d239a0cb6c1a751ce235&state=casdoor`文件？\n```\n\n<!DOCTYPE html>\n<html>\n<head>\n  <title>500 Server Error | CSGHub</title>\n  <style>\n    body {\n      height: 100vh;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin: 0;\n      background-color: #f9fafb;\n    }\n    .content {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      gap: 32px;\n      max-width: 800px;\n      padding: 20px;\n    }\n    .content img {\n      width: 242px;\n      height: auto;\n    }\n    .text-content {\n      text-align: center;\n    }\n    .text-content h1 {\n      color: #101828;\n      font-family: \"PingFang SC\", system-ui, -apple-system, sans-serif;\n      font-size: 60px;\n      font-weight: 500;\n      line-height: 72px;\n      letter-spacing: -1.2px;\n      margin: 0 0 16px 0;\n    }\n    .text-content p {\n      color: #475467;\n      font-family: \"PingFang SC\", system-ui, -apple-system, sans-serif;\n      font-size: 20px;\n      font-weight: 400;\n      line-height: 30px;\n      margin: 0 0 32px 0;\n    }\n    .action-button {\n      display: inline-block;\n      padding: 12px 24px;\n      background-color: #1e50e2;\n      color: white;\n      text-decoration: none;\n      border-radius: 8px;\n      font-family: \"PingFang SC\", system-ui, -apple-system, sans-serif;\n      font-size: 16px;\n      font-weight: 500;\n      transition: background-color 0.3s;\n    }\n    .action-button:hover {\n      background-color: #1a44b8;\n    }\n    .error-details {\n      background-color: #f8f9fc;\n      padding: 12px;\n      border-radius: 6px;\n      margin-top: 20px;\n      font-family: monospace;\n      color: #667085;\n      font-size: 14px;\n    }\n  </style>\n</head>\n<body>\n<div class=\"content\">\n  <img src=\"https://opencsg-public-resource.oss-cn-beijing.aliyuncs.com/0916d174-15a8-44f3-90a0-35882a4554bc\" alt=\"Server error\">\n  <div class=\"text-content\">\n    <h1>500 Internal Server Error</h1>\n    <p>Something went wrong on our servers while processing your request.</p>\n    <div class=\"error-details\">\n      Error 500: Internal Server Error<br>\n    </div>\n  </div>\n</div>\n<script>\n  // Generate a simple request ID for tracking\n  document.getElementById('request-id').textContent =\n          Math.random().toString(36).substring(2, 10).toUpperCase();\n</script>\n</body>\n</html>\n```",
      "**server**\n`/var/log/csghub/server/current`\n`2025-07-17_10:12:54.42452 {\"time\":\"2025-07-17T10:12:54.424431805Z\",\"level\":\"ERROR\",\"msg\":\"failed to get all service status\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp [::1]:8082: connect: connection refused\"}`\n是不是说明8082端口没有被监听，必须找到并启动“8082 服务",
      "> **server** `/var/log/csghub/server/current` `2025-07-17_10:12:54.42452 {\"time\":\"2025-07-17T10:12:54.424431805Z\",\"level\":\"ERROR\",\"msg\":\"failed to get all service status\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp [::1]:8082: connect: connection refused\"}` 是不是说明8082端口没有被监听，必须找到并启动“8082 服务\n\n@SnWNH3 这个错误不用理会。\n能不能看一下同一时间 `user` 服务的日志？可能有登录验证相关的错误",
      "> > **server** `/var/log/csghub/server/current` `2025-07-17_10:12:54.42452 {\"time\":\"2025-07-17T10:12:54.424431805Z\",\"level\":\"ERROR\",\"msg\":\"failed to get all service status\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp [::1]:8082: connect: connection refused\"}` 是不是说明8082端口没有被监听，必须找到并启动“8082 服务\n> \n> [@SnWNH3](https://github.com/SnWNH3) 这个错误不用理会。 能不能看一下同一时间 `user` 服务的日志？可能有登录验证相关的错误\n\n这个是`/var/log/csghub/user/current`文件最后几行\n```\n2025-07-18_08:41:00.06635 {\"time\":\"2025-07-18T08:41:00.066259804Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"172.18.0.1\",\"method\":\"GET\",\"latency(ms)\":11,\"status\":301,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/callback/casdoor?code=f36e6455a9daa8bc039d&state=casdoor\",\"full_path\":\"/api/v1/callback/casdoor\"}\n2025-07-18_08:41:00.06706 {\"time\":\"2025-07-18T08:41:00.066948417Z\",\"level\":\"ERROR\",\"msg\":\"failed to update user login time\",\"error\":\"SYS-ERR-2: sql: transaction has already been committed or rolled back\",\"username\":\"hubert\"}\n2025-07-18_08:44:15.25370 {\"time\":\"2025-07-18T08:44:15.253618367Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"172.18.0.1\",\"method\":\"GET\",\"latency(ms)\":22,\"status\":301,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/callback/casdoor?code=ee39ae7053faed997aa1&state=casdoor\",\"full_path\":\"/api/v1/callback/casdoor\"}\n2025-07-18_08:46:50.98905 {\"time\":\"2025-07-18T08:46:50.988965566Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"172.18.0.1\",\"method\":\"GET\",\"latency(ms)\":9,\"status\":301,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/callback/casdoor?code=e3fbf69cdd836fec7203&state=casdoor\",\"full_path\":\"/api/v1/callback/casdoor\"}\n2025-07-18_08:46:50.98940 {\"time\":\"2025-07-18T08:46:50.989340777Z\",\"level\":\"ERROR\",\"msg\":\"failed to update user login time\",\"error\":\"SYS-ERR-2: sql: transaction has already been committed or rolled back\",\"username\":\"hubert\"}\n\n```",
      "与技术沟通后，或与虚拟机-宿主机通信有关；\n原使用wsl+宿主机浏览器，后改为virtulbox，配置/ect/hosts/文件；\n`虚拟机ip csghub.example.com`\n问题解决\n\n"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1245"
  },
  {
    "id": "issue_1235",
    "title": "单独启动前端服务问题 / Issue with running frontend service separately",
    "body": "node:v20.19.3\nyarn:1.22.22\nnpm:10.8.2\n分支(branch):main\n你好，我想单独启动前端服务，根据[文档](https://github.com/OpenCSGs/csghub/blob/main/docs/setup.md)执行了 `make run-frontend`，但是看起来只执行了 `yarn dev_build`，并没有启动本地服务，如图：\n\n<img width=\"1309\" height=\"979\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e6fe8103-16bd-41a4-807c-5cb2e7b33f36\" />\n\n**如果我直接执行 `yarn dev`，启动后访问 `http://localhost:5173/` 又无法访问**。\n\n<img width=\"544\" height=\"169\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ca0dc40d-6fc8-48b1-a410-3b2bdb651e7d\" />\n\n<img width=\"1698\" height=\"1008\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6a836edb-1330-40e2-949b-fb650f6601ec\" />\n\n帮忙解答一下，如何才能正确单独启动前端服务？\n\n目前我使用的是 `main` 分支。\n\n谢谢！\n",
    "comments": [
      "@linqiqi077 文档里的单独启动前端服务指的是可以分开启动 CSGHub 的前端和后端，但是在浏览器访问是需要后端也启动的\n",
      "> [@linqiqi077](https://github.com/linqiqi077) 文档里的单独启动前端服务指的是可以分开启动 CSGHub 的前端和后端，但是在浏览器访问是需要后端也启动的\n\n我是想单独启动前端是不可行的是吗？即使我只想看看页面，不用进行交互怎么也需要搭配后端服务一起启动的意思？",
      "> > [@linqiqi077](https://github.com/linqiqi077) 文档里的单独启动前端服务指的是可以分开启动 CSGHub 的前端和后端，但是在浏览器访问是需要后端也启动的\n> \n> 我是想单独启动前端是不可行的是吗？即使我只想看看页面，不用进行交互怎么也需要搭配后端服务一起启动的意思？\n\n对的，服务启动是需要前后端都启动",
      "> > > [@linqiqi077](https://github.com/linqiqi077) 文档里的单独启动前端服务指的是可以分开启动 CSGHub 的前端和后端，但是在浏览器访问是需要后端也启动的\n> > \n> > \n> > 我是想单独启动前端是不可行的是吗？即使我只想看看页面，不用进行交互怎么也需要搭配后端服务一起启动的意思？\n> \n> 对的，服务启动是需要前后端都启动\n\n请问一下.env.example这个文件的环境变量都代表什么意思，可以去哪里获取？有相关文档吗？",
      "> > > > [@linqiqi077](https://github.com/linqiqi077) 文档里的单独启动前端服务指的是可以分开启动 CSGHub 的前端和后端，但是在浏览器访问是需要后端也启动的\n> > > \n> > > \n> > > 我是想单独启动前端是不可行的是吗？即使我只想看看页面，不用进行交互怎么也需要搭配后端服务一起启动的意思？\n> > \n> > \n> > 对的，服务启动是需要前后端都启动\n> \n> 请问一下.env.example这个文件的环境变量都代表什么意思，可以去哪里获取？有相关文档吗？\n\n@linqiqi077 环境变量相关请参考文档： https://github.com/OpenCSGs/csghub/blob/main/docs/env_variables_zh.md"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1235"
  },
  {
    "id": "issue_1220",
    "title": "docker-compose方式启动后进入页面报404",
    "body": "https://opencsg.com/docs/csghub/101/install/install_csghub_by_docker\n按照这个里面的CE版本部署后，csghub.external_url配的是本机ip地址，进csghub.external_url配的地址，报404\n进入容器后，使用csghub-ctl tail查看日志，有报错\n\n<img width=\"1018\" height=\"211\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1c473e1d-3ab8-48d0-95a5-5c0364d724e5\" />\n\n<img width=\"1236\" height=\"746\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/386b7307-4f8f-4c33-9ab3-b9bdf99ae78d\" />",
    "comments": [
      "@420646016 PG 数据库没起来，  `/var/opt/csghub/posgresql/data` 目录的权限需要改一下，错误日志里面有具体的权限值",
      "这个问题可能是我自己把/var/opt/csghub整个文件夹的权限改成了777导致的\n我把容器停了之后重新启动，用csghub-ctl status查看状态，发现有3个服务down了，minio、gitlay、server\n通过将/var/opt/csghub/gitaly/gitaly.pid权限改成777后重启，解决了gitaly。其他2个不知道怎么解决\n下图是minio的日志\n\n<img width=\"1230\" height=\"129\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/23c81dd2-c8af-47ff-94ad-6eae9627ced0\" />\n下图是server的日志\n\n<img width=\"1229\" height=\"709\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b7419182-e739-4334-b1f6-246d8be3b268\" />",
      "已通过下面命令解决\nchown -R minio:minio /var/opt/csghub/minio"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1220"
  },
  {
    "id": "issue_1205",
    "title": "局域网里测试机用命令行方式上传下载数据集或模型不能用（web端OK；主机OK）",
    "body": "**Environment**\nCSGHub Version: v1.7.0\nOS: Linux\nHardware: 32c128G\nLaunch: docker compose\n\n和技术人员沟通后更改如下：\nservices:\n  csghub:\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsg_public/omnibus-csghub:v1.8.0-ce\n    hostname: 'csghub.example.com'\n    environment:\n      CSGHUB_OMNIBUS_CONFIG: |\n        csghub:\n          external_url: \"http://csghub.example.com\" # 访问 CSGHub 实例域名，建议使用域名方式配置\n        runner:\n          enable: false                                      # 是否启用 Runner 服务，禁用则仅能使用基础功能\n          deploy:\n            knative:\n              services:\n                - type: \"NodePort\"        # 如果 Kubernetes 集群支持 LoadBalancer，可以使用 LoadBalancer\n                  domain: \"app.internal\"    # 自定义 Knative Serving 内部域名\n                  host: \"192.168.16.110\"   # 暴露 kourier 服务的 EXTERNAL-IP\n                  port: 30123                           # 自定义端口号，type=LoadBalancer, 请指定为 80\n        server:\n          s3:\n            endpoint: \"192.168.16.110:9000\"\n            internal_endpoint: \"127.0.0.1:9000\"\n    ports:\n      - '80:80'                 # Nginx\n      - '2222:2222'     # Git Over SSH\n      - '5000:5000'     # Container Registry\n      - '8000:8000'     # Casdoor\n      - '9000:9000'     # Minio\n    volumes:\n      - ./csghub/etc:/etc/csghub\n      - ./csghub/logs:/var/log/csghub\n      - ./csghub/data:/var/opt/csghub\n      - ./csghub/.kube:/etc/csghub/.kube\n    restart: always\n    shm_size: '256m'\n\n出现新问题：\n主机都不能正常登录帐号了\n\n![Image](https://github.com/user-attachments/assets/37a7fc81-cad0-4995-bac8-444588863cbc)\n登录直接显示404\n\n![Image](https://github.com/user-attachments/assets/dd513458-d239-4a12-9024-ce72f9115ab1)\n",
    "comments": [
      "log如下：\ndocker logs -f  csghub-installer-csghub-1\n2025/06/24 09:10:21 Reconfiguring service: nginx\n2025/06/24 09:10:21 Reconfiguring service: rproxy\n2025/06/24 09:10:21 Reconfiguring service: redis\n2025/06/24 09:10:21 Reconfiguring service: notification\n2025/06/24 09:10:21 Reconfiguring service: gitlab_shell\n2025/06/24 09:10:21 Reconfiguring service: server\n2025/06/24 09:10:21 Reconfiguring service: user\n2025/06/24 09:10:21 Reconfiguring service: accounting\n2025/06/24 09:10:21 Reconfiguring service: temporal\n2025/06/24 09:10:21 Reconfiguring service: minio\n2025/06/24 09:10:21 Reconfiguring service: nats\n2025/06/24 09:10:21 Reconfiguring service: registry\n2025/06/24 09:10:21 Reconfiguring service: casdoor\n2025/06/24 09:10:21 Reconfiguring service: dataviewer\n2025/06/24 09:10:21 Reconfiguring service: dnsmasq\n2025/06/24 09:10:21 Reconfiguring service: gitaly\n2025/06/24 09:10:21 Reconfiguring service: portal\n2025/06/24 09:10:21 Reconfiguring service: postgresql\n2025/06/24 09:10:21 Reconfiguring service: mirror_repo\n2025/06/24 09:10:21 Reconfiguring service: mirror_lfs\n2025/06/24 09:10:21 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/control/t.sample\n  target: /opt/csghub/service/server/control/t\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/server/control/t \n   => ec67b748e72eafcc0089589da81aa418\n2025/06/24 09:10:21 Rendered template for mirror_lfs: \n  source: /opt/csghub/embedded/sv/mirror_lfs/templates/control/t.sample\n  target: /opt/csghub/service/mirror_lfs/control/t\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/mirror_lfs/control/t \n   => 5375fe790039023f64d8e8c37d0f809a\n2025/06/24 09:10:21 Rendered template for mirror_repo: \n  source: /opt/csghub/embedded/sv/mirror_repo/templates/control/t.sample\n  target: /opt/csghub/service/mirror_repo/control/t\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/mirror_repo/control/t \n   => 3a18e0f8760b2c5698946133391c8e31\n2025/06/24 09:10:21 Rendered template for portal: \n  source: /opt/csghub/embedded/sv/portal/templates/log/run.sample\n  target: /opt/csghub/service/portal/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/portal/log/run \n   => ca9bac2cbed9e1d6e4e7a234c0b551fc\n2025/06/24 09:10:21 Rendered template for mirror_lfs: \n  source: /opt/csghub/embedded/sv/mirror_lfs/templates/log/run.sample\n  target: /opt/csghub/service/mirror_lfs/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/mirror_lfs/log/run \n   => bc5e057282cca2de3b221ebc3ccfc979\n2025/06/24 09:10:21 Rendered template for mirror_repo: \n  source: /opt/csghub/embedded/sv/mirror_repo/templates/log/run.sample\n  target: /opt/csghub/service/mirror_repo/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/mirror_repo/log/run \n   => b7bcf4bd7a48639c4b1c888b812fb409\n2025/06/24 09:10:21 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/log/run.sample\n  target: /opt/csghub/service/server/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/server/log/run \n   => 1113c04b8f4e71ce0d8063ef5c5dbbb4\n2025/06/24 09:10:21 Rendered template for mirror_lfs: \n  source: /opt/csghub/embedded/sv/mirror_lfs/templates/run.sample\n  target: /opt/csghub/service/mirror_lfs/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/mirror_lfs/run \n   => ab408d3eb1e704b48ecc004e2321b07f\n2025/06/24 09:10:21 Restarting services mirror_lfs\nwarning: mirror_lfs: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for mirror_repo: \n  source: /opt/csghub/embedded/sv/mirror_repo/templates/run.sample\n  target: /opt/csghub/service/mirror_repo/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/mirror_repo/run \n   => 040c463aee0ff7684dfc747805ca8d92\n2025/06/24 09:10:21 Restarting services mirror_repo\nwarning: mirror_repo: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/pre-start.sample\n  target: /opt/csghub/service/server/pre-start\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/server/pre-start \n   => 38545c7811ce0648ba6db0ef5ec449b0\n2025/06/24 09:10:21 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/run.sample\n  target: /opt/csghub/service/server/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/server/run \n   => fb535cf6183f8003aa4e40d65f7f98a1\n2025/06/24 09:10:21 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/scripts/01_promote_superuser.sql.sample\n  target: /opt/csghub/service/server/scripts/01_promote_superuser.sql\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/server/scripts/01_promote_superuser.sql \n   => 489087244c1b97f67d63bf88287350b4\n2025/06/24 09:10:21 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/scripts/02_seed_space_resources.sql.sample\n  target: /opt/csghub/service/server/scripts/02_seed_space_resources.sql\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/server/scripts/02_seed_space_resources.sql \n   => 87923de9501b513093718bcd0c0ee9bf\n2025/06/24 09:10:21 Rendered template for portal: \n  source: /opt/csghub/embedded/sv/portal/templates/pre-start.sample\n  target: /opt/csghub/service/portal/pre-start\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/portal/pre-start \n   => 378c9207e0c01e3c5e84f3d9e88bdf0e\n2025/06/24 09:10:21 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/scripts/03_seed_tag_categories.sql.sample\n  target: /opt/csghub/service/server/scripts/03_seed_tag_categories.sql\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/server/scripts/03_seed_tag_categories.sql \n   => 4025e46fbc4a58fea4baae9788880905\n2025/06/24 09:10:21 Rendered template for portal: \n  source: /opt/csghub/embedded/sv/portal/templates/run.sample\n  target: /opt/csghub/service/portal/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/portal/run \n   => bbbb9f5671da9e118c3566c72c0a6573\n2025/06/24 09:10:21 Restarting services portal\nwarning: portal: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for user: \n  source: /opt/csghub/embedded/sv/user/templates/log/run.sample\n  target: /opt/csghub/service/user/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/user/log/run \n   => b1d301a026d70745b0c02e8baf411fd7\n2025/06/24 09:10:21 Rendered template for user: \n  source: /opt/csghub/embedded/sv/user/templates/run.sample\n  target: /opt/csghub/service/user/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/user/run \n   => d7e089ad2ed2682013ed6aebc703e20c\n2025/06/24 09:10:21 Restarting services user\nwarning: user: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for server: \n  source: /opt/csghub/etc/server/config.toml.sample\n  target: /var/opt/csghub/server/config.toml\n2025/06/24 09:10:21 Config file changed: /var/opt/csghub/server/config.toml \n  ff4e0c2129f041d60768133322e2c169 => 06089112fd69335d5e88fef747b0ea9a\n2025/06/24 09:10:21 Restarting services server\nwarning: server: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for gitlab_shell: \n  source: /opt/csghub/embedded/sv/gitlab_shell/templates/log/run.sample\n  target: /opt/csghub/service/gitlab_shell/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/gitlab_shell/log/run \n   => 2edc3b1b60fa03d62a21f6b520e2d18c\n2025/06/24 09:10:21 Rendered template for gitlab_shell: \n  source: /opt/csghub/embedded/sv/gitlab_shell/templates/run.sample\n  target: /opt/csghub/service/gitlab_shell/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/gitlab_shell/run \n   => 4cec4eea39791f353553ef5194a34680\n2025/06/24 09:10:21 Rendered template for gitlab_shell: \n  source: /opt/csghub/etc/gitlab_shell/config.yml.sample\n  target: /var/opt/csghub/gitlab_shell/config.yml\n2025/06/24 09:10:21 Restarting services gitlab_shell\nwarning: gitlab_shell: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for notification: \n  source: /opt/csghub/embedded/sv/notification/templates/log/run.sample\n  target: /opt/csghub/service/notification/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/notification/log/run \n   => 7fa378954cd73f6f4442ccf78918c75d\n2025/06/24 09:10:21 Rendered template for notification: \n  source: /opt/csghub/embedded/sv/notification/templates/run.sample\n  target: /opt/csghub/service/notification/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/notification/run \n   => f42234e56975407fee9b8d2c37cb0285\n2025/06/24 09:10:21 Restarting services notification\nwarning: notification: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for rproxy: \n  source: /opt/csghub/embedded/sv/rproxy/templates/log/run.sample\n  target: /opt/csghub/service/rproxy/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/rproxy/log/run \n   => 53d6b6f0904b2bb7373ef854c5052e30\n2025/06/24 09:10:21 Rendered template for rproxy: \n  source: /opt/csghub/embedded/sv/rproxy/templates/run.sample\n  target: /opt/csghub/service/rproxy/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/rproxy/run \n   => 1187be58ae4a3cdcf70514acca68ae66\n2025/06/24 09:10:21 Restarting services rproxy\nwarning: rproxy: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/control/h.sample\n  target: /opt/csghub/service/nginx/control/h\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/nginx/control/h \n   => 5cdb18f8b81c745e3aff49509cede500\n2025/06/24 09:10:21 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/log/run.sample\n  target: /opt/csghub/service/nginx/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/nginx/log/run \n   => d6134161ba02ce0bdb14b0cb6cdbaf4f\n2025/06/24 09:10:21 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/pre-start.sample\n  target: /opt/csghub/service/nginx/pre-start\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/nginx/pre-start \n   => c559e0abb1d86ffaeb79066069900442\n2025/06/24 09:10:21 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/run.sample\n  target: /opt/csghub/service/nginx/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/nginx/run \n   => f65a78166e3e9babdb37ce43cdbc5b09\n2025/06/24 09:10:21 Rendered template for nginx: \n  source: /opt/csghub/etc/nginx/nginx.conf.sample\n  target: /var/opt/csghub/nginx/nginx.conf\n2025/06/24 09:10:21 Restarting services nginx\nwarning: nginx: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for redis: \n  source: /opt/csghub/embedded/sv/redis/templates/log/run.sample\n  target: /opt/csghub/service/redis/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/redis/log/run \n   => dd23df83103389a4a9ca563af228e07c\n2025/06/24 09:10:21 Rendered template for redis: \n  source: /opt/csghub/embedded/sv/redis/templates/pre-start.sample\n  target: /opt/csghub/service/redis/pre-start\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/redis/pre-start \n   => 899d7c18e037462fa2ab4efae38bfe32\n2025/06/24 09:10:21 Rendered template for redis: \n  source: /opt/csghub/embedded/sv/redis/templates/run.sample\n  target: /opt/csghub/service/redis/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/redis/run \n   => 6c8fa9d6384f7734ccbf1ae0a012522e\n2025/06/24 09:10:21 Rendered template for redis: \n  source: /opt/csghub/etc/redis/redis.conf.sample\n  target: /var/opt/csghub/redis/redis.conf\n2025/06/24 09:10:21 Restarting services redis\nwarning: redis: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/create_bucket.sample\n  target: /opt/csghub/service/minio/create_bucket\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/minio/create_bucket \n   => afc9458d511854be5182bfd78c96f288\n2025/06/24 09:10:21 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/log/run.sample\n  target: /opt/csghub/service/minio/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/minio/log/run \n   => 1ba719db98549b42ab50bc499a58b8ad\n2025/06/24 09:10:21 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/pre-start.sample\n  target: /opt/csghub/service/minio/pre-start\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/minio/pre-start \n   => 6e4c29db37af0b17a526fc3a87e83992\n2025/06/24 09:10:21 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/run.sample\n  target: /opt/csghub/service/minio/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/minio/run \n   => 6adbad202a944a1b29f719f0a4479a87\n2025/06/24 09:10:21 Restarting services minio\nwarning: minio: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for accounting: \n  source: /opt/csghub/embedded/sv/accounting/templates/log/run.sample\n  target: /opt/csghub/service/accounting/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/accounting/log/run \n   => ba4dd58c3c6ff1b981157797fa9c7e4d\n2025/06/24 09:10:21 Rendered template for accounting: \n  source: /opt/csghub/embedded/sv/accounting/templates/run.sample\n  target: /opt/csghub/service/accounting/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/accounting/run \n   => a41c549c1fe3919367eb3e4ad7fa87b5\n2025/06/24 09:10:21 Restarting services accounting\nwarning: accounting: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/control/t.sample\n  target: /opt/csghub/service/temporal/control/t\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/temporal/control/t \n   => 9eb6af8dfba197fa48d0875068720a4d\n2025/06/24 09:10:21 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/log/run.sample\n  target: /opt/csghub/service/temporal/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/temporal/log/run \n   => 1e0d4ff7f03a17901dd8d59d7dd13256\n2025/06/24 09:10:21 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/pre-start.sample\n  target: /opt/csghub/service/temporal/pre-start\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/temporal/pre-start \n   => 1ac5f108ac881b3f39d281032a8ca4fc\n2025/06/24 09:10:21 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/run.sample\n  target: /opt/csghub/service/temporal/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/temporal/run \n   => 132b9cb605bc5b79d4bf2d2b0ae2d776\n2025/06/24 09:10:21 Rendered template for temporal: \n  source: /opt/csghub/etc/temporal/docker.yaml.sample\n  target: /var/opt/csghub/temporal/docker.yaml\n2025/06/24 09:10:21 Restarting services temporal\nwarning: temporal: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for nats: \n  source: /opt/csghub/embedded/sv/nats/templates/log/run.sample\n  target: /opt/csghub/service/nats/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/nats/log/run \n   => b5271df1d411f467525b853d841d09f2\n2025/06/24 09:10:21 Rendered template for nats: \n  source: /opt/csghub/embedded/sv/nats/templates/run.sample\n  target: /opt/csghub/service/nats/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/nats/run \n   => d91b5a92a1b9eda452d0c935c09fde28\n2025/06/24 09:10:21 Rendered template for nats: \n  source: /opt/csghub/etc/nats/nats.conf.sample\n  target: /var/opt/csghub/nats/nats.conf\n2025/06/24 09:10:21 Config file changed: /var/opt/csghub/nats/nats.conf \n  2eca7142681ace44deb4b1c6a9178535 => 0f41a4fb4d2b79b7568ce42eab721238\n2025/06/24 09:10:21 Restarting services nats\nwarning: nats: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for registry: \n  source: /opt/csghub/embedded/sv/registry/templates/log/run.sample\n  target: /opt/csghub/service/registry/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/registry/log/run \n   => d242c37a244bd027d8e3b0532e2cb22c\n2025/06/24 09:10:21 Rendered template for dataviewer: \n  source: /opt/csghub/embedded/sv/dataviewer/templates/log/run.sample\n  target: /opt/csghub/service/dataviewer/log/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/dataviewer/log/run \n   => ab68cfec65c0108be20d7891276dce63\n2025/06/24 09:10:21 Rendered template for registry: \n  source: /opt/csghub/embedded/sv/registry/templates/pre-start.sample\n  target: /opt/csghub/service/registry/pre-start\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/registry/pre-start \n   => 129b0cf3667252f1fe531785adff428d\n2025/06/24 09:10:21 Rendered template for dataviewer: \n  source: /opt/csghub/embedded/sv/dataviewer/templates/run.sample\n  target: /opt/csghub/service/dataviewer/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/dataviewer/run \n   => 380da0ffe56e66ba3809f6918a93ec56\n2025/06/24 09:10:21 Restarting services dataviewer\nwarning: dataviewer: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:21 Rendered template for registry: \n  source: /opt/csghub/embedded/sv/registry/templates/run.sample\n  target: /opt/csghub/service/registry/run\n2025/06/24 09:10:21 Config file changed: /opt/csghub/service/registry/run \n   => f022c78351503c6ae73e45f741ce6307\n2025/06/24 09:10:21 Rendered template for registry: \n  source: /opt/csghub/etc/registry/config.yml.sample\n  target: /var/opt/csghub/registry/config.yml\n2025/06/24 09:10:21 Restarting services registry\nwarning: registry: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:22 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/log/run.sample\n  target: /opt/csghub/service/casdoor/log/run\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/casdoor/log/run \n   => f010faca987dce7adf5b99fd4acf93c0\n2025/06/24 09:10:22 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/pre-start.sample\n  target: /opt/csghub/service/casdoor/pre-start\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/casdoor/pre-start \n   => 69e68fc0865aa85ca0ec5d7c5716565b\n2025/06/24 09:10:22 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/run.sample\n  target: /opt/csghub/service/casdoor/run\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/casdoor/run \n   => 085813b080d18ff3b12be2dc38098466\n2025/06/24 09:10:22 Rendered template for dnsmasq: \n  source: /opt/csghub/embedded/sv/dnsmasq/templates/log/run.sample\n  target: /opt/csghub/service/dnsmasq/log/run\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/dnsmasq/log/run \n   => c6be46f8d85039837572cc530651a36c\n2025/06/24 09:10:22 Rendered template for dnsmasq: \n  source: /opt/csghub/embedded/sv/dnsmasq/templates/pre-start.sample\n  target: /opt/csghub/service/dnsmasq/pre-start\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/dnsmasq/pre-start \n   => 7eb02e327fa8d6705c15f64fa180c3bb\n2025/06/24 09:10:22 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/scripts/update_casdoor.sql.sample\n  target: /opt/csghub/service/casdoor/scripts/update_casdoor.sql\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/casdoor/scripts/update_casdoor.sql \n   => a9306256b229619c8878698373335309\n2025/06/24 09:10:22 Rendered template for dnsmasq: \n  source: /opt/csghub/embedded/sv/dnsmasq/templates/run.sample\n  target: /opt/csghub/service/dnsmasq/run\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/dnsmasq/run \n   => 0c436e364109b22b6a2871dbc3bd1576\n2025/06/24 09:10:22 Restarting services dnsmasq\nwarning: dnsmasq: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:22 Rendered template for casdoor: \n  source: /opt/csghub/etc/casdoor/app.conf.sample\n  target: /var/opt/csghub/casdoor/app.conf\n2025/06/24 09:10:22 Config file changed: /var/opt/csghub/casdoor/app.conf \n   => bf971444ed0cbcaf096185e62bfffa53\n2025/06/24 09:10:22 Rendered template for casdoor: \n  source: /opt/csghub/etc/casdoor/init_data.json.sample\n  target: /var/opt/csghub/casdoor/init_data.json\n2025/06/24 09:10:22 Config file changed: /var/opt/csghub/casdoor/init_data.json \n  3d3d491e4dd96df99ba997ce95b8fb7e => 16aa14ebbb539ad2aa87ad630bc130f4\n2025/06/24 09:10:22 Restarting services casdoor\nwarning: casdoor: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:22 Rendered template for gitaly: \n  source: /opt/csghub/embedded/sv/gitaly/templates/log/run.sample\n  target: /opt/csghub/service/gitaly/log/run\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/gitaly/log/run \n   => 64282020ea307addf8f5a3769bd0e8e4\n2025/06/24 09:10:22 Rendered template for gitaly: \n  source: /opt/csghub/embedded/sv/gitaly/templates/pre-start.sample\n  target: /opt/csghub/service/gitaly/pre-start\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/gitaly/pre-start \n   => 410757024a3ddd5aefd2f4da360e2037\n2025/06/24 09:10:22 Rendered template for gitaly: \n  source: /opt/csghub/embedded/sv/gitaly/templates/run.sample\n  target: /opt/csghub/service/gitaly/run\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/gitaly/run \n   => 3cf864b248ec768b5a109f6ea81421e2\n2025/06/24 09:10:22 Rendered template for gitaly: \n  source: /opt/csghub/etc/gitaly/config.toml.sample\n  target: /var/opt/csghub/gitaly/config.toml\n2025/06/24 09:10:22 Restarting services gitaly\nwarning: gitaly: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:22 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/control/h.sample\n  target: /opt/csghub/service/postgresql/control/h\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/postgresql/control/h \n   => c6e68eef5effd7711e265afe94ba8e3d\n2025/06/24 09:10:22 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/control/t.sample\n  target: /opt/csghub/service/postgresql/control/t\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/postgresql/control/t \n   => 6ae755aed0391a0a37d340e0bf6bc69d\n2025/06/24 09:10:22 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/create_database.sample\n  target: /opt/csghub/service/postgresql/create_database\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/postgresql/create_database \n   => e0f83512c299bd8c7742ff495541d483\n2025/06/24 09:10:22 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/finish.sample\n  target: /opt/csghub/service/postgresql/finish\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/postgresql/finish \n   => d6a9e771ba58cb13460399d8ba4734c2\n2025/06/24 09:10:22 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/log/run.sample\n  target: /opt/csghub/service/postgresql/log/run\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/postgresql/log/run \n   => a5d342b52443aee978fcd55fbe2f64d8\n2025/06/24 09:10:22 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/pre-start.sample\n  target: /opt/csghub/service/postgresql/pre-start\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/postgresql/pre-start \n   => 23e7dce649d1ff96e4b091278c0010d9\n2025/06/24 09:10:22 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/run.sample\n  target: /opt/csghub/service/postgresql/run\n2025/06/24 09:10:22 Config file changed: /opt/csghub/service/postgresql/run \n   => b8e2b0385c0f9fcbb1b4faf8eedb7c82\n2025/06/24 09:10:22 Rendered template for postgresql: \n  source: /opt/csghub/etc/postgresql/pg_hba.conf.sample\n  target: /var/opt/csghub/postgresql/data/pg_hba.conf\n2025/06/24 09:10:22 Rendered template for postgresql: \n  source: /opt/csghub/etc/postgresql/postgresql.conf.sample\n  target: /var/opt/csghub/postgresql/data/postgresql.conf\n2025/06/24 09:10:22 Restarting services postgresql\nwarning: postgresql: unable to open supervise/ok: file does not exist\n2025/06/24 09:10:22 Reconfiguration completed successfully for all services.\n\nInitialization information is in the /etc/csghub.\n\n\n\n\n",
      "`csghub-ctl status`确认下服务都正常运行吗\n",
      "果然不正常：\n![Image](https://github.com/user-attachments/assets/ebf8c8b8-4cdc-4fac-a51e-1576771a7b04)",
      "看下 server 的报错 csghub-ctl tail server\n",
      "csghub-ctl tail server\n2025/06/24 09:39:52 Tailing log for service server from /var/log/csghub/server/current...\n2025-06-24_09:39:52.78164  public\n2025-06-24_09:39:52.78164 (1 row)\n2025-06-24_09:39:52.78164 \n2025-06-24_09:39:52.78474 INSERT 0 19\n2025-06-24_09:39:52.78495 \n2025-06-24_09:39:52.78496 Successfully executed all SQL files!\n2025-06-24_09:39:52.79692 init logger, level: INFO, format: json\n2025-06-24_09:39:52.80052 {\"time\":\"2025-06-24T09:39:52.800509946Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\n2025-06-24_09:39:52.81737 mc: <ERROR> Unable to initialize new alias from the provided credentials. Get \"http://127.0.0.1:9000/probe-bsign-tkh21a4qyr4mu9whu5yhqbk25mii6k/?location=\": dial tcp 127.0.0.1:9000: connect: connection refused.\n2025-06-24_09:39:52.82435 init logger, level: INFO, format: json\n2025-06-24_09:39:53.82520 Notice: User 'csghub_server' already exists. (Skipping creation)\n2025-06-24_09:39:53.82819 Notice: Database 'csghub_server' already exists. (Skipping creation)\n2025-06-24_09:39:53.82819 Granting privileges...\n2025-06-24_09:39:53.83295 GRANT\n2025-06-24_09:39:53.83889 GRANT\n2025-06-24_09:39:53.83907 \n2025-06-24_09:39:53.83908 Successfully created!\n2025-06-24_09:39:53.83909 -------------------------------------\n2025-06-24_09:39:53.83909 Database: csghub_server\n2025-06-24_09:39:53.83909 Username: csghub_server\n2025-06-24_09:39:53.83909 Password: ******\n2025-06-24_09:39:53.83910 Connection: psql -h localhost -U csghub_server -d csghub_server\n2025-06-24_09:39:53.83910 -------------------------------------\n2025-06-24_09:39:53.84054 Warn: scripts directory not specified! Using default ./scripts\n2025-06-24_09:39:53.84055 Usage: /scripts/pg_executor [directory_path]\n2025-06-24_09:39:53.84163 Executing ./scripts/01_promote_superuser.sql\n2025-06-24_09:39:53.84423        Execute Timestamp       \n2025-06-24_09:39:53.84424 -------------------------------\n2025-06-24_09:39:53.84424  2025-06-24 17:39:53.844037+08\n2025-06-24_09:39:53.84424 (1 row)\n2025-06-24_09:39:53.84424 \n2025-06-24_09:39:53.84429 SET\n2025-06-24_09:39:53.84433 SET\n2025-06-24_09:39:53.84436 SET\n2025-06-24_09:39:53.84444 SET\n2025-06-24_09:39:53.84449 SET\n2025-06-24_09:39:53.84456 SET\n2025-06-24_09:39:53.84460 SET\n2025-06-24_09:39:53.84464 SET\n2025-06-24_09:39:53.84466 SET\n2025-06-24_09:39:53.84469 SET\n2025-06-24_09:39:53.84481  set_config \n2025-06-24_09:39:53.84481 ------------\n2025-06-24_09:39:53.84481  public\n2025-06-24_09:39:53.84481 (1 row)\n2025-06-24_09:39:53.84482 \n2025-06-24_09:39:53.84757 CREATE FUNCTION\n2025-06-24_09:39:53.85031 CREATE TRIGGER\n2025-06-24_09:39:53.85056 Executing ./scripts/02_seed_space_resources.sql\n2025-06-24_09:39:53.85330        Execute Timestamp       \n2025-06-24_09:39:53.85331 -------------------------------\n2025-06-24_09:39:53.85331  2025-06-24 17:39:53.853122+08\n2025-06-24_09:39:53.85331 (1 row)\n2025-06-24_09:39:53.85332 \n2025-06-24_09:39:53.85334 SET\n2025-06-24_09:39:53.85342 SET\n2025-06-24_09:39:53.85345 SET\n2025-06-24_09:39:53.85349 SET\n2025-06-24_09:39:53.85351 SET\n2025-06-24_09:39:53.85354 SET\n2025-06-24_09:39:53.85356 SET\n2025-06-24_09:39:53.85359 SET\n2025-06-24_09:39:53.85362 SET\n2025-06-24_09:39:53.85364 SET\n2025-06-24_09:39:53.85374  set_config \n2025-06-24_09:39:53.85375 ------------\n2025-06-24_09:39:53.85375  public\n2025-06-24_09:39:53.85375 (1 row)\n2025-06-24_09:39:53.85375 \n2025-06-24_09:39:53.85516 INSERT 0 2\n2025-06-24_09:39:53.85694  setval \n2025-06-24_09:39:53.85694 --------\n2025-06-24_09:39:53.85694       2\n2025-06-24_09:39:53.85694 (1 row)\n2025-06-24_09:39:53.85695 \n2025-06-24_09:39:53.85709 Executing ./scripts/03_seed_tag_categories.sql\n2025-06-24_09:39:53.85982        Execute Timestamp       \n2025-06-24_09:39:53.85983 -------------------------------\n2025-06-24_09:39:53.85984  2025-06-24 17:39:53.859653+08\n2025-06-24_09:39:53.85984 (1 row)\n2025-06-24_09:39:53.85984 \n2025-06-24_09:39:53.85987 SET\n2025-06-24_09:39:53.85993 SET\n2025-06-24_09:39:53.85995 SET\n2025-06-24_09:39:53.85998 SET\n2025-06-24_09:39:53.86001 SET\n2025-06-24_09:39:53.86003 SET\n2025-06-24_09:39:53.86005 SET\n2025-06-24_09:39:53.86007 SET\n2025-06-24_09:39:53.86010 SET\n2025-06-24_09:39:53.86012 SET\n2025-06-24_09:39:53.86020  set_config \n2025-06-24_09:39:53.86020 ------------\n2025-06-24_09:39:53.86021  public\n2025-06-24_09:39:53.86021 (1 row)\n2025-06-24_09:39:53.86021 \n2025-06-24_09:39:53.86172 INSERT 0 19\n2025-06-24_09:39:53.86189 \n2025-06-24_09:39:53.86189 Successfully executed all SQL files!\n2025-06-24_09:39:53.89072 init logger, level: INFO, format: json\n2025-06-24_09:39:53.89402 mc: <ERROR> Unable to initialize new alias from the provided credentials. Get \"http://127.0.0.1:9000/probe-bsign-azrdbc3txetvg4bjrjo0bvobik0r21/?location=\": dial tcp 127.0.0.1:9000: connect: connection refused.\n2025-06-24_09:39:53.90286 init logger, level: INFO, format: json\n2025-06-24_09:39:53.90567 {\"time\":\"2025-06-24T09:39:53.905666294Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\n2025-06-24_09:39:54.90175 Notice: User 'csghub_server' already exists. (Skipping creation)\n2025-06-24_09:39:54.90488 Notice: Database 'csghub_server' already exists. (Skipping creation)\n2025-06-24_09:39:54.90489 Granting privileges...\n2025-06-24_09:39:54.90816 GRANT\n2025-06-24_09:39:54.91218 GRANT\n2025-06-24_09:39:54.91230 \n2025-06-24_09:39:54.91230 Successfully created!\n2025-06-24_09:39:54.91230 -------------------------------------\n2025-06-24_09:39:54.91231 Database: csghub_server\n2025-06-24_09:39:54.91231 Username: csghub_server\n2025-06-24_09:39:54.91231 Password: ******\n2025-06-24_09:39:54.91232 Connection: psql -h localhost -U csghub_server -d csghub_server\n2025-06-24_09:39:54.91232 -------------------------------------\n2025-06-24_09:39:54.91380 Warn: scripts directory not specified! Using default ./scripts\n2025-06-24_09:39:54.91381 Usage: /scripts/pg_executor [directory_path]\n2025-06-24_09:39:54.91488 Executing ./scripts/01_promote_superuser.sql\n2025-06-24_09:39:54.91765        Execute Timestamp       \n2025-06-24_09:39:54.91766 -------------------------------\n2025-06-24_09:39:54.91766  2025-06-24 17:39:54.917453+08\n2025-06-24_09:39:54.91766 (1 row)\n2025-06-24_09:39:54.91766 \n2025-06-24_09:39:54.91769 SET\n2025-06-24_09:39:54.91773 SET\n2025-06-24_09:39:54.91775 SET\n2025-06-24_09:39:54.91778 SET\n2025-06-24_09:39:54.91780 SET\n2025-06-24_09:39:54.91783 SET\n2025-06-24_09:39:54.91785 SET\n2025-06-24_09:39:54.91788 SET\n2025-06-24_09:39:54.91790 SET\n2025-06-24_09:39:54.91792 SET\n2025-06-24_09:39:54.91800  set_config \n2025-06-24_09:39:54.91801 ------------\n2025-06-24_09:39:54.91801  public\n2025-06-24_09:39:54.91801 (1 row)\n2025-06-24_09:39:54.91801 \n2025-06-24_09:39:54.91972 CREATE FUNCTION\n2025-06-24_09:39:54.92147 CREATE TRIGGER\n2025-06-24_09:39:54.92168 Executing ./scripts/02_seed_space_resources.sql\n2025-06-24_09:39:54.92444        Execute Timestamp       \n2025-06-24_09:39:54.92445 -------------------------------\n2025-06-24_09:39:54.92445  2025-06-24 17:39:54.924263+08\n2025-06-24_09:39:54.92446 (1 row)\n2025-06-24_09:39:54.92446 \n2025-06-24_09:39:54.92449 SET\n2025-06-24_09:39:54.92452 SET\n2025-06-24_09:39:54.92455 SET\n2025-06-24_09:39:54.92458 SET\n2025-06-24_09:39:54.92460 SET\n2025-06-24_09:39:54.92463 SET\n2025-06-24_09:39:54.92469 SET\n2025-06-24_09:39:54.92477 SET\n\n",
      "csghub-ctl tail minio，因为对象存储没有启动导致了这个问题",
      "minio 一般起不来大多原因是目录权限问题，可以尝试下chown -R minio:minio /var/opt/csghub/minio",
      "按您的操作后，minio起来了。但是还有问题\n\n![Image](https://github.com/user-attachments/assets/1db4b152-6f09-4830-9f38-38d6cf0261d9)\nlog如下：\ncsghub-ctl tail server\n2025/06/24 09:55:59 Tailing log for service server from /var/log/csghub/server/current...\n2025-06-24_09:55:59.07138 Successfully executed all SQL files!\n2025-06-24_09:55:59.10250 Warn: Bucket 'csghub-server' already exists\n2025-06-24_09:55:59.10623 copy configuration files done.\n2025-06-24_09:55:59.10864 init logger, level: INFO, format: json\n2025-06-24_09:55:59.10889 init logger, level: INFO, format: json\n2025-06-24_09:55:59.11192 Starting server...\n2025-06-24_09:55:59.11206 {\"time\":\"2025-06-24T09:55:59.1120521Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\n2025-06-24_09:55:59.13454 init logger, level: INFO, format: json\n2025-06-24_09:55:59.13797 {\"time\":\"2025-06-24T09:55:59.13796675Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\n2025-06-24_09:55:59.14020 Error: fail to initialize message queue, nats: no servers available for connection\n2025-06-24_09:56:00.14782 Notice: User 'csghub_server' already exists. (Skipping creation)\n2025-06-24_09:56:00.15089 Notice: Database 'csghub_server' already exists. (Skipping creation)\n2025-06-24_09:56:00.15090 Granting privileges...\n2025-06-24_09:56:00.15496 GRANT\n2025-06-24_09:56:00.15917 GRANT\n2025-06-24_09:56:00.15934 \n2025-06-24_09:56:00.15934 Successfully created!\n2025-06-24_09:56:00.15935 -------------------------------------\n2025-06-24_09:56:00.15936 Database: csghub_server\n2025-06-24_09:56:00.15936 Username: csghub_server\n2025-06-24_09:56:00.15936 Password: ******\n2025-06-24_09:56:00.15936 Connection: psql -h localhost -U csghub_server -d csghub_server\n2025-06-24_09:56:00.15938 -------------------------------------\n2025-06-24_09:56:00.16074 Warn: scripts directory not specified! Using default ./scripts\n2025-06-24_09:56:00.16074 Usage: /scripts/pg_executor [directory_path]\n2025-06-24_09:56:00.16186 Executing ./scripts/01_promote_superuser.sql\n2025-06-24_09:56:00.16445        Execute Timestamp       \n2025-06-24_09:56:00.16446 -------------------------------\n2025-06-24_09:56:00.16446  2025-06-24 17:56:00.164255+08\n2025-06-24_09:56:00.16446 (1 row)\n2025-06-24_09:56:00.16447 \n2025-06-24_09:56:00.16450 SET\n2025-06-24_09:56:00.16451 SET\n2025-06-24_09:56:00.16452 SET\n2025-06-24_09:56:00.16454 SET\n2025-06-24_09:56:00.16456 SET\n2025-06-24_09:56:00.16458 SET\n2025-06-24_09:56:00.16459 SET\n2025-06-24_09:56:00.16461 SET\n2025-06-24_09:56:00.16462 SET\n2025-06-24_09:56:00.16463 SET\n2025-06-24_09:56:00.16470  set_config \n2025-06-24_09:56:00.16470 ------------\n2025-06-24_09:56:00.16470  public\n2025-06-24_09:56:00.16470 (1 row)\n2025-06-24_09:56:00.16470 \n2025-06-24_09:56:00.16664 CREATE FUNCTION\n2025-06-24_09:56:00.16786 CREATE TRIGGER\n2025-06-24_09:56:00.16815 Executing ./scripts/02_seed_space_resources.sql\n2025-06-24_09:56:00.17121        Execute Timestamp       \n2025-06-24_09:56:00.17122 -------------------------------\n2025-06-24_09:56:00.17123  2025-06-24 17:56:00.170993+08\n2025-06-24_09:56:00.17123 (1 row)\n2025-06-24_09:56:00.17123 \n2025-06-24_09:56:00.17125 SET\n2025-06-24_09:56:00.17129 SET\n2025-06-24_09:56:00.17137 SET\n2025-06-24_09:56:00.17143 SET\n2025-06-24_09:56:00.17145 SET\n2025-06-24_09:56:00.17147 SET\n2025-06-24_09:56:00.17148 SET\n2025-06-24_09:56:00.17150 SET\n2025-06-24_09:56:00.17151 SET\n2025-06-24_09:56:00.17152 SET\n2025-06-24_09:56:00.17160  set_config \n2025-06-24_09:56:00.17160 ------------\n2025-06-24_09:56:00.17160  public\n2025-06-24_09:56:00.17160 (1 row)\n2025-06-24_09:56:00.17160 \n2025-06-24_09:56:00.17338 INSERT 0 2\n2025-06-24_09:56:00.17461  setval \n2025-06-24_09:56:00.17461 --------\n2025-06-24_09:56:00.17461       2\n2025-06-24_09:56:00.17461 (1 row)\n2025-06-24_09:56:00.17462 \n2025-06-24_09:56:00.17477 Executing ./scripts/03_seed_tag_categories.sql\n2025-06-24_09:56:00.17696        Execute Timestamp       \n2025-06-24_09:56:00.17697 -------------------------------\n2025-06-24_09:56:00.17697  2025-06-24 17:56:00.176857+08\n2025-06-24_09:56:00.17697 (1 row)\n2025-06-24_09:56:00.17697 \n2025-06-24_09:56:00.17699 SET\n2025-06-24_09:56:00.17700 SET\n2025-06-24_09:56:00.17702 SET\n2025-06-24_09:56:00.17703 SET\n2025-06-24_09:56:00.17704 SET\n2025-06-24_09:56:00.17706 SET\n2025-06-24_09:56:00.17707 SET\n2025-06-24_09:56:00.17708 SET\n2025-06-24_09:56:00.17709 SET\n2025-06-24_09:56:00.17710 SET\n2025-06-24_09:56:00.17715  set_config \n2025-06-24_09:56:00.17715 ------------\n2025-06-24_09:56:00.17715  public\n2025-06-24_09:56:00.17715 (1 row)\n2025-06-24_09:56:00.17716 \n2025-06-24_09:56:00.17890 INSERT 0 19\n2025-06-24_09:56:00.17904 \n2025-06-24_09:56:00.17904 Successfully executed all SQL files!\n2025-06-24_09:56:00.20992 Warn: Bucket 'csghub-server' already exists\n2025-06-24_09:56:00.21340 copy configuration files done.\n2025-06-24_09:56:00.21890 Starting server...\n2025-06-24_09:56:00.22408 init logger, level: INFO, format: json\n2025-06-24_09:56:00.22444 init logger, level: INFO, format: json\n2025-06-24_09:56:00.22778 {\"time\":\"2025-06-24T09:56:00.227765565Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\n2025-06-24_09:56:00.23860 init logger, level: INFO, format: json\n2025-06-24_09:56:00.24130 {\"time\":\"2025-06-24T09:56:00.241283591Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\n2025-06-24_09:56:00.24373 Error: fail to initialize message queue, nats: no servers available for connection\n",
      "csghub-ctl tail nats",
      "csghub-ctl tail nats\n2025/06/24 10:03:03 Tailing log for service nats from /var/log/csghub/nats/current...\n2025-06-24_10:03:02.94079 [808649] 2025/06/24 10:03:02.940706 [INF] Starting nats-server\n2025-06-24_10:03:02.94080 [808649] 2025/06/24 10:03:02.940780 [INF]   Version:  2.10.16\n2025-06-24_10:03:02.94080 [808649] 2025/06/24 10:03:02.940782 [INF]   Git:      [80e29794]\n2025-06-24_10:03:02.94080 [808649] 2025/06/24 10:03:02.940786 [INF]   Name:     NBSIAISWTIQZ6SDJ3K4VYNC7ZHL3ALRWNOLY62A6SFAIMFIVG5W5LHG4\n2025-06-24_10:03:02.94081 [808649] 2025/06/24 10:03:02.940790 [INF]   Node:     9OBRNLLj\n2025-06-24_10:03:02.94081 [808649] 2025/06/24 10:03:02.940791 [INF]   ID:       NBSIAISWTIQZ6SDJ3K4VYNC7ZHL3ALRWNOLY62A6SFAIMFIVG5W5LHG4\n2025-06-24_10:03:02.94082 [808649] 2025/06/24 10:03:02.940821 [INF] Using configuration file: /var/opt/csghub/nats/nats.conf\n2025-06-24_10:03:02.94121 [808649] 2025/06/24 10:03:02.941201 [INF] Starting http monitor on 0.0.0.0:8222\n2025-06-24_10:03:02.94125 [808649] 2025/06/24 10:03:02.941248 [INF] Starting JetStream\n2025-06-24_10:03:02.94127 [808649] 2025/06/24 10:03:02.941267 [FTL] Can't start JetStream: storage directory is not a directory\n2025-06-24_10:03:03.94638 [808962] 2025/06/24 10:03:03.946296 [INF] Starting nats-server\n2025-06-24_10:03:03.94640 [808962] 2025/06/24 10:03:03.946371 [INF]   Version:  2.10.16\n2025-06-24_10:03:03.94640 [808962] 2025/06/24 10:03:03.946373 [INF]   Git:      [80e29794]\n2025-06-24_10:03:03.94640 [808962] 2025/06/24 10:03:03.946377 [INF]   Name:     NBTQMIMPTRG342GIAQXNKEASRJ5UQV6BUGZZN3QP5D7DTGLNRLFGDGEI\n2025-06-24_10:03:03.94641 [808962] 2025/06/24 10:03:03.946383 [INF]   Node:     9fgP4zU0\n2025-06-24_10:03:03.94641 [808962] 2025/06/24 10:03:03.946384 [INF]   ID:       NBTQMIMPTRG342GIAQXNKEASRJ5UQV6BUGZZN3QP5D7DTGLNRLFGDGEI\n2025-06-24_10:03:03.94641 [808962] 2025/06/24 10:03:03.946412 [INF] Using configuration file: /var/opt/csghub/nats/nats.conf\n2025-06-24_10:03:03.94678 [808962] 2025/06/24 10:03:03.946771 [INF] Starting http monitor on 0.0.0.0:8222\n2025-06-24_10:03:03.94681 [808962] 2025/06/24 10:03:03.946808 [INF] Starting JetStream\n2025-06-24_10:03:03.94683 [808962] 2025/06/24 10:03:03.946827 [FTL] Can't start JetStream: storage directory is not a directory\n2025-06-24_10:03:04.95079 [809199] 2025/06/24 10:03:04.950706 [INF] Starting nats-server\n2025-06-24_10:03:04.95081 [809199] 2025/06/24 10:03:04.950787 [INF]   Version:  2.10.16\n2025-06-24_10:03:04.95081 [809199] 2025/06/24 10:03:04.950789 [INF]   Git:      [80e29794]\n2025-06-24_10:03:04.95082 [809199] 2025/06/24 10:03:04.950793 [INF]   Name:     NBSE46GPNC4TBXKNB7SXOREK56GTPP5M2JLWKDRV7FNZBINIM2FYMIWL\n2025-06-24_10:03:04.95082 [809199] 2025/06/24 10:03:04.950797 [INF]   Node:     ntG4ZUM6\n2025-06-24_10:03:04.95083 [809199] 2025/06/24 10:03:04.950798 [INF]   ID:       NBSE46GPNC4TBXKNB7SXOREK56GTPP5M2JLWKDRV7FNZBINIM2FYMIWL\n2025-06-24_10:03:04.95083 [809199] 2025/06/24 10:03:04.950830 [INF] Using configuration file: /var/opt/csghub/nats/nats.conf\n2025-06-24_10:03:04.95130 [809199] 2025/06/24 10:03:04.951286 [INF] Starting http monitor on 0.0.0.0:8222\n",
      "`Can't start JetStream: storage directory is not a directory` 看下/var/opt/csghub/nats/data/下面的目录结构怎么回事",
      "![Image](https://github.com/user-attachments/assets/e712ccde-9e87-4ade-8597-92ea086e3ca7)",
      "把 jetstream 目录删掉",
      "![Image](https://github.com/user-attachments/assets/367f1979-2fb4-4bda-960f-437dbadd958d)删了， nats还是报错。",
      "执行下 csghub-ctl reconfigure 试下，你这是啥问题？目录权限不对了？这里确实缺少一些控制权限的命令",
      "csghub-ctl reconfigure\n2025/06/24 11:22:05 Reconfiguring service: mirror_lfs\n2025/06/24 11:22:05 Reconfiguring service: dataviewer\n2025/06/24 11:22:05 Reconfiguring service: registry\n2025/06/24 11:22:05 Reconfiguring service: gitaly\n2025/06/24 11:22:05 Reconfiguring service: nats\n2025/06/24 11:22:05 Reconfiguring service: casdoor\n2025/06/24 11:22:05 Reconfiguring service: gitlab_shell\n2025/06/24 11:22:05 Reconfiguring service: notification\n2025/06/24 11:22:05 Reconfiguring service: minio\n2025/06/24 11:22:05 Reconfiguring service: accounting\n2025/06/24 11:22:05 Reconfiguring service: mirror_repo\n2025/06/24 11:22:05 Reconfiguring service: dnsmasq\n2025/06/24 11:22:05 Reconfiguring service: portal\n2025/06/24 11:22:05 Reconfiguring service: nginx\n2025/06/24 11:22:05 Reconfiguring service: server\n2025/06/24 11:22:05 Reconfiguring service: temporal\n2025/06/24 11:22:05 Reconfiguring service: postgresql\n2025/06/24 11:22:05 Reconfiguring service: rproxy\n2025/06/24 11:22:05 Reconfiguring service: user\n2025/06/24 11:22:05 Reconfiguring service: redis\n2025/06/24 11:22:05 Rendered template for mirror_lfs: \n  source: /opt/csghub/embedded/sv/mirror_lfs/templates/control/t.sample\n  target: /opt/csghub/service/mirror_lfs/control/t\n2025/06/24 11:22:05 Rendered template for portal: \n  source: /opt/csghub/embedded/sv/portal/templates/log/run.sample\n  target: /opt/csghub/service/portal/log/run\n2025/06/24 11:22:05 Rendered template for mirror_repo: \n  source: /opt/csghub/embedded/sv/mirror_repo/templates/control/t.sample\n  target: /opt/csghub/service/mirror_repo/control/t\n2025/06/24 11:22:05 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/control/h.sample\n  target: /opt/csghub/service/nginx/control/h\n2025/06/24 11:22:05 Rendered template for notification: \n  source: /opt/csghub/embedded/sv/notification/templates/log/run.sample\n  target: /opt/csghub/service/notification/log/run\n2025/06/24 11:22:05 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/control/t.sample\n  target: /opt/csghub/service/server/control/t\n2025/06/24 11:22:05 Rendered template for nats: \n  source: /opt/csghub/embedded/sv/nats/templates/log/run.sample\n  target: /opt/csghub/service/nats/log/run\n2025/06/24 11:22:05 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/create_bucket.sample\n  target: /opt/csghub/service/minio/create_bucket\n2025/06/24 11:22:05 Rendered template for user: \n  source: /opt/csghub/embedded/sv/user/templates/log/run.sample\n  target: /opt/csghub/service/user/log/run\n2025/06/24 11:22:05 Rendered template for gitlab_shell: \n  source: /opt/csghub/embedded/sv/gitlab_shell/templates/log/run.sample\n  target: /opt/csghub/service/gitlab_shell/log/run\n2025/06/24 11:22:05 Rendered template for dataviewer: \n  source: /opt/csghub/embedded/sv/dataviewer/templates/log/run.sample\n  target: /opt/csghub/service/dataviewer/log/run\n2025/06/24 11:22:05 Rendered template for registry: \n  source: /opt/csghub/embedded/sv/registry/templates/log/run.sample\n  target: /opt/csghub/service/registry/log/run\n2025/06/24 11:22:05 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/control/t.sample\n  target: /opt/csghub/service/temporal/control/t\n2025/06/24 11:22:05 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/log/run.sample\n  target: /opt/csghub/service/casdoor/log/run\n2025/06/24 11:22:05 Rendered template for accounting: \n  source: /opt/csghub/embedded/sv/accounting/templates/log/run.sample\n  target: /opt/csghub/service/accounting/log/run\n2025/06/24 11:22:05 Rendered template for rproxy: \n  source: /opt/csghub/embedded/sv/rproxy/templates/log/run.sample\n  target: /opt/csghub/service/rproxy/log/run\n2025/06/24 11:22:05 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/control/h.sample\n  target: /opt/csghub/service/postgresql/control/h\n2025/06/24 11:22:05 Rendered template for dnsmasq: \n  source: /opt/csghub/embedded/sv/dnsmasq/templates/log/run.sample\n  target: /opt/csghub/service/dnsmasq/log/run\n2025/06/24 11:22:05 Rendered template for redis: \n  source: /opt/csghub/embedded/sv/redis/templates/log/run.sample\n  target: /opt/csghub/service/redis/log/run\n2025/06/24 11:22:05 Rendered template for nats: \n  source: /opt/csghub/embedded/sv/nats/templates/run.sample\n  target: /opt/csghub/service/nats/run\n2025/06/24 11:22:05 Rendered template for mirror_lfs: \n  source: /opt/csghub/embedded/sv/mirror_lfs/templates/log/run.sample\n  target: /opt/csghub/service/mirror_lfs/log/run\n2025/06/24 11:22:05 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/log/run.sample\n  target: /opt/csghub/service/nginx/log/run\n2025/06/24 11:22:05 Rendered template for mirror_repo: \n  source: /opt/csghub/embedded/sv/mirror_repo/templates/log/run.sample\n  target: /opt/csghub/service/mirror_repo/log/run\n2025/06/24 11:22:05 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/log/run.sample\n  target: /opt/csghub/service/temporal/log/run\n2025/06/24 11:22:05 Rendered template for notification: \n  source: /opt/csghub/embedded/sv/notification/templates/run.sample\n  target: /opt/csghub/service/notification/run\n2025/06/24 11:22:05 Skip restarting service notification, configuration not changed.\n2025/06/24 11:22:05 Rendered template for accounting: \n  source: /opt/csghub/embedded/sv/accounting/templates/run.sample\n  target: /opt/csghub/service/accounting/run\n2025/06/24 11:22:05 Rendered template for user: \n  source: /opt/csghub/embedded/sv/user/templates/run.sample\n  target: /opt/csghub/service/user/run\n2025/06/24 11:22:05 Skip restarting service accounting, configuration not changed.\n2025/06/24 11:22:05 Skip restarting service user, configuration not changed.\n2025/06/24 11:22:05 Rendered template for dataviewer: \n  source: /opt/csghub/embedded/sv/dataviewer/templates/run.sample\n  target: /opt/csghub/service/dataviewer/run\n2025/06/24 11:22:05 Skip restarting service dataviewer, configuration not changed.\n2025/06/24 11:22:05 Rendered template for gitlab_shell: \n  source: /opt/csghub/embedded/sv/gitlab_shell/templates/run.sample\n  target: /opt/csghub/service/gitlab_shell/run\n2025/06/24 11:22:05 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/log/run.sample\n  target: /opt/csghub/service/minio/log/run\n2025/06/24 11:22:05 Rendered template for rproxy: \n  source: /opt/csghub/embedded/sv/rproxy/templates/run.sample\n  target: /opt/csghub/service/rproxy/run\n2025/06/24 11:22:05 Skip restarting service rproxy, configuration not changed.\n2025/06/24 11:22:05 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/control/t.sample\n  target: /opt/csghub/service/postgresql/control/t\n2025/06/24 11:22:05 Rendered template for dnsmasq: \n  source: /opt/csghub/embedded/sv/dnsmasq/templates/pre-start.sample\n  target: /opt/csghub/service/dnsmasq/pre-start\n2025/06/24 11:22:05 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/log/run.sample\n  target: /opt/csghub/service/server/log/run\n2025/06/24 11:22:05 Rendered template for gitaly: \n  source: /opt/csghub/embedded/sv/gitaly/templates/log/run.sample\n  target: /opt/csghub/service/gitaly/log/run\n2025/06/24 11:22:05 Rendered template for portal: \n  source: /opt/csghub/embedded/sv/portal/templates/pre-start.sample\n  target: /opt/csghub/service/portal/pre-start\n2025/06/24 11:22:05 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/pre-start.sample\n  target: /opt/csghub/service/casdoor/pre-start\n2025/06/24 11:22:05 Rendered template for redis: \n  source: /opt/csghub/embedded/sv/redis/templates/pre-start.sample\n  target: /opt/csghub/service/redis/pre-start\n2025/06/24 11:22:05 Rendered template for mirror_lfs: \n  source: /opt/csghub/embedded/sv/mirror_lfs/templates/run.sample\n  target: /opt/csghub/service/mirror_lfs/run\n2025/06/24 11:22:05 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/pre-start.sample\n  target: /opt/csghub/service/nginx/pre-start\n2025/06/24 11:22:05 Skip restarting service mirror_lfs, configuration not changed.\n2025/06/24 11:22:05 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/create_database.sample\n  target: /opt/csghub/service/postgresql/create_database\n2025/06/24 11:22:05 Rendered template for dnsmasq: \n  source: /opt/csghub/embedded/sv/dnsmasq/templates/run.sample\n  target: /opt/csghub/service/dnsmasq/run\n2025/06/24 11:22:05 Rendered template for mirror_repo: \n  source: /opt/csghub/embedded/sv/mirror_repo/templates/run.sample\n  target: /opt/csghub/service/mirror_repo/run\n2025/06/24 11:22:05 Skip restarting service dnsmasq, configuration not changed.\n2025/06/24 11:22:05 Skip restarting service mirror_repo, configuration not changed.\n2025/06/24 11:22:05 Rendered template for portal: \n  source: /opt/csghub/embedded/sv/portal/templates/run.sample\n  target: /opt/csghub/service/portal/run\n2025/06/24 11:22:05 Skip restarting service portal, configuration not changed.\n2025/06/24 11:22:05 Rendered template for gitlab_shell: \n  source: /opt/csghub/etc/gitlab_shell/config.yml.sample\n  target: /var/opt/csghub/gitlab_shell/config.yml\n2025/06/24 11:22:05 Skip restarting service gitlab_shell, configuration not changed.\n2025/06/24 11:22:05 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/pre-start.sample\n  target: /opt/csghub/service/temporal/pre-start\n2025/06/24 11:22:05 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/run.sample\n  target: /opt/csghub/service/casdoor/run\n2025/06/24 11:22:05 Rendered template for gitaly: \n  source: /opt/csghub/embedded/sv/gitaly/templates/pre-start.sample\n  target: /opt/csghub/service/gitaly/pre-start\n2025/06/24 11:22:05 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/pre-start.sample\n  target: /opt/csghub/service/minio/pre-start\n2025/06/24 11:22:05 Rendered template for redis: \n  source: /opt/csghub/embedded/sv/redis/templates/run.sample\n  target: /opt/csghub/service/redis/run\n2025/06/24 11:22:05 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/pre-start.sample\n  target: /opt/csghub/service/server/pre-start\n2025/06/24 11:22:05 Rendered template for nginx: \n  source: /opt/csghub/embedded/sv/nginx/templates/run.sample\n  target: /opt/csghub/service/nginx/run\n2025/06/24 11:22:05 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/finish.sample\n  target: /opt/csghub/service/postgresql/finish\n2025/06/24 11:22:05 Rendered template for temporal: \n  source: /opt/csghub/embedded/sv/temporal/templates/run.sample\n  target: /opt/csghub/service/temporal/run\n2025/06/24 11:22:05 Rendered template for minio: \n  source: /opt/csghub/embedded/sv/minio/templates/run.sample\n  target: /opt/csghub/service/minio/run\n2025/06/24 11:22:05 Skip restarting service minio, configuration not changed.\n2025/06/24 11:22:05 Rendered template for gitaly: \n  source: /opt/csghub/embedded/sv/gitaly/templates/run.sample\n  target: /opt/csghub/service/gitaly/run\n2025/06/24 11:22:05 Rendered template for redis: \n  source: /opt/csghub/etc/redis/redis.conf.sample\n  target: /var/opt/csghub/redis/redis.conf\n2025/06/24 11:22:05 Skip restarting service redis, configuration not changed.\n2025/06/24 11:22:05 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/run.sample\n  target: /opt/csghub/service/server/run\n2025/06/24 11:22:05 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/log/run.sample\n  target: /opt/csghub/service/postgresql/log/run\n2025/06/24 11:22:05 Rendered template for registry: \n  source: /opt/csghub/embedded/sv/registry/templates/pre-start.sample\n  target: /opt/csghub/service/registry/pre-start\n2025/06/24 11:22:05 Rendered template for temporal: \n  source: /opt/csghub/etc/temporal/docker.yaml.sample\n  target: /var/opt/csghub/temporal/docker.yaml\n2025/06/24 11:22:05 Rendered template for nginx: \n  source: /opt/csghub/etc/nginx/nginx.conf.sample\n  target: /var/opt/csghub/nginx/nginx.conf\n2025/06/24 11:22:05 Skip restarting service nginx, configuration not changed.\n2025/06/24 11:22:05 Skip restarting service temporal, configuration not changed.\n2025/06/24 11:22:05 Rendered template for gitaly: \n  source: /opt/csghub/etc/gitaly/config.toml.sample\n  target: /var/opt/csghub/gitaly/config.toml\n2025/06/24 11:22:05 Skip restarting service gitaly, configuration not changed.\n2025/06/24 11:22:05 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/scripts/01_promote_superuser.sql.sample\n  target: /opt/csghub/service/server/scripts/01_promote_superuser.sql\n2025/06/24 11:22:05 Rendered template for nats: \n  source: /opt/csghub/etc/nats/nats.conf.sample\n  target: /var/opt/csghub/nats/nats.conf\n2025/06/24 11:22:05 Config file changed: /var/opt/csghub/nats/nats.conf \n  0f41a4fb4d2b79b7568ce42eab721238 => 33cb7ec0173abd2def5960b066ffb091\n2025/06/24 11:22:05 Rendered template for registry: \n  source: /opt/csghub/embedded/sv/registry/templates/run.sample\n  target: /opt/csghub/service/registry/run\n2025/06/24 11:22:05 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/pre-start.sample\n  target: /opt/csghub/service/postgresql/pre-start\n2025/06/24 11:22:05 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/scripts/02_seed_space_resources.sql.sample\n  target: /opt/csghub/service/server/scripts/02_seed_space_resources.sql\n2025/06/24 11:22:05 Rendered template for postgresql: \n  source: /opt/csghub/embedded/sv/postgresql/templates/run.sample\n  target: /opt/csghub/service/postgresql/run\n2025/06/24 11:22:05 Rendered template for registry: \n  source: /opt/csghub/etc/registry/config.yml.sample\n  target: /var/opt/csghub/registry/config.yml\n2025/06/24 11:22:05 Rendered template for casdoor: \n  source: /opt/csghub/embedded/sv/casdoor/templates/scripts/update_casdoor.sql.sample\n  target: /opt/csghub/service/casdoor/scripts/update_casdoor.sql\n2025/06/24 11:22:05 Config file changed: /opt/csghub/service/casdoor/scripts/update_casdoor.sql \n  a9306256b229619c8878698373335309 => 981790d6031b7a11790caf63b273e0dc\n2025/06/24 11:22:05 Skip restarting service registry, configuration not changed.\n2025/06/24 11:22:05 Rendered template for server: \n  source: /opt/csghub/embedded/sv/server/templates/scripts/03_seed_tag_categories.sql.sample\n  target: /opt/csghub/service/server/scripts/03_seed_tag_categories.sql\n2025/06/24 11:22:05 Rendered template for postgresql: \n  source: /opt/csghub/etc/postgresql/pg_hba.conf.sample\n  target: /var/opt/csghub/postgresql/data/pg_hba.conf\n2025/06/24 11:22:05 Rendered template for casdoor: \n  source: /opt/csghub/etc/casdoor/app.conf.sample\n  target: /var/opt/csghub/casdoor/app.conf\n2025/06/24 11:22:05 Config file changed: /var/opt/csghub/casdoor/app.conf \n   => bf971444ed0cbcaf096185e62bfffa53\n2025/06/24 11:22:05 Rendered template for server: \n  source: /opt/csghub/etc/server/config.toml.sample\n  target: /var/opt/csghub/server/config.toml\n2025/06/24 11:22:05 Rendered template for postgresql: \n  source: /opt/csghub/etc/postgresql/postgresql.conf.sample\n  target: /var/opt/csghub/postgresql/data/postgresql.conf\n2025/06/24 11:22:05 Skip restarting service postgresql, configuration not changed.\n2025/06/24 11:22:05 Skip restarting service server, configuration not changed.\n2025/06/24 11:22:05 Rendered template for casdoor: \n  source: /opt/csghub/etc/casdoor/init_data.json.sample\n  target: /var/opt/csghub/casdoor/init_data.json\n2025/06/24 11:22:05 Config file changed: /var/opt/csghub/casdoor/init_data.json \n  16aa14ebbb539ad2aa87ad630bc130f4 => cb0cfb34cc9bc309a5c2d48d5f302431\n2025/06/24 11:22:05 Restarting services casdoor\nok: run: casdoor: (pid 2072813) 0s\n2025/06/24 11:22:05 Reconfiguration completed successfully for all services.\nroot@csghub:/var/opt/csghub/nats/data# csghub-ctl status\ndown: accounting: 0s, normally up, want up; run: log: (pid 1739) 7928s\ndown: casdoor: 0s, normally up, want up; run: log: (pid 1731) 7928s\nrun: dataviewer: (pid 3641) 7923s; run: log: (pid 1735) 7928s\nrun: dnsmasq: (pid 1767) 7928s; run: log: (pid 1762) 7928s\ndown: gitaly: 0s, normally up, want up; run: log: (pid 1744) 7928s\nrun: gitlab_shell: (pid 1746) 7928s; run: log: (pid 1733) 7928s\nrun: minio: (pid 640976) 5392s; run: log: (pid 1737) 7928s\nrun: mirror_lfs: (pid 3153) 7924s; run: log: (pid 1765) 7928s\nrun: mirror_repo: (pid 3667) 7923s; run: log: (pid 1742) 7928s\ndown: nats: 0s, normally up, want up; run: log: (pid 1763) 7928s\nrun: nginx: (pid 1764) 7928s; run: log: (pid 1761) 7928s\ndown: notification: 0s, normally up, want up; run: log: (pid 1734) 7928s\nrun: portal: (pid 2937) 7924s; run: log: (pid 1738) 7928s\nrun: postgresql: (pid 1758) 7928s; run: log: (pid 1747) 7928s\nrun: redis: (pid 1751) 7928s; run: log: (pid 1741) 7928s\nrun: registry: (pid 1752) 7928s; run: log: (pid 1736) 7928s\nrun: rproxy: (pid 3150) 7924s; run: log: (pid 1766) 7928s\ndown: server: 0s, normally up, want up; run: log: (pid 1740) 7928s\nrun: temporal: (pid 3323) 7924s; run: log: (pid 1749) 7928s\nrun: user: (pid 3642) 7923s; run: log: (pid 1730) 7928s\nroot@csghub:/var/opt/csghub/nats/data# \n",
      "那你就删除整个 nats 目录，然后 reconfigure 试一下，如果还不行就 chown -R nats:nats /var/opt/csghub/nats",
      "nats可以了，还有两个没run起来",
      "csghub-ctl status\nrun: accounting: (pid 2469782) 49s; run: log: (pid 1739) 9449s\nrun: casdoor: (pid 2475952) 0s; run: log: (pid 1731) 9449s\nrun: dataviewer: (pid 3641) 9444s; run: log: (pid 1735) 9449s\nrun: dnsmasq: (pid 1767) 9449s; run: log: (pid 1762) 9449s\ndown: gitaly: 0s, normally up, want up; run: log: (pid 1744) 9449s\nrun: gitlab_shell: (pid 1746) 9449s; run: log: (pid 1733) 9449s\nrun: minio: (pid 640976) 6913s; run: log: (pid 1737) 9449s\nrun: mirror_lfs: (pid 3153) 9445s; run: log: (pid 1765) 9449s\nrun: mirror_repo: (pid 3667) 9444s; run: log: (pid 1742) 9449s\nrun: nats: (pid 2475425) 6s; run: log: (pid 1763) 9449s\nrun: nginx: (pid 1764) 9449s; run: log: (pid 1761) 9449s\ndown: notification: 1s, normally up, want up; run: log: (pid 1734) 9449s\nrun: portal: (pid 2937) 9445s; run: log: (pid 1738) 9449s\nrun: postgresql: (pid 1758) 9449s; run: log: (pid 1747) 9449s\nrun: redis: (pid 1751) 9449s; run: log: (pid 1741) 9449s\nrun: registry: (pid 1752) 9449s; run: log: (pid 1736) 9449s\nrun: rproxy: (pid 3150) 9445s; run: log: (pid 1766) 9449s\nrun: server: (pid 2469812) 49s; run: log: (pid 1740) 9449s\nrun: temporal: (pid 3323) 9445s; run: log: (pid 1749) 9449s\nrun: user: (pid 3642) 9444s; run: log: (pid 1730) 9449s\nroot@csghub:/var/opt/csghub# csghub-ctl tail gitaly/\n2025/06/24 11:49:02 Tailing log for service gitaly/ from /var/log/csghub/gitaly/current...\n2025-06-24_11:48:58.54875 time=\"2025-06-24T11:48:58.548Z\" level=error msg=\"find process\" error=\"open /var/opt/csghub/gitaly/gitaly.pid: permission denied\" pid=2482461 wrapper=2482461\n2025-06-24_11:48:59.55623 time=\"2025-06-24T11:48:59.556Z\" level=info msg=\"Wrapper started\" pid=2482585 wrapper=2482585\n2025-06-24_11:48:59.55624 time=\"2025-06-24T11:48:59.556Z\" level=info msg=\"finding process\" pid=2482585 pid_file=/var/opt/csghub/gitaly/gitaly.pid wrapper=2482585\n2025-06-24_11:48:59.55624 time=\"2025-06-24T11:48:59.556Z\" level=error msg=\"find process\" error=\"open /var/opt/csghub/gitaly/gitaly.pid: permission denied\" pid=2482585 wrapper=2482585\n2025-06-24_11:49:00.56377 time=\"2025-06-24T11:49:00.563Z\" level=info msg=\"Wrapper started\" pid=2482713 wrapper=2482713\n2025-06-24_11:49:00.56378 time=\"2025-06-24T11:49:00.563Z\" level=info msg=\"finding process\" pid=2482713 pid_file=/var/opt/csghub/gitaly/gitaly.pid wrapper=2482713\n2025-06-24_11:49:00.56378 time=\"2025-06-24T11:49:00.563Z\" level=error msg=\"find process\" error=\"open /var/opt/csghub/gitaly/gitaly.pid: permission denied\" pid=2482713 wrapper=2482713\n\n",
      " csghub-ctl tail notification:\n2025/06/24 11:52:12 Tailing log for service notification: from /var/log/csghub/notification:/current...\ntail: cannot open '/var/log/csghub/notification:/current' for reading: No such file or directory\ntail: no files remaining\n2025/06/24 11:52:12 failed to tail log for service notification:: exit status 1\nroot@csghub:/var/opt/csghub# csghub-ctl tail notification \n2025/06/24 11:52:14 Tailing log for service notification from /var/log/csghub/notification/current...\n2025-06-24_11:52:11.51716 Run 'csghub-server --help' for usage.\n2025-06-24_11:52:12.51978 Starting server...\n2025-06-24_11:52:12.53917 Error: unknown command \"notification\" for \"csghub-server\"\n2025-06-24_11:52:12.53918 Run 'csghub-server --help' for usage.\n2025-06-24_11:52:13.54163 Starting server...\n2025-06-24_11:52:13.56099 Error: unknown command \"notification\" for \"csghub-server\"\n2025-06-24_11:52:13.56101 Run 'csghub-server --help' for usage.\n2025-06-24_11:52:14.56356 Starting server...\n2025-06-24_11:52:14.58327 Error: unknown command \"notification\" for \"csghub-server\"\n2025-06-24_11:52:14.58328 Run 'csghub-server --help' for usage.\n",
      "![Image](https://github.com/user-attachments/assets/630da137-881a-4f5a-ace2-73ce57d4776e) \nnotification 服务在 v1.8.0-ce 版本临时禁用掉，此服务有些问题需要下一个版本做修复。",
      "我专门创建了一台 linux 虚拟机来测试这个问题，运行时发现，如果通过`docker compose down && docker compose up -d`方式重启容器确实存在部分服务数据目录权限发生变化的情况，此问题会在下一个版本进行修复。可以临时通过以下 fix.sh 脚本进行修复：\n```shell\n#!/bin/bash\n# Service Directory Ownership Fixer\n# Simplifies bulk ownership changes without modifying permissions\n\n# Array of service configurations: \"directory:user:group\"\nSERVICES=(\n    \"/var/opt/csghub/casdoor:casdoor:casdoor\"\n    \"/var/opt/csghub/minio:minio:minio\"\n    \"/var/opt/csghub/nats:nats:nats\"\n    \"/var/opt/csghub/gitaly:git:git\"\n    \"/var/opt/csghub/gitlab_shell:git:git\"\n    \"/var/opt/csghub/postgresql:postgres:postgres\"\n    \"/var/opt/csghub/redis:redis:redis\"\n    \"/var/opt/csghub/registry:registry:registry\"\n)\n\nchanged=0\nskipped=0\n\necho \"Starting ownership update...\"\nfor config in \"${SERVICES[@]}\"; do\n    IFS=':' read -r dir user group <<< \"$config\"\n    \n    if [[ -d \"$dir\" ]]; then\n        if chown -R \"${user}:${group}\" \"$dir\"; then\n            echo \"✓ Set ${user}:${group} for $dir\"\n            ((changed++))\n        else\n            echo \"✗ Failed to update $dir\" >&2\n            ((skipped++))\n        fi\n    else\n        echo \"➤ Directory $dir not found (skipping)\"\n        ((skipped++))\n    fi\ndone\n\necho \"Summary:\"\necho \"Successfully updated: $changed directories\"\necho \"Skipped:             $skipped directories\"\nexit 0\n```",
      "按您最新指导操作了。都run起来了，但是web登录不了帐号\n![Image](https://github.com/user-attachments/assets/1a4c5da7-04f4-481c-94b2-fd0f3a075dbf)\n\n![Image](https://github.com/user-attachments/assets/20719176-0fa5-4b90-91c4-c35d32ecdee5)\n\n![Image](https://github.com/user-attachments/assets/d648900b-c5b4-4abe-b5e2-029d4d0ae9d3)\n\n![Image](https://github.com/user-attachments/assets/f5e95452-d9a6-4003-b0af-a9247273fba0)\n",
      "把你最新的 docker-compose.yaml 文件贴一下",
      "通常此问题是因为 external_url 和 callback 地址不匹配造成的，同时贴一下 csghub-ctl tail casdoor的日志，看下服务正常吗\n",
      "![Image](https://github.com/user-attachments/assets/7509ef4d-dc82-44db-aa7e-c4718b642e11)\n之前参考您上面external_url: \"http://csghub.example.cn:8080\"。刚改成如下内容了，现在可以正常运行了。 \n![Image](https://github.com/user-attachments/assets/e5a0e80d-8ad0-4e97-9c35-021877e88408)",
      "你登录 http://csghub.example.com:8000 组织选择 OpenCSG，账户密码和 root 一样，进去后找到 Identity --> Applications --> CSGHub --> Redirect URLs 看下这里的配置是http://csghub.example.com 这个域名吗，可以截图看下\n",
      "![Image](https://github.com/user-attachments/assets/bac94f63-d5df-4d96-b99e-195c7875eee3)",
      "配置没问题，那不对呢，上面的 callback 怎么是csghub.example.com:8080 的地址呢，无痕模式试下呢",
      "你把 docker-compose.yml 中的参数`hostname `移除掉试下"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1205"
  },
  {
    "id": "issue_1199",
    "title": "Calling csghub-sdk's upload_file cannot upload large files (all display success, small files can be uploaded normally)",
    "body": "**Describe the bug**\nCalling csghub-sdk's upload_file cannot upload large files (all display success, small files can be uploaded normally)\n\n**Environment**\nCSGHub Version: v1.7.0\nOS: Linux\nHardware: 32c128G\nLaunch:  docker compose\n\n\n**To Reproduce**\nSteps to reproduce the behavior:\n1. Go to csghub-docker-compose/csghub\n2. sudo ./configure (with CSGHUB_WITH_K8S=0)\n![Image](https://github.com/user-attachments/assets/f7350c6e-c43f-4dc6-8c29-76a5c6381c49)\n3. Go to csghub-sdk/\n4.  python examples/upload_file_local.py \nfile './test.mp4' upload successfully.\nit show successfully,but it didn't actually work.\n\nthe code is shown below：\nfrom pycsghub.file_upload import http_upload_file\ntoken = \"1a1faxxxxxxxxxd3eebfca17b3b\"\nendpoint = \"http://csghub.example.com\"\nrepo_id = \"root/test_m01\"\nrepo_type = \"model\"\nfile_path = \"./test.mp4\"\nresult = http_upload_file(repo_id, endpoint=endpoint, token=token, repo_type='model', file_path=file_path)\n\n\nIf you use the official address（endpoint = \"https://hub.opencsg.com\"）, it will work.",
    "comments": [
      "Propose use the following way to upload large files in folder.\n\n```\n# upload local large folder '/Users/hhwang/temp/abc' to model repo 'wanghh2000/model05'\ncsghub-cli upload-large-folder wanghh2000/model05 /Users/hhwang/temp/abc\n```\n\nIt also support local deployment with parameter  -e \n\n```\n# upload local large folder '/Users/hhwang/temp/abc' to model repo 'wanghh2000/model05' to local csghub\ncsghub-cli upload-large-folder wanghh2000/model05 /Users/hhwang/temp/abc -e http://csghub.example.com -k my_token\n```",
      "Please use csghub 1.8.0 for `csghub-cli upload-large-folder`",
      "Please update docker-compose.yml as following if you run `csghub-cli` on another hosts.\n\nUpdate `server.s3.endpoint` to `<server_ip>:9000` and make sure connect to <server_ip>:9000 successfully from client.\n\n![Image](https://github.com/user-attachments/assets/b4fb308e-2d7e-4d5b-b9f8-3fce149ddc8b)",
      "@Nikola-JK Have you tried newer verison, like v1.8.0, v1.9.0 (the latest)?"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1199"
  },
  {
    "id": "issue_1190",
    "title": "创建本地模型后，显示四个重复的项目",
    "body": "创建模型项目并推送模型文件后，显示四个重复的项目：\n![Image](https://github.com/user-attachments/assets/cab06877-97cc-475e-a9dd-5dba5ca36544)",
    "comments": [
      "使用的版本为1.7.0",
      "@dsdhz thanks for reporting this bug.\n\nit has been fixed by [PR-359](https://github.com/OpenCSGs/csghub-server/pull/359) .\n\n"
    ],
    "state": "closed",
    "labels": [
      "bug",
      "good first issue"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1190"
  },
  {
    "id": "issue_1141",
    "title": "Building the Project via Command Line Failed",
    "body": "<!--\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\n-->\n**Describe the bug**\naccording to `[csghub](https://github.com/OpenCSGs/csghub/tree/main)/[docs](https://github.com/OpenCSGs/csghub/tree/main/docs)\n/setup_en.md`, I use Building the Project via Command Line, but failed. It says \n\n```\ninit logger, level: INFO, format: json\nError: initializing routes: Endpoint url cannot have fully qualified paths.\n```\n\n`.envrc` is following:\n\n<img width=\"1029\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ef938ab9-bc5d-4038-b2b9-4166976c29db\" />\n\n**Environment**\nCSGHub Version: latest source code \nOS: MacOS\nHardware: M1 Pro \nLaunch:  source code and command line\n\n\n**To Reproduce**\n```\nmake build\n```\n\n```\n./csghub-portal start server\n```\n",
    "comments": [
      "@zhstark It looks like the issue might be caused by the `CSGHUB_PORTAL_S3_ENDPOINT` setting. Try changing it to `localhost:9090` and see if that resolves the problem.",
      "@pulltheflower Thanks! Finally it can run locally. \n\nI have several config questions and really appreciate your reply:\n1. is CSGHUB_PORTAL_LOGIN_URL and CSGHUB_PORTAL_SIGNUP_URL come from casdoor?\n2. what is CSGHUB_PORTAL_STARHUB_BASE_URL? Hard to understand what 'STARHUB' means.",
      "@zhstark \n\n> 1. is CSGHUB_PORTAL_LOGIN_URL and CSGHUB_PORTAL_SIGNUP_URL come from casdoor?\n\nYes, the `CSGHUB_PORTAL_LOGIN_URL` and `CSGHUB_PORTAL_SIGNUP_URL` all came from casdoor.\n\n> 2. what is CSGHUB_PORTAL_STARHUB_BASE_URL? Hard to understand what 'STARHUB' means.\n\n`CSGHUB_PORTAL_STARHUB_BASE_URL` is the base url of the [backend server](https://github.com/OpenCSGs/csghub-server). `STARHUB` was the early internal name for the backend service."
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1141"
  },
  {
    "id": "issue_1140",
    "title": "请问 opencsg 能兼容 hf 吗？这样配置可以吗？",
    "body": "请问 opencsg 能兼容 hf 吗？这样配置可以吗？\n![Image](https://github.com/user-attachments/assets/0edc4310-3273-4cba-9174-c033f22a7128)",
    "comments": [
      "是希望用的csghub-sdk从HF上下载model吗？请详细描述一下使用方式。",
      "> 是希望用的csghub-sdk从HF上下载model吗？请详细描述一下使用方式。\n\n在vLLM中使用HF_ENDPOINT和HF_TOKEN的方式，加载存在CSGHub中的模型：\n`docker run --rm -it -e HF_ENDPOINT=\"http://172.22.222.162/hf\" -e HF_TOKEN=9a21503802e240d985ba52df65889f3f  registry-dev.xmufeng.com/vllm/vllm-cpu-rele\nase-repo:v0.8.5.post1 --model CSG_AIWizards/GR00T-N1-2B`\n\n加载过程中报如下错误，是否CSGHub的/hf接口，不再支持高版本的huggingface_hub sdk?\n\n![Image](https://github.com/user-attachments/assets/f82396cf-9133-4e6a-b53f-0b4ebed911ff)",
      "Please reference code for use HF transformers sdk to download models from OpenCSG Hub. \nCurrently opencsg hubsdk use  `huggingface-hub  0.22.2`\n\n```\nimport os\n\nos.environ[\"HF_ENDPOINT\"] = \"https://hub.opencsg.com/hf\"\nfrom transformers import AutoModelForCausalLM, AutoTokenizer\n\nmid = 'Qwen/Qwen2.5-0.5B-Instruct'\nmodel = AutoModelForCausalLM.from_pretrained(mid)\ntokenizer = AutoTokenizer.from_pretrained(mid)\n\ninputs = tokenizer.encode(\"Write a short story\", return_tensors=\"pt\")\noutputs = model.generate(inputs)\nprint('result: ',tokenizer.batch_decode(outputs))\n```\n\nWhat hugginface-hub version are you using?\n\n<img width=\"1087\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/53ed650a-64fa-40e3-b14b-b8e90d67e4a3\" />\n",
      "高版本的hf有校验"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1140"
  },
  {
    "id": "issue_1138",
    "title": "`make` gets stuck according to setup.md",
    "body": "<!--\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\n-->\n**Describe the bug**\nAccording to the given setup.md, I follow the guide and get to run `make`, but this command gets stuck and never end.\n\nMy `.envrc` file is following:\n\n<img width=\"1029\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ef938ab9-bc5d-4038-b2b9-4166976c29db\" />\n\n**Environment**\nCSGHub Version: latest source code\nOS:  MacOS..\nHardware: M1 Pro chip\nLaunch:  source code\n\n\n**To Reproduce**\nfollow `setup.md` until \"### Starting Both Frontend and Backend Services\", and run `make`.\n\n**Expected behavior**\nBoth frontend and backend run successfully.\n\n**Screenshots**\n\n<img width=\"771\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/521c9d9b-0dba-4d76-8b13-18ab7afebd5e\" />\n",
    "comments": [
      "@zhendi Pls help on this.",
      "@zhstark Would you mind capturing a screenshot that shows the full compilation process when running `make` command, including any error messages?"
    ],
    "state": "open",
    "labels": [
      "needs more info"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1138"
  },
  {
    "id": "issue_1137",
    "title": "使用 GPUStack 部署时下载 CSGHub 模型文件报错",
    "body": "使用huggingface sdk 调用https://hub.opencsg.com/hf/api/models/Qwen/Qwen3-235B-A22B/revision/main?blobs=true接口没有返回文件大小，导致 gpustack 下载文件报错",
    "comments": [
      "@KinglyWayne pls assign someone to work in on. Thanks ",
      "@reboot-cloud how did you download the model?  it works for me with following script\n\n(base) xiangzhen@james-host Downloads % cat download.py\nfrom huggingface_hub import snapshot_download\nsnapshot_download(repo_id=\"Qwen/Qwen3-235B-A22B\",endpoint=\"https://hub.opencsg.com/hf\")\n\n(base) xiangzhen@james-host Downloads % pip list|grep transformers\ntransformers                  4.45.2\n\n(base) xiangzhen@james-host Downloads % pip list|grep huggingface\nhuggingface-hub               0.26.1\n\n<img width=\"1496\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/051d1ea3-2e21-402d-9c1f-ffb003cda3ad\" />",
      "just have a quck check, it seems csghub api missing some fields, like size pointerSize\nhttps://huggingface.co/api/models/Qwen/Qwen3-235B-A22B/revision/main?blobs=true",
      "@pulltheflower please have a look",
      "@Rader Got it.\n\n@reboot-cloud Thank you for your feedback — it's very valuable. After investigation, we found that the issue was caused by our lack of support for the `blobs` parameter. We've made the necessary changes, and this problem will be fixed in our next release.",
      "@reboot-cloud Our SaaS has been updated, could you please try downloading again and see if it still gets this error. Thanks again for your report!"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1137"
  },
  {
    "id": "issue_1130",
    "title": "私有化部署场景如何开启模型评测/模型/微调实例功能",
    "body": "使用k8s + helm部署成功，可以注册登录，可以git push/pull，但是前端页面上的部分按钮是不可用状态，请问如何启用\n\n<img width=\"664\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/bcc3bc28-54fc-4ec2-a0e4-0a0d9d722c50\" />",
    "comments": [
      "使用模型“Qwen/Qwen2-0.5B-Instruct”后可以看到：\n\n<img width=\"635\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8a201a2a-12d4-40f6-ae8f-841a4a736609\" />\n\n私有化场景下是无法使用专属示例的，如何部署呢",
      "1. 点击“专属实例”后，弹出的部署页面，选择相应参数可以创建，如下页面：\n\n<img width=\"779\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/85d9c740-ab35-443f-a707-177de2da380c\" />\n\n如果创建报错，请上传一下出错信息，用于分析原因。"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1130"
  },
  {
    "id": "issue_1122",
    "title": "Login to OpenCSG",
    "body": "There is a login issue to get into OpenCSG platform. Kindly resolve. Thanks\n",
    "comments": [
      "@KinglyWayne @chhao pls help to follow this up, thx ",
      "> There is a login issue to get into OpenCSG platform. Kindly resolve. Thanks\n\n@QAXAI Please give more detail about the login issue. For example,  any kind of error got from the website?",
      "As discussed earlier i want you to enable login through website for International users, as it is only available for China\n@Rader pls open one issue in backlog for promotion ",
      "> As discussed earlier i want you to enable login through website for International users, as it is only available for China [@Rader](https://github.com/Rader) pls open one issue in backlog for promotion\n\nwe need support sending SMS verification msg for countries outside of China.",
      "@QAXAI please try again",
      "@QAXAI we have changed the oversea SMS provider, please try again ",
      "close as no response"
    ],
    "state": "closed",
    "labels": [
      "waiting for feedback"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1122"
  },
  {
    "id": "issue_1107",
    "title": "make时报错，服务起不来，怎么解决",
    "body": "![Image](https://github.com/user-attachments/assets/c9fb04db-fb04-4619-a2bf-d2d9a05692b4)",
    "comments": [
      "gitlab-issue-580",
      "@lxx181 \nhttps://github.com/OpenCSGs/csghub/blob/main/docs/setup.md\n这里有一份文档，建议根据这个文档的步骤来。\n\n有做这一步吗:\n```\n创建 .envrc 文件：在项目根目录下，运行：\n\ncp .envrc.example .envrc\n编辑 .envrc 文件：根据您的需求编辑 .envrc 文件，设置必要的环境变量。例如：\n\nexport CSGHUB_PORTAL_S3_ACCESS_KEY_ID=xxx\nexport CSGHUB_PORTAL_S3_ACCESS_KEY_SECRET=yyy\n# 添加其他需要的环境变量\n```",
      "> [@lxx181](https://github.com/lxx181) https://github.com/OpenCSGs/csghub/blob/main/docs/setup.md 这里有一份文档，建议根据这个文档的步骤来。\n> \n> 有做这一步吗:\n> \n> ```\n> 创建 .envrc 文件：在项目根目录下，运行：\n> \n> cp .envrc.example .envrc\n> 编辑 .envrc 文件：根据您的需求编辑 .envrc 文件，设置必要的环境变量。例如：\n> \n> export CSGHUB_PORTAL_S3_ACCESS_KEY_ID=xxx\n> export CSGHUB_PORTAL_S3_ACCESS_KEY_SECRET=yyy\n> # 添加其他需要的环境变量\n> ```\n\n做了这一步\n",
      "@zhendi please have a look",
      "@lxx181 从这个报错上看，可能是 envrc 里面 `CSGHUB_PORTAL_S3_ENDPOINT` 这一项没有设置对",
      "close as no response"
    ],
    "state": "closed",
    "labels": [
      "needs more info",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1107"
  },
  {
    "id": "issue_1088",
    "title": "前端修改问题",
    "body": "我使用docker compose的方式运行，我现在想修改前端，在本地看到实时的效果，并将修改后的静态页面在docker中替换展示。要怎么做？",
    "comments": [
      "首先需要确认您说的 docker compose 的形式运行，是您拉取最新的代码到本地，然后本地 build image 之后通过 docker compose 运行的吗？\n\n如果是，那么您可以更新本地代码，然后重新build之后，重启 docker container，即可看到最新的更新\n\n如果你想在本地进行代码更新，并且要能在本地通过非 docker 方式启动且通过浏览器看到效果，那么你需要知道，csghub 的前台也是一个完整的 web 应用，你需要根据我们的文档来启动你的本地环境进行开发和调试：\nhttps://github.com/OpenCSGs/csghub/blob/main/docs/setup.md",
      "> 首先需要确认您说的 docker compose 的形式运行，是您拉取最新的代码到本地，然后本地 build image 之后通过 docker compose 运行的吗？\n> \n> 如果是，那么您可以更新本地代码，然后重新build之后，重启 docker container，即可看到最新的更新\n> \n> 如果你想在本地进行代码更新，并且要能在本地通过非 docker 方式启动且通过浏览器看到效果，那么你需要知道，csghub 的前台也是一个完整的 web 应用，你需要根据我们的文档来启动你的本地环境进行开发和调试： https://github.com/OpenCSGs/csghub/blob/main/docs/setup.md\n\n本地环境开发数据怎么来呀",
      "我也有同样的问题，我是通过[安装文档](https://opencsg.com/docs/csghub/101/install/install_csghub_by_docker)中docker compose安装的，ce和ee都安装了。如果要修改前端，是把该项目拉到本地，然后修改并查看效果，再同步修改docker中的代码吗？",
      "> 我也有同样的问题，我是通过[安装文档](https://opencsg.com/docs/csghub/101/install/install_csghub_by_docker)中docker compose安装的，ce和ee都安装了。如果要修改前端，是把该项目拉到本地，然后修改并查看效果，再同步修改docker中的代码吗？\n\n@hcw111 docker中的代码无法修改，需要按照 @hiveer 说的改动代码之后先做docker build， 打包docker镜像。\n\n建议先熟悉一下docker相关的文档，特别是docker镜像打包和启动相关的知识。"
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1088"
  },
  {
    "id": "issue_1062",
    "title": "Model download dialog supports click to execute commands via local terminal",
    "body": "The current model download dialog only provides basic command text, requiring users to manually copy and execute the commands in the terminal. This approach is inefficient and less user-friendly for those unfamiliar with command-line operations.\n\n## Proposed Solution\n\n**Click-to-Execute Local Terminal Commands**:\n   - Add a \"Copy and Execute\" button in the dialog, enabling users to directly execute related commands in their local terminal with a single click.\n   - Use web technologies (e.g., Electron or browser extensions) to interact with the local terminal.\n\n## Expected Benefits\n\n- Enhance user experience by reducing the manual steps required.\n- Make the process more user-friendly for those unfamiliar with command-line operations.\n- Improve the efficiency and convenience of model downloads.\n\n## Priority\n\nIt is recommended to prioritize the implementation of the click-to-execute functionality to significantly improve user operation efficiency.\n\n<img width=\"1468\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1cde8714-ad0e-4fb7-bee8-5368e156a90e\" />",
    "comments": [
      "> The current model download dialog only provides basic command text, requiring users to manually copy and execute the commands in the terminal. This approach is inefficient and less user-friendly for those unfamiliar with command-line operations.\n> \n> ## Proposed Solution\n> **Click-to-Execute Local Terminal Commands**:\n> \n> * Add a \"Copy and Execute\" button in the dialog, enabling users to directly execute related commands in their local terminal with a single click.\n> * Use web technologies (e.g., Electron or browser extensions) to interact with the local terminal.\n> \n> ## Expected Benefits\n> * Enhance user experience by reducing the manual steps required.\n> * Make the process more user-friendly for those unfamiliar with command-line operations.\n> * Improve the efficiency and convenience of model downloads.\n> \n> ## Priority\n> It is recommended to prioritize the implementation of the click-to-execute functionality to significantly improve user operation efficiency.\n> \n> <img alt=\"Image\" width=\"1468\" src=\"https://private-user-images.githubusercontent.com/19664487/429816608-1cde8714-ad0e-4fb7-bee8-5368e156a90e.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDM5NDE1OTQsIm5iZiI6MTc0Mzk0MTI5NCwicGF0aCI6Ii8xOTY2NDQ4Ny80Mjk4MTY2MDgtMWNkZTg3MTQtYWQwZS00ZmI3LWJlZTgtNTM2OGUxNTZhOTBlLmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA0MDYlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNDA2VDEyMDgxNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWY3Zjk4YWQyNjIyM2NkNjdiYjQ3OWYxMjkzNjliMGM5NTI2MGY1ZTRiNjNiNmJiMWI3OTJlYzRmNzE3Zjk0ZDkmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.spuEGHX-fYqhJzFv7zfGN8bOPaDIumE3gMfq7Vvucew\">\n\nNoted with thanks. We'll review this and optimize accordingly",
      "gitlab-issue-552"
    ],
    "state": "open",
    "labels": [
      "enhancement",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1062"
  },
  {
    "id": "issue_1099",
    "title": "开源版本单机部署后模型同步功能不能使用",
    "body": "**Describe the bug**\n按照官方文档下载（csghub-docker-compose-v1.5.0.tgz）安装包，修改SERVER_DOMAIN 使用./configure 进行安装，服务正常启动后，模型仓库页面无法从 官方模型仓库同步模型\n\n\n**截图**\n\n![Image](https://github.com/user-attachments/assets/3bfc680a-611c-4d1f-bfee-899da80c99c2)\n\n![Image](https://github.com/user-attachments/assets/4ff77506-0d89-40f0-b9ee-0575a32bedbf)\n\n![Image](https://github.com/user-attachments/assets/d4253b27-efe4-4f1c-9610-d5cdf79be5b6)\n\n![Image](https://github.com/user-attachments/assets/df3680df-b3f9-41dc-b2d1-7a7156d0cbdc)\n\n**操作系统**\n - ubuntu 24.04.02版本\n - csghub-docker-compose-v1.5.0.tgz\n - SERVER_DOMAIN：ip地址\n\n",
    "comments": [
      "@zhouxm do you login with a admin role account? there should be a button on repo detail page.\n\n![Image](https://github.com/user-attachments/assets/4e4b8425-332d-4818-a688-3c340e0ec09a)"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1099"
  },
  {
    "id": "issue_1040",
    "title": "Waiting for PostgreSQL to startup. 重启机器后，镜像被清掉，重新部署安装遇到Waiting for PostgreSQL to startup.",
    "body": "csghub-temporal-1 这个一直启动失败，我看是等待pgsql的启动。v1.5.1版本 ，机器重启前都能正常运行\n\n![Image](https://github.com/user-attachments/assets/88943167-de08-4ce4-af2d-aabf4b836484)",
    "comments": [
      "@Rader pls check it out ",
      "@FancyXun is the `postgres` container running?",
      "Of course.  postgres logs follows: \n```\n2025-03-27 07:19:00.404 UTC [49] LOG:  received fast shutdown request\nwaiting for server to shut down....2025-03-27 07:19:00.404 UTC [49] LOG:  aborting any active transactions\n2025-03-27 07:19:00.406 UTC [49] LOG:  background worker \"logical replication launcher\" (PID 55) exited with exit code 1\n2025-03-27 07:19:00.408 UTC [50] LOG:  shutting down\n2025-03-27 07:19:00.408 UTC [50] LOG:  checkpoint starting: shutdown immediate\n2025-03-27 07:19:00.675 UTC [50] LOG:  checkpoint complete: wrote 3663 buffers (22.4%); 0 WAL file(s) added, 0 removed, 1 recycled; write=0.086 s, sync=0.179 s, total=0.267 s; sync files=1196, longest=0.002 s, average=0.001 s; distance=16890 kB, estimate=16890 kB\n2025-03-27 07:19:00.694 UTC [49] LOG:  database system is shut down\n done\nserver stopped\n\nPostgreSQL init process complete; ready for start up.\n\n2025-03-27 07:19:00.740 UTC [1] LOG:  starting PostgreSQL 15.10 (Debian 15.10-1.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit\n2025-03-27 07:19:00.741 UTC [1] LOG:  listening on IPv4 address \"0.0.0.0\", port 5432\n2025-03-27 07:19:00.741 UTC [1] LOG:  listening on IPv6 address \"::\", port 5432\n2025-03-27 07:19:00.742 UTC [1] LOG:  listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\"\n2025-03-27 07:19:00.747 UTC [86] LOG:  database system was shut down at 2025-03-27 07:19:00 UTC\n2025-03-27 07:19:00.755 UTC [1] LOG:  database system is ready to accept connections\n2025-03-27 07:24:00.771 UTC [84] LOG:  checkpoint starting: time\n2025-03-27 07:24:04.885 UTC [84] LOG:  checkpoint complete: wrote 44 buffers (0.3%); 0 WAL file(s) added, 0 removed, 0 recycled; write=4.109 s, sync=0.003 s, total=4.115 s; sync files=12, longest=0.001 s, average=0.001 s; distance=252 kB, estimate=252 kB\n2025-03-27 07:37:47.405 UTC [1] LOG:  received fast shutdown request\n2025-03-27 07:37:47.405 UTC [1] LOG:  aborting any active transactions\n2025-03-27 07:37:47.409 UTC [1] LOG:  background worker \"logical replication launcher\" (PID 89) exited with exit code 1\n2025-03-27 07:37:47.409 UTC [84] LOG:  shutting down\n2025-03-27 07:37:47.409 UTC [84] LOG:  checkpoint starting: shutdown immediate\n2025-03-27 07:37:47.412 UTC [84] LOG:  checkpoint complete: wrote 0 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.001 s, sync=0.001 s, total=0.004 s; sync files=0, longest=0.000 s, average=0.000 s; distance=0 kB, estimate=227 kB\n2025-03-27 07:37:47.420 UTC [1] LOG:  database system is shut down\n\nPostgreSQL Database directory appears to contain a database; Skipping initialization\n\n2025-03-27 11:26:16.988 UTC [1] LOG:  starting PostgreSQL 15.10 (Debian 15.10-1.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit\n2025-03-27 11:26:16.988 UTC [1] LOG:  listening on IPv4 address \"0.0.0.0\", port 5432\n2025-03-27 11:26:16.988 UTC [1] LOG:  listening on IPv6 address \"::\", port 5432\n2025-03-27 11:26:16.989 UTC [1] LOG:  listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\"\n2025-03-27 11:26:16.993 UTC [29] LOG:  database system was shut down at 2025-03-27 07:37:47 UTC\n2025-03-27 11:26:17.000 UTC [1] LOG:  database system is ready to accept connections\n```",
      "@Rader ",
      "@FancyXun I see your `temporal` service is up for 21 hours in the screenshot.  So i guess the postgres service stop and start again, but temporal not. is that correcgt?\n\nif so, try restart temporal service manully. "
    ],
    "state": "open",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1040"
  },
  {
    "id": "issue_1016",
    "title": "git lfs上传音频文件timeout",
    "body": "上传py、json等格式小文件可以正常上传。但是上传wav等音频文件，例：当前上传音频文件18.9mb。先是显示一点点在上传，但是经常几分钟后就显示timeout\n\n![Image](https://github.com/user-attachments/assets/318c8537-a6c0-4134-9f0e-91be1a47e4e4)\n\n![Image](https://github.com/user-attachments/assets/04a31bae-51a5-43e1-ac39-f5534a223e8b)",
    "comments": [
      "@pulltheflower please check this issue",
      "> [@pulltheflower](https://github.com/pulltheflower) please check this issue\n\n上传一些几十几百兆的文件时也会一直报timeout\n systemctl show docker\nMemoryAvailable=infinity\n\n\n![Image](https://github.com/user-attachments/assets/1c857ac3-2f8f-4abb-a2b7-f9c887f4e4b2)",
      "@shensj12 Please provide the configuration of your deployment machine and the version you have deployed. This will help us troubleshoot the issue.",
      "> [@shensj12](https://github.com/shensj12) Please provide the configuration of your deployment machine and the version you have deployed. This will help us troubleshoot the issue.请提供部署计算机的配置和已部署的版本。这将帮助我们解决问题。\n\n使用csghub-installer中的docker-compose部署了1.5.0\n\n![Image](https://github.com/user-attachments/assets/48dc036e-a3b4-484f-9fbb-284948a4789e)",
      "@shensj12 Please also provide the memory and disk configuration details.",
      "> [@shensj12](https://github.com/shensj12) Please also provide the memory and disk configuration details.请同时提供内存和磁盘配置详细信息。\n\n![Image](https://github.com/user-attachments/assets/e08e3aab-ae71-4069-8bbf-c5f0673aaa0e)",
      "@shensj12 Thank you. One more question: when pushing large LFS files, how high is the CPU usage of `csghub-server` and `minio`?",
      "> [@shensj12](https://github.com/shensj12) Thank you. One more question: when pushing large LFS files, how high is the CPU usage of `csghub-server` and `minio`?谢谢。再问一个问题：在推送大型 LFS 文件时，`csghub-server` 和 `minio` 的 CPU 占用率有多高？\n\n![Image](https://github.com/user-attachments/assets/bd6ef17f-720f-4db9-988a-14eac14fd552)",
      "@shensj12 We are not entirely sure why this issue is occurring at the moment, but through debugging, it appears that the problem might be related to the NGINX service. \n\nPlease try to install the version `v1.5.1`  and add this to environment of `csghub-server` service:\n\n```\nSTARHUB_SERVER_SKIP_LFS_FILE_VALIDATION: true\n```\n\nThis option will disable lfs file verify and upload lfs file via pre-signed url of minio.",
      "> [@shensj12](https://github.com/shensj12) We are not entirely sure why this issue is occurring at the moment, but through debugging, it appears that the problem might be related to the NGINX service.\n> \n> Please try to install the version `v1.5.1` and add this to environment of `csghub-server` service:\n> \n> ```\n> STARHUB_SERVER_SKIP_LFS_FILE_VALIDATION: true\n> ```\n> \n> This option will disable lfs file verify and upload lfs file via pre-signed url of minio.\n\n你好，这样修改之后可以正常上传了，感谢！ 还有请问一下这个有办法提速吗？因为我这边上传好像一直都在1-3MB/S之间有时候是几百KB/S，上传大文件感觉有点慢",
      "@shensj12 What is the bandwidth of the machine where the service is deployed?",
      "> [@shensj12](https://github.com/shensj12) What is the bandwidth of the machine where the service is deployed?\n\n你好，的确是因为之前的带宽设置太低了，加大之后正常了，谢谢"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/1016"
  },
  {
    "id": "issue_1017",
    "title": "在组织中新建数据集页面报错",
    "body": "未在组织内新建的数据集没有报错，但是加入组织后在组织内新建数据集会出现如下报错：\nfailed to check dataset permission, error: failed to get member role: failed to do http request, path:http://localhost:8088/api/v1/organization/xx/members/sjshen?current_user=sjshen, err:Get \"http://localhost:8088/api/v1/organization/xx/members/sjshen?current_user=sjshen\": dial tcp [::1]:8088: connect: connection refused\n\n这个需要如何排查？",
    "comments": [
      "@shensj12 检测一下 user 服务正常启动了吗？",
      "\n> [@shensj12](https://github.com/shensj12) 检测一下 user 服务正常启动了吗？\n\n![Image](https://github.com/user-attachments/assets/f8d901a0-a691-4f93-854c-cc3a666ee574)\n\n启动了",
      "看下环境变量或者配置文件中  `OPENCSG_USER_SERVER_HOST`  这个变量的设置，不能用 localhost",
      "> 看下环境变量或者配置文件中 `OPENCSG_USER_SERVER_HOST` 这个变量的设置，不能用 localhost\n\n我是使用你们一键部署的脚本部署的，我看里面这里也没用localhost\n\n![Image](https://github.com/user-attachments/assets/48207685-63f2-4f59-90b3-aca7ca033d7e)",
      "> 未在组织内新建的数据集没有报错，但是加入组织后在组织内新建数据集会出现如下报错： failed to check dataset permission, error: failed to get member role: failed to do http request, path:http://localhost:8088/api/v1/organization/xx/members/sjshen?current_user=sjshen, err:Get \"http://localhost:8088/api/v1/organization/xx/members/sjshen?current_user=sjshen\": dial tcp [::1]:8088: connect: connection refused\n> \n> 这个需要如何排查？\n\n从错误信息看，访问 localhost 的 user 服务，地址不对。像是没有读到配置文件。\n方便发一下 docker compose文件里的 starhub_server 的这块的环境变量配置吗？\n\n![Image](https://github.com/user-attachments/assets/36e6b906-beed-4155-adc0-2012ceeb0a82)",
      "> > 看下环境变量或者配置文件中 `OPENCSG_USER_SERVER_HOST` 这个变量的设置，不能用 localhost\n> \n> 我是使用你们一键部署的脚本部署的，我看里面这里也没用localhost\n> \n> ![Image](https://github.com/user-attachments/assets/48207685-63f2-4f59-90b3-aca7ca033d7e)\n\n@Rader 你好，我在上面已经发了一张图片，我是使用这个部署的，没有做任何修改\n\n![Image](https://github.com/user-attachments/assets/e098c389-9e59-449f-8153-d978155158f2)\n",
      "@shensj12 we will try to reproduce this issue. \nIf you have any changes (like config change for example) after running the installer, please comment here. That will be every helpful for us to reproduce.",
      "经过多次测试，该情况无法复现",
      "> [@shensj12](https://github.com/shensj12) we will try to reproduce this issue. If you have any changes (like config change for example) after running the installer, please comment here. That will be every helpful for us to reproduce.\n\n你好，我现在部署的是csghub-installer中的1.5.1，唯一修改的地方是替换了自己的域名以及增加了STARHUB_SERVER_SKIP_LFS_FILE_VALIDATION: true 修复了我另一个问题，其他并未作出修改。重新部署之后这个报错依旧存在，所有服务都是正常启动的：failed to check dataset permission, error: failed to get member role: failed to do http request, path:http://localhost:8088/api/v1/organization/xx/members/sjshen?current_user=sjshen, err:Get \"http://localhost:8088/api/v1/organization/xx/members/sjshen?current_user=sjshen\": dial tcp [::1]:8088: connect: connection refused",
      "@shensj12 try login to `csghub-server` container, and check dns parsed ip address of `csghub-user`.   It should not be `localhost`",
      "@Rader  你好，我进入csghub-server好像并没有csghub_user的相关内容，由于我在这方面不是很专业，想请你帮我看看我是否操作正确\n\n![Image](https://github.com/user-attachments/assets/62defbb8-8454-4989-aaa5-ea3ffe7f27f9)\n",
      "@shensj12  不好意思，之前服务名写错了，不是下划线，是中划线 ，` csghub_user` -> `csghub-user`\n\n我从头安装的系统，访问 user 服务是没有人任何问题的。\n\n进入 `csbhub-server`的容器后检测一下环境变量 `OPENCSG_USER_SERVER_HOST`，确认是不是 `http://csghub-user`。\n```\nroot@2b6c23b9499b:/starhub-bin# env | grep OPENCSG_USER_SERVER_HOST\nOPENCSG_USER_SERVER_HOST=http://csghub-user\n```\n如果地址没错，尝试访问 user 服务的端口：\n\n```\nroot@2b6c23b9499b:/starhub-bin# curl -v http://csghub-user:8088   \n*   Trying 192.171.100.113:8088...\n* Connected to csghub-user (192.171.100.113) port 8088 (#0)\n> GET / HTTP/1.1\n> Host: csghub-user:8088\n> User-Agent: curl/7.74.0\n> Accept: */*\n> \n* Mark bundle as not supporting multiuse\n< HTTP/1.1 404 Not Found\n< Content-Type: text/plain\n< Date: Wed, 02 Apr 2025 03:28:45 GMT\n< Content-Length: 18\n< \n* Connection #0 to host csghub-user left intact\n404 page not found\n```",
      "> [@shensj12](https://github.com/shensj12) 不好意思，之前服务名写错了，不是下划线，是中划线 ，` csghub_user` -> `csghub-user`\n> \n> 我从头安装的系统，访问 user 服务是没有人任何问题的。\n> \n> 进入 `csbhub-server`的容器后检测一下环境变量 `OPENCSG_USER_SERVER_HOST`，确认是不是 `http://csghub-user`。\n> \n> ```\n> root@2b6c23b9499b:/starhub-bin# env | grep OPENCSG_USER_SERVER_HOST\n> OPENCSG_USER_SERVER_HOST=http://csghub-user\n> ```\n> \n> 如果地址没错，尝试访问 user 服务的端口：\n> \n> ```\n> root@2b6c23b9499b:/starhub-bin# curl -v http://csghub-user:8088   \n> *   Trying 192.171.100.113:8088...\n> * Connected to csghub-user (192.171.100.113) port 8088 (#0)\n> > GET / HTTP/1.1\n> > Host: csghub-user:8088\n> > User-Agent: curl/7.74.0\n> > Accept: */*\n> > \n> * Mark bundle as not supporting multiuse\n> < HTTP/1.1 404 Not Found\n> < Content-Type: text/plain\n> < Date: Wed, 02 Apr 2025 03:28:45 GMT\n> < Content-Length: 18\n> < \n> * Connection #0 to host csghub-user left intact\n> 404 page not found\n> ```\n\n@Rader 你好，我这边访问是没有问题的\n\n![Image](https://github.com/user-attachments/assets/78652cf5-7d2b-4147-9d53-ca6ef8ceaca6)"
    ],
    "state": "open",
    "labels": [
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1017"
  },
  {
    "id": "issue_1011",
    "title": "页面能看到仓库，但是通过python sdk下载报错",
    "body": "<img width=\"1700\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/13f834b9-0159-4fb1-a914-7328c77a71d3\" />",
    "comments": [
      "这个仓库我曾经通过git push 了很久才push 上去，会不会是push 的时候有些信息没在系统里面写完，导致可以显示，但是下载报错",
      "gitlab-issue-466",
      "@FancyXun \n1. 这个log是在哪里看到的？看着像是私有化部署\n2. 另外请把下载报错时的hub-server, gitaly, minio的相关log 上下文内容上传一下，方便分析。\n3. 如果是用sdk下载，请把sdk的全部log也上传下，用于分析。\n4. 在portal页面偿试下载一下，观察看是否可以成功，以验证文件是否正确。\n5. 确认一下所有的容器状态是否处于正常运行状态。\n6. 方便的话，下载部分的代码发一下看看。",
      "@FancyXun 请描述一下部署环境，包括版本，os version，部署方式。",
      "Please describe more env detail about how to using sdk download model\n1. Did you download public model, or set token for private model\n2. Upload csghub-server log when download model error happen.",
      "close as no response"
    ],
    "state": "closed",
    "labels": [
      "needs more info",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/1011"
  },
  {
    "id": "issue_996",
    "title": "进入代码仓库页面，未调用分页接口",
    "body": "\n\n![Image](https://github.com/user-attachments/assets/578c4f4c-0e41-4de5-9b0b-798dfdc9b9bc)\n点击进入代码仓库页面，页面无数据展示（实际本地已创建一个仓库），查看后台，未调用分页查询接口\n\n\n![Image](https://github.com/user-attachments/assets/1d0d40b0-ab6b-47d3-9972-ff04942f8592)\n点击筛选本地仓库，分页接口正常调用，数据正常显示\n\n\n![Image](https://github.com/user-attachments/assets/6365bb8c-8305-4bee-96ba-6d2b43e00ffb)\n再次点击“显示所有源”，分页接口正常调用，数据正常展示\n\n\n![Image](https://github.com/user-attachments/assets/bbe4dc6d-fd62-4e82-af2e-1627a1b25a52)\n点击旁边的合集后再次点击代码仓库，页面无数据展示，未调用分页接口",
    "comments": [
      "我复现出来这个问题了 @Rader @hiveer 麻烦看下这个问题",
      "gitlab-issue-446"
    ],
    "state": "closed",
    "labels": [
      "bug",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/996"
  },
  {
    "id": "issue_993",
    "title": "API commit timeout for too many repo files",
    "body": "**Describe the bug**\nAPI /api/v1/datasets/namespace/repoid/commit/commitid timeout for too many repo files, for example there are more 10w files in repo.\n\nReport from wechat customer.\n\n**Environment**\nCSGHub Version: 1.4\nOS: Linux\nHardware: \nLaunch:  docker compose\n\n\n**To Reproduce**\nSteps to reproduce the behavior:\n1. Create dataset repo\n2. Upload repo file more than 10w\n3. Access commit api.\n4. api timeout.\n\n**Expected behavior**\nReturn commit files.\n\n",
    "comments": [
      "@pulltheflower Please take a look at this issue.",
      "i think this have been fixed in `v1.5.0`, @pulltheflower please confirm。"
    ],
    "state": "closed",
    "labels": [
      "enhancement"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/993"
  },
  {
    "id": "issue_983",
    "title": "the space build failed, and can't see the information in the logs of container on the website.",
    "body": "the space build failed, and can't see the information in the logs of container on the website panel. is there any way to logs it on docker container using command-line terminal?\n\nthe content of app.py is below:\n\n`import gradio as gr\n\ndef greet(name):\n    return \"Hello \" + name + \"!!\"\n\niface = gr.Interface(fn=greet, inputs=\"text\", outputs=\"text\")\niface.launch()`",
    "comments": [
      "@kmfb currently，login to space docker container is not supported. But it's in our roadmap.",
      "@kmfb Have you checked the error logs of service `space_builder`？",
      "> [@kmfb](https://github.com/kmfb) Have you checked the error logs of service `space_builder`？\n\nI changed the way of deployment from docker to helm chart. It also showed deployment failed on the page of space. How can I debug this situation in helm chart? Since I see the build was successful.\n\nthe output of build is below.\n{\"aux\n\n786: \":{\"ID\":\"sha256:4570d78d49740b8953a71b492be5a6f2fc5b3855d64b1f180ce0879d9d021d3a\"}}\n{\"stream\":\"Successfully built 4570d78d4974\\n\"}\n{\"stream\":\"Successfully tagged registry.csghub-test.com:30080/csghub/root_test2:2\\n\"}\n",
      "First, looks like space build success by logs. Check csghub server log and runner log to look if there is error for deploy service.\nBTW, make sure redis service is ready.",
      "@kmfb Do you have any progress, got the issue fixed? ",
      "please try the latest version.  Reopen this issue if you still have problem."
    ],
    "state": "closed",
    "labels": [
      "enhancement"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/983"
  },
  {
    "id": "issue_981",
    "title": "csghub-runner 服务无法被访问：DNS 解析错误",
    "body": "\n\n\n\n### 问题描述\n在new spaces页面尝试访问集群信息时遇到以下错误：\n```\nfailed to list cluster info, Get \"http://csghub-runner:8082/api/v1/cluster\": dial tcp: lookup csghub-runner on 127.0.0.11:53: server misbehaving\n```\n\n这个错误表明系统无法解析 `csghub-runner` 主机名，或者无法连接到该主机的 8082 端口。\n\n### 环境信息\n- 部署方式：Docker Compose\n- 版本：csghub 1.40\n\n### 问题分析\n从错误信息看，这是一个 DNS 解析问题。虽然 `csghub-runner` 服务已在 docker-compose 配置中定义，但客户端无法通过 DNS 将该主机名解析为有效 IP 地址。可能的原因：\n\n1. DNS 服务（coredns）配置问题\n2. `csghub-runner` 服务暴露的端口与访问的端口不匹配\n3. 网络配置问题，导致服务间无法正常通信\n\n### 配置细节\n在当前配置中：\n- `csghub-runner` 服务使用了静态 IP `192.171.100.110`\n- 该服务没有显式暴露 8082 端口\n- 该服务依赖于 coredns 服务并使用其作为 DNS 服务器 (`dns: - 192.171.100.102`)\n\n\n### 期望的解决方案\n希望能够正确解析 `csghub-runner` 主机名并连接到该服务的 API 端点。\n\n### 补充信息\n完整的 docker-compose 配置已提供，特别关注以下相关服务：\n- csghub-runner\n",
    "comments": [
      "我解决了，是环境变量没有配置k8s。"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/981"
  },
  {
    "id": "issue_980",
    "title": "Fluentd 容器无法启动：日志文件权限问题",
    "body": "描述问题\n在使用 docker-compose 启动 CSGHub 服务时，fluentd 容器无法正常启动，导致其他依赖服务也无法正常运行。错误显示 fluentd 无法写入日志文件。\n环境信息\nCSGHub 版本: v1.4.0\n2025-02-28 02:31:30 +0000 [info]: init supervisor logger path=nil rotate_age=nil rotate_size=nil\n2025-02-28 02:31:30 +0000 [info]: parsing config file is succeeded path=\"/fluentd/etc/fluent.conf\"\n2025-02-28 02:31:30 +0000 [info]: gem 'fluentd' version '1.16.7'\n2025-02-28 02:31:30 +0000 [error]: config error file=\"/fluentd/etc/fluent.conf\" error_class=Fluent::ConfigError error=\"out_file: `/fluentd/log/nats.20250228.log.gz` is not writable\"\n\n排查过程\n通过检查容器内部文件权限，发现 /fluentd/log 目录属于 fluent 用户：\n/ $ ls -la /fluentd/\ntotal 20\ndrwxr-xr-x    1 fluent   fluent        4096 Feb  3 22:27 .\ndrwxr-xr-x    1 root     root          4096 Feb 28 02:32 ..\ndrwxr-xr-x    1 fluent   fluent        4096 Feb  3 22:27 etc\ndrwxr-xr-x    2 fluent   fluent        4096 Feb  3 22:27 log\ndrwxr-xr-x    2 fluent   fluent        4096 Feb  3 22:27 plugins\n\n尝试使用 chmod 777 /fluentd/log 修改权限，但容器重启后权限设置没有保留。",
    "comments": [
      "@kmfb thank you for the detailed problem description and the debug information! @MasonXon @wayneliu0019, could you please take a look and confirm whether this is a bug?",
      "什么系统下运行的？",
      "> 什么系统下运行的？\n\n~/csghub/csghub$ uname -a\nLinux develop-intelnal-gpu-server-01 5.15.0-130-generic #140-Ubuntu SMP Wed Dec 18 17:59:53 UTC 2024 x86_64 x86_64 x86_64 GNU/Linux\n\n另外启动intall脚本文件的时候用的sudo，请问会不会是sudo导致的呢",
      "请检查下您的部署脚本中fluentd service有 `privileged: true`和`user: \"root\"`关键字，类似如下：\n\n```\n fluentd:\n    image: ${CSGHUB_IMAGE_PREFIX}/fluentd:v1.16-1\n    ports:\n      - \"24224:24224\"\n    volumes:\n      - ./configs/fluentd/fluent.conf:/fluentd/etc/fluent.conf\n      - ./logs/fluentd/archived:/fluentd/log\n      - ./logs/fluentd/buffer:/fluentd/buffer\n    restart: always\n    privileged: true\n    user: \"root\"\n    healthcheck:\n      test: [ \"CMD-SHELL\", \"nc -z fluentd 24224\" ]\n      interval: 10s\n      timeout: 30s\n      retries: 30\n    networks:\n      opencsg:\n        ipv4_address: 192.171.100.124\n```\n\n或者干脆把宿主机上挂载目录权限都更改为777:    chmod -R 777 ./logs",
      "> 请检查下您的部署脚本中fluentd service有 `privileged: true`和`user: \"root\"`关键字，类似如下：\n> \n> ```\n>  fluentd:\n>     image: ${CSGHUB_IMAGE_PREFIX}/fluentd:v1.16-1\n>     ports:\n>       - \"24224:24224\"\n>     volumes:\n>       - ./configs/fluentd/fluent.conf:/fluentd/etc/fluent.conf\n>       - ./logs/fluentd/archived:/fluentd/log\n>       - ./logs/fluentd/buffer:/fluentd/buffer\n>     restart: always\n>     privileged: true\n>     user: \"root\"\n>     healthcheck:\n>       test: [ \"CMD-SHELL\", \"nc -z fluentd 24224\" ]\n>       interval: 10s\n>       timeout: 30s\n>       retries: 30\n>     networks:\n>       opencsg:\n>         ipv4_address: 192.171.100.124\n> ```\n> \n> 或者干脆把宿主机上挂载目录权限都更改为777: chmod -R 777 ./logs\n\nfluentd:\nimage: ${CSGHUB_IMAGE_PREFIX}/fluentd:v1.16-1\nports:\n- \"24224:24224\"\nvolumes:\n- ./configs/fluentd/fluent.conf:/fluentd/etc/fluent.conf\n- ./logs/fluentd/archived:/fluentd/log\n- ./logs/fluentd/buffer:/fluentd/buffer\nrestart: always\nprivileged: true\nhealthcheck:\ntest: [ \"CMD-SHELL\", \"nc -z fluentd 24224\" ]\ninterval: 10s\ntimeout: 30s\nretries: 30\nnetworks:\nopencsg:\nipv4_address: 192.171.100.124\n\n这个配置来源于https://github.com/OpenCSGs/csghub-installer/releases/download/v1.4.0/csghub-docker-compose-v1.4.0.tgz",
      "我会在 1.4.1里面重新 fix 一下这个问题",
      "> 我会在 1.4.1里面重新 fix 一下这个问题\n\n要的，多谢，那我先用1.3版本可以吗？",
      "稍等，我再验证下",
      "这是个权限的问题，你使用最新的 1.4.1 的版本吧！如果是 1.4.0 的版本，修改下 `chown -R 100.100 logs/fluentd` 目录的权限就行了",
      "如果想直接修复这个问题，可以参考下这里：https://github.com/OpenCSGs/csghub-installer/pull/184/files",
      "> 这是个权限的问题，你使用最新的 1.4.1 的版本吧！如果是 1.4.0 的版本，修改下 `chown -R 100.100 logs/fluentd` 目录的权限就行了\n\nok，可以了，多谢"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/980"
  },
  {
    "id": "issue_976",
    "title": "docker-server服务中拉取镜像失败导致应用空间运行错误",
    "body": "平台报错：\n![Image](https://github.com/user-attachments/assets/65fea576-4610-48cb-813a-8fc701f18bb6)\n进到docker-server服务中手动拉取镜像报错：\n\n![Image](https://github.com/user-attachments/assets/f99de693-3076-4bb0-969a-86249475e65c)",
    "comments": [
      "I’ve tried starting a new CSGHub Docker Compose, entering the `docker-server` container, and pulling the `space-base` image, and everything worked fine. @xiaopengpeng Could you please provide more details or the steps to reproduce the issue so we can investigate further? Specifically, it would help if you could include:\n\n- How you're deploying CSGHub\n- The version you're using\n- Whether you're able to pull the `opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsg_space/space-base:python3.10` image successfully on your machine (not inside a Docker container)",
      "> I’ve tried starting a new CSGHub Docker Compose, entering the `docker-server` container, and pulling the `space-base` image, and everything worked fine. [@xiaopengpeng](https://github.com/xiaopengpeng) Could you please provide more details or the steps to reproduce the issue so we can investigate further? Specifically, it would help if you could include:\n> \n> * How you're deploying CSGHub\n> * The version you're using\n> * Whether you're able to pull the `opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsg_space/space-base:python3.10` image successfully on your machine (not inside a Docker container)\n\n你好，我是用的docker-compose安装的，版本是1.4，我自己本地可以拉取这个镜像，但是在容器中拉不到，在容器中ping镜像地址可以ping通，英文水平有限，sorry，不能用英文回复您。",
      "@xiaopengpeng Could you please confirm if you're using any proxy or VPN tools, such as v2ray? A failed docker pull but successful ping could potentially be caused by these tools.",
      "> I’ve tried starting a new CSGHub Docker Compose, entering the `docker-server` container, and pulling the `space-base` image, and everything worked fine. [@xiaopengpeng](https://github.com/xiaopengpeng) Could you please provide more details or the steps to reproduce the issue so we can investigate further? Specifically, it would help if you could include:\n> \n> * How you're deploying CSGHub\n> * The version you're using\n> * Whether you're able to pull the `opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsg_space/space-base:python3.10` image successfully on your machine (not inside a Docker container)\n\n@\n\n> [@xiaopengpeng](https://github.com/xiaopengpeng) Could you please confirm if you're using any proxy or VPN tools, such as v2ray? A failed docker pull but successful ping could potentially be caused by these tools.\n\n@Yiling-J 我可以确认，没有用到代理",
      "@MasonXon @wayneliu0019",
      "现在可以了吗？",
      "> 现在可以了吗？\n\n大佬，后边我还没有研究，目前的解决方案是在宿主机拉完镜像打包传到容器中。\n",
      "通常 docker compose 对这个并没有做什么限制，而且拉取的镜像是公网公开的地址，这里确实很奇怪"
    ],
    "state": "closed",
    "labels": [
      "needs more info"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/976"
  },
  {
    "id": "issue_969",
    "title": "Entry record query",
    "body": "How to query login access records, I query logs in the csghub-portal container, but it is not very intuitive, do I have a better way? ",
    "comments": [
      "@karypi In CSGHub, we're using Casdoor to do user login authorization, so you can find out the login records in Casdoor, which looks like this:\n\n<img width=\"1489\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/afe1d5c6-bff6-401f-83b3-3d1c89bc412e\" />",
      "> Casdoor\n\nI am using the v0.7 version of the online environment, there is no Casdoor you mentioned, is there another way?",
      "@karypi I got it, so if you're using version v0.7, it would be a different case.\n\nIn v0.7, we don't support Casdoor login authorization yet and it only supports an internal simple login system and in this login system, we didn't record the login records.\n\nI think you should upgrade the version to the latest and integrate it with your own Casdoor system and then you can have a full control on user login activities."
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/969"
  },
  {
    "id": "issue_966",
    "title": "GITEA_SSH_LISTEN_PORT",
    "body": "I would like to ask whether the variable GITEA_SSH_LISTEN_PORT corresponds to 2222 as a port in the container or as a port mapped to the host? Does it have to be exposed on the mainframe? If the mapping is set to 22222 on the host, do you need to change the value of this variable to 22222?",
    "comments": [
      "The GITEA_SSH_LISTEN_PORT specifies the SSH clone service port inside the container. This port must be exposed; otherwise, SSH cloning won't work. If you want to change the local SSH clone port to 22222, please modify the port mapping for the gitea service in your Docker Compose file to '22222:2222'. Additionally, please note that the Gitea version you're using is no longer being updated. We recommend upgrading to the latest version, which uses Gitaly as the Git server.",
      "Do I need to change the GITEA SSH LISTEN PORT to 22222?",
      "Don't need to change `GITEA_SSH_LISTEN_PORT`, just change the port mapping.",
      "I see. Thank you"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/966"
  },
  {
    "id": "issue_958",
    "title": "small problem in token.go",
    "body": "small problem in token.go\nwhen user‘s application is served over HTTPS should set  Secure flag and HttpOnly flag to true to prevent client-side scripts from accessing the cookie.\n \n`c.SetCookie(\"user_token\", r.Data.Token, 3600*24*7, \"/\", \"\", true, true)`",
    "comments": [
      "Happy to see your feedback. What's your thoughts on implementation? ",
      "That would be easy, Chang two 'false' to 'true' in the previous code.",
      "@zhuhejin Thanks for your suggestion! This is a great recommendation for improving security. These parameters should be configurable rather than hardcoded, and we're currently working on addressing this issue.",
      "@zhuhejin looking for your contribution on this issue \n@Yiling-J pls coordinate with this proposal for his contribution, thx ",
      "@Yiling-J csghub-server API needs to support reading `JWT` from http request `cookie`, before make this kind of change.",
      "As for `c.SetCookie(\"user_token\", r.Data.Token, 3600*24*7, \"/\", \"\", false, false)`\n\nthis last false can not be set to true, because we need to access this cookie in JS\n\nfor the second to last false, we can change to true if our server is served as https\n\nthanks for the contribution @zhuhejin \n\n"
    ],
    "state": "closed",
    "labels": [
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/958"
  },
  {
    "id": "issue_949",
    "title": "Better to support API invoking when using Serverless LLM",
    "body": "<!--\nPlease submit the Pull Requests in English to ensure smooth communication and quicker review process.\n-->\n\n/kind feature\n\n**Describe the solution you'd like**\n1. Login CSGHub and instantiate one serverless LLM like Deepseek\n2. There is one place in UI where I can see the API can invoke outside of CSGHub\n\n\n**Anything else you would like to add:**\n[Miscellaneous information that will assist in solving the issue.]\n\n\n**Links to the design documents or others:**",
    "comments": [
      "@KinglyWayne @chhao pls get this feature in next release backlog ",
      "> /kind feature\n> \n> **Describe the solution you'd like**\n> \n> 1. Login CSGHub and instantiate one serverless LLM like Deepseek\n> 2. There is one place in UI where I can see the API can invoke outside of CSGHub\n> \n> **Anything else you would like to add:** [Miscellaneous information that will assist in solving the issue.]\n> \n> **Links to the design documents or others:**\n\nThank you for your suggestion. We will discuss and work on implementing this feature as soon as possible.\n",
      "gitlab-issue-361",
      "https://github.com/OpenCSGs/csghub/pull/1027\n\nAs this feature has been successfully implemented and released, we are closing this issue. Thank you for your contribution. @ymh6315431 \n\n<img width=\"1411\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7e3fe808-c7a1-4735-b569-bc824f5599ce\" />"
    ],
    "state": "closed",
    "labels": [
      "enhancement",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/949"
  },
  {
    "id": "issue_938",
    "title": "Failed to use git clone model repository",
    "body": "<!--\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\n-->\n**Describe the bug**\n\n![Image](https://github.com/user-attachments/assets/fd4fe3d5-dad4-42a9-8e14-4e05392403bc)\n\nIt failed to directly clone the unsynchronized model. You need to click Sync before you can clone.\n\n![Image](https://github.com/user-attachments/assets/2d48159c-808c-4327-9065-95ab02d69b42)\n\n**Environment**\nCSGHub Version: v0.7|v0.8|...\nOS: MacOS..\nHardware: 2c4G | 4c8G |...\nLaunch:  docker compose |\n\n\n**To Reproduce**\nSteps to reproduce the behavior:\n1. Refer to the [Docker one-click deployment guide] (https://github.com/OpenCSGs/csghub-installer/tree/main/docker) installer\n2. After opening the page, select any model and execute git clone.\n\n**Expected behavior**\n1. Unsynchronized models, it is forbidden to click the model download button or prompt the user for unsynchronized models, and cannot be cloned.\n\n",
    "comments": [
      "> **Describe the bug**\n> \n> ![Image](https://github.com/user-attachments/assets/fd4fe3d5-dad4-42a9-8e14-4e05392403bc)\n> \n> It failed to directly clone the unsynchronized model. You need to click Sync before you can clone.\n> \n> ![Image](https://github.com/user-attachments/assets/2d48159c-808c-4327-9065-95ab02d69b42)\n> \n> **Environment** CSGHub Version: v0.7|v0.8|... OS: MacOS.. Hardware: 2c4G | 4c8G |... Launch: docker compose |\n> \n> **To Reproduce** Steps to reproduce the behavior:\n> \n> 1. Refer to the [Docker one-click deployment guide] (https://github.com/OpenCSGs/csghub-installer/tree/main/docker) installer\n> 2. After opening the page, select any model and execute git clone.\n> \n> **Expected behavior**\n> \n> 1. Unsynchronized models, it is forbidden to click the model download button or prompt the user for unsynchronized models, and cannot be cloned.\n\nThanks for your feedback! We'll address this and work on improvements soon.",
      "@jialudev please provide the gitlab issue id like this in comment:\n\ngitlab-issue-xxx",
      "> [@jialudev](https://github.com/jialudev) please provide the gitlab issue id like this in comment:\n> \n> gitlab-issue-xxx\n\nGot.\n\ngitlab-issue-351",
      "@zhendi i think we have disabled the \"Clone\" button if repo not already synced. Can you confirm the release version ?"
    ],
    "state": "closed",
    "labels": [
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/938"
  },
  {
    "id": "issue_919",
    "title": "How to deploy deepseek-r1:1.5b or any LLM model using csghub on a linux serve for demo purpose？",
    "body": "Hi Team,\n\nI would like to deploy `deepseek-r1:1.5b` or any other LLM model on a Linux server using CSGHub for demo purposes. \n\nCould you please provide a step-by-step tutorial or a video guide? A tutorial in Chinese is also acceptable.\n\n\nLooking forward to your guidance!\n\n",
    "comments": [
      "CSGHub provide several different way to build llm app.\nYou could use inference endpoint to hold llm server or build gradio/streamlint app to host a demo app.\nYou could check our offical doc for inference\nhttps://opencsg.com/docs/inferencefinetune/inference_finetune_intro\ncurrently hf-tgi/vllm/sglang are supported, llamacpp/ollama is in the plan.\nIf you are familar with  gradio or streamlit, you could try space funtion as well.",
      "For deepseek r1 model, as i know, to run r1 or r1_zero you would have at least 2*8 h100 gpu or more.\nPersonally  I would suggest you to try ds-distill-qwen or ds-distill-llama which could be loaded with tgi or vllm at a decent gpu requirment.  For even lower gpu(such as single gpu), you could use vllm to serve awq quant version . All those funtions are supportted now.\nIf you meet any problem, feel free to comment😄"
    ],
    "state": "open",
    "labels": [
      "waiting for feedback"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/919"
  },
  {
    "id": "issue_900",
    "title": "error: git push",
    "body": " git push\r\nUploading LFS objects:   0% (0/3), 0 B | 0 B/s, done.\r\nLFS: Put \"http://127.0.0.1:9000/csghub-server/lfs/69/1d/ace7c6c5274944cdf35f89bb50671150505c215e71c34b1d5fa043b5ab04?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minio%2F20250113%2Fcn-north-1%2Fs3%2Faws4_request&X-Amz-Date=20250113T103827Z&X-Amz-Expires=86400&X-Amz-SignedHeaders=host&X-Amz-Signature=1c8803d7d933c2b1c91b389a30cccccffda1c9b9396a448ed878ad5111cd6188\": dial tcp 127.0.0.1:9000: connectex: No connection could be made because the target machine actively refused it.\r\n",
    "comments": [
      "please check if the `minio` service successfully listenin on port 9000.",
      "+1\n",
      "@VanLan5 @yaoice \n\nCould you please provide more details about this issue? Specifically, include the following information:\n\n- How did you install CSGHub?\n- Which version are you using?\n- Did this issue occur from the first time you started CSGHub, or was it working previously and then stopped?\n\nAdditionally, as @Rader  suggested, please check your Docker containers to ensure Minio is running, if you’re deploying CSGHub using Docker Compose.\n",
      "close as no reponse"
    ],
    "state": "closed",
    "labels": [
      "waiting for feedback"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/900"
  },
  {
    "id": "issue_894",
    "title": "docker compose failed to start, csghub-server-1 is unhealthy",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\n```\r\nroot@fhv-devcsghub-01 /data/nfs/csghub/docker-compose-ori # bash startup.sh\r\n[2025-01-10 15:34:15] [NORM] Current configured domain name is 10.0.36.67.\r\n[2025-01-10 15:34:15] [NORM] Nginx Main:\r\n[2025-01-10 15:34:15] [INFO] - render nginx configuration file.\r\n[2025-01-10 15:34:15] [INFO] - generate temporal auth file.\r\n[2025-01-10 15:34:16] [NORM] CoreDNS:\r\n[2025-01-10 15:34:16] [INFO] - render coredns Corefile.\r\n[2025-01-10 15:34:16] [INFO] - generate CoreDNS reverse parsing files.\r\n[2025-01-10 15:34:16] [NORM] Minio:\r\n[2025-01-10 15:34:16] [INFO] - create data directories.\r\n[2025-01-10 15:34:16] [NORM] Registry:\r\n[2025-01-10 15:34:16] [INFO] - create config directories.\r\n[2025-01-10 15:34:16] [INFO] - generate registry auth file.\r\n[2025-01-10 15:34:16] [NORM] Gitaly:\r\n[2025-01-10 15:34:16] [INFO] - render configuration file.\r\n[2025-01-10 15:34:16] [NORM] Gitlab-Shell:\r\n[2025-01-10 15:34:16] [INFO] - generate gitaly auth file.\r\n[2025-01-10 15:34:16] [INFO] - generate host key pairs for gitlab-shell.\r\n[2025-01-10 15:34:16] [WARN] - ssh_host_rsa_key pair already exists.\r\n[2025-01-10 15:34:16] [WARN] - ssh_host_ecdsa_key pair already exists.\r\n[2025-01-10 15:34:16] [WARN] - ssh_host_ed25519_key pair already exists.\r\n[2025-01-10 15:34:16] [NORM] Csghub_Space_Builder:\r\n[2025-01-10 15:34:16] [INFO] - render docker daemon file.\r\n[2025-01-10 15:34:16] [INFO] - render docker config file.\r\n[2025-01-10 15:34:16] [NORM] Nats:\r\n[2025-01-10 15:34:16] [INFO] - render nats config file.\r\n[2025-01-10 15:34:16] [NORM] Casdoor:\r\n[2025-01-10 15:34:16] [INFO] - render casdoor init_data file.\r\n[2025-01-10 15:34:16] [INFO] - render casdoor config file.\r\n[2025-01-10 15:34:16] [NORM] Csghub_Proxy_Nginx:\r\n[2025-01-10 15:34:16] [INFO] - render proxy nginx config file.\r\n[2025-01-10 15:34:16] [NORM] Starting services...\r\n[+] Running 17/20\r\n ⠦ Network docker-compose-ori_opencsg                 Created                                                 13.6s \r\n ✔ Container docker-compose-ori-nats-1                Started                                                  1.3s \r\n ✔ Container docker-compose-ori-redis-1               Started                                                  1.5s \r\n ✔ Container docker-compose-ori-registry-1            Started                                                  1.0s \r\n ✔ Container docker-compose-ori-postgres-1            Started                                                  1.4s \r\n ✔ Container docker-compose-ori-gitaly-1              Started                                                  1.0s \r\n ✔ Container docker-compose-ori-minio-1               Started                                                  1.3s \r\n ✔ Container docker-compose-ori-temporal-1            Started                                                  2.4s \r\n ✔ Container docker-compose-ori-gitlab-shell-1        Started                                                  2.1s \r\n ✔ Container docker-compose-ori-casdoor-1             Healthy                                                 13.4s \r\n ✔ Container docker-compose-ori-csghub-portal-1       Starte...                                                2.8s \r\n ✔ Container docker-compose-ori-temporal-ui-1         Started                                                  3.3s \r\n ✘ Container docker-compose-ori-csghub-server-1       Error                                                    7.0s \r\n ✔ Container docker-compose-ori-csghub-proxy-1        Started                                                  5.1s \r\n ⠸ Container docker-compose-ori-nginx-1               Created                                                 13.3s \r\n ✔ Container docker-compose-ori-csghub-mirror-repo-1  S...                                                     4.6s \r\n ⠸ Container docker-compose-ori-csghub-db-init-1      Creat...                                                13.3s \r\n ✔ Container docker-compose-ori-csghub-user-1         Started                                                  4.6s \r\n ✔ Container docker-compose-ori-csghub-mirror-lfs-1   St...                                                    4.8s \r\n ✔ Container docker-compose-ori-csghub-accounting-1   St...                                                    5.1s \r\ndependency failed to start: container docker-compose-ori-csghub-server-1 is unhealthy\r\n```\r\n---\r\n```\r\nroot@fhv-devcsghub-01 /data/nfs/csghub/docker-compose-ori # docker logs -f docker-compose-ori-csghub-server-1\r\nDatabase setup...\r\nMigration init\r\ninit logger, level: INFO, format: json\r\nMigration migrate\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2025-01-10T07:34:22.652590318Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\r\nTrigger multisync once in background\r\nStart server...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2025-01-10T07:34:23.626796384Z\",\"level\":\"INFO\",\"msg\":\"FIFOScheduler run started\"}\r\n2025/01/10 07:34:23 INFO  No logger configured for temporal client. Created default one.\r\nError: unable to create workflow client, error: failed reaching server: last connection error: connection error: desc = \"transport: Error while dialing: dial tcp 192.171.100.122:7233: connect: connection refused\"\r\nDatabase setup...\r\nMigration init\r\ninit logger, level: INFO, format: json\r\nMigration migrate\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2025-01-10T07:34:25.700792256Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\r\nTrigger multisync once in background\r\nStart server...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2025-01-10T07:34:26.588432132Z\",\"level\":\"INFO\",\"msg\":\"FIFOScheduler run started\"}\r\n{\"time\":\"2025-01-10T07:34:26.654411105Z\",\"level\":\"ERROR\",\"msg\":\"failed to get all service status\",\"error\":\"Get \\\"http://csghub-runner:8082/api/v1/service/status-all\\\": dial tcp: lookup csghub-runner on 127.0.0.11:53: no such host\"}\r\n2025/01/10 07:34:26 INFO  No logger configured for temporal client. Created default one.\r\nError: failed to register cron jobs:  unable to create schedule, error:expected 0 args for function: SyncAsClientWorkflow but found 1\r\nDatabase setup...\r\nMigration init\r\ninit logger, level: INFO, format: json\r\nMigration migrate\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2025-01-10T07:34:30.469571043Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\r\nTrigger multisync once in background\r\nStart server...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2025-01-10T07:34:30.971572671Z\",\"level\":\"INFO\",\"msg\":\"FIFOScheduler run started\"}\r\n{\"time\":\"2025-01-10T07:34:31.036007227Z\",\"level\":\"ERROR\",\"msg\":\"failed to get all service status\",\"error\":\"Get \\\"http://csghub-runner:8082/api/v1/service/status-all\\\": dial tcp: lookup csghub-runner on 127.0.0.11:53: no such host\"}\r\n2025/01/10 07:34:31 INFO  No logger configured for temporal client. Created default one.\r\nError: failed to register cron jobs:  unable to create schedule, error:expected 0 args for function: SyncAsClientWorkflow but found 1\r\nDatabase setup...\r\nMigration init\r\ninit logger, level: INFO, format: json\r\nMigration migrate\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2025-01-10T07:34:34.094583944Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\r\nTrigger multisync once in background\r\nStart server...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2025-01-10T07:34:34.500603614Z\",\"level\":\"INFO\",\"msg\":\"FIFOScheduler run started\"}\r\n2025/01/10 07:34:34 INFO  No logger configured for temporal client. Created default one.\r\n{\"time\":\"2025-01-10T07:34:34.53463916Z\",\"level\":\"ERROR\",\"msg\":\"failed to get all service status\",\"error\":\"Get \\\"http://csghub-runner:8082/api/v1/service/status-all\\\": dial tcp: lookup csghub-runner on 127.0.0.11:53: no such host\"}\r\nError: failed to register cron jobs:  unable to create schedule, error:expected 0 args for function: SyncAsClientWorkflow but found 1\r\nDatabase setup...\r\nMigration init\r\ninit logger, level: INFO, format: json\r\nMigration migrate\r\ninit logger, level: INFO, format: json\r\n```\r\nThen I looked at the temporal container's log:\r\n```\r\ntime=2025-01-10T07:34:24.889 level=ERROR msg=\"failed reaching server: last connection error: connection error: desc = \\\"transport: Error while dialing: dial tcp 192.171.100.122:7233: connect: connection refused\\\"\"\r\n```\r\n**Environment**\r\nCSGHub Version: v0.7|v0.8|...\r\nOS: Linux | Windows | MacOS..\r\nHardware: 2c4G | 4c8G |...\r\nLaunch:  docker compose | helm chart\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nThe latest docker compose file, after changing the host IP in the` .env` file, executed `bash startup.sh`.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n",
    "comments": [
      "I found that the error seems to be:\r\n```\r\n{\"time\":\"2025-01-10T08:41:55.275285734Z\",\"level\":\"ERROR\",\"msg\":\"failed to get all service status\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp [::1]:8082: connect: connection refused\"}\r\n```\r\nBut i did not run any runner-related functions.",
      "It seems you didn't start by release v1.2.3, It's main branch?",
      "> It seems you didn't start by release v1.2.3, It's main branch?\r\n\r\nYes, I am using: https://github.com/OpenCSGs/csghub-installer/tree/main/docker-compose",
      "if your csghub is not configured a k8s to work with, then you can ignore  below error\r\n`{\"time\":\"2025-01-10T08:41:55.275285734Z\",\"level\":\"ERROR\",\"msg\":\"failed to get all service status\",\"error\":\"Get \\\"http://localhost:8082/api/v1/service/status-all\\\": dial tcp [::1]:8082: connect: connection refused\"}`  @Tendo33 ",
      "@Tendo33 Please using  package in release v1.2.3, It has a bug in main that we haven't fixed.",
      "@wayneliu0019 this error cause csghub-server cannot be started `Error: failed to register cron jobs:  unable to create schedule, error:expected 0 args for function: SyncAsClientWorkflow but found 1`, this is a known bug.",
      "@Yiling-J pleas have a look",
      "@Tendo33 When you use the [csghub-installer](https://github.com/OpenCSGs/csghub-installer/tree/main/docker-compose) main branch, it installs the nightly version of CSGHub, which is built every night from the main branch of CSGHub. Please note that the main branch is under active development, and we cannot guarantee stability.  To resolve the issue you encountered, please switch to the csghub-installer **release branch** and try again. sorry for the inconvenience and we’ll work on improving the README to clarify this."
    ],
    "state": "closed",
    "labels": [
      "documentation",
      "waiting for feedback"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/894"
  },
  {
    "id": "issue_891",
    "title": "数据集或者模型集的导入",
    "body": "现在导入数据集或者模型，我要新建一个集合，然后clone到本地，然后在本地add，commit，push。\r\n但是有些大模型或者大数据集，我已经从Modelscope或者huggingface拉到本地了，能否在持久化的目录中直接导入，而不是再add、commit、push。",
    "comments": [
      "@AwsomeName 请问是本地部署的吗？",
      "Please confirm whether the current data directory is generated by the current csghub docker compose installation package. If not, please refer to here to migrate. \r\nlook at release instructions: https://github.com/OpenCSGs/csghub-installer/releases/tag/v1.2.3",
      "close as no response"
    ],
    "state": "closed",
    "labels": [
      "needs more info"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/891"
  },
  {
    "id": "issue_885",
    "title": "登录失败",
    "body": "手动部署完前后端之后\r\n登录成功时前端显示：\r\n{\r\n    \"status\": \"error\",\r\n    \"msg\": \"Unauthorized operation\",\r\n    \"data\": null,\r\n    \"data2\": null\r\n}\r\n\r\n\r\n后端打印：\r\n{\"time\":\"2024-12-31T11:21:25.676151366+08:00\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"192.168.1.65\",\"method\":\"GET\",\"latency(ms)\":25,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/callback/casdoor?code=db36616a98e9883163fa&state=casdoor\"}\r\n\r\n\r\n",
    "comments": [
      "casdoor 授权登陆成功之后，会回掉到 server 一侧，即你看到的： /api/v1/callback/casdoor?code=db36616a98e9883163fa&state=casdoor，这个时候 server 会进行 code 到 access token 和用户信息的转换，这个依赖于你有一个可用和正确的 casdoor 配置。\r\n\r\n从这个错误信息看，你的 server 一侧的 casdoor 配置有问题",
      "@xian952777 xian 安装时修改过哪些配置？",
      "close as no response"
    ],
    "state": "closed",
    "labels": [
      "needs more info"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/885"
  },
  {
    "id": "issue_879",
    "title": "Issues with git pulling after deploying the project on the server and problems with downloading files on the webpage",
    "body": "1.Deployed the project on a cloud server using fast deployment (utilizing my own domain for deployment).\r\n2.Created a dataset called \"test\" on the deployed website and uploaded a WAV audio file on the page.\r\n3.Cloned the \"test\" dataset on my own computer.\r\nD:\\wlzn\\modelscape\\test>git clone http://xxx/datasets/sjshen/test.git\r\nCloning into 'test'...\r\nremote: Enumerating objects: 9, done.\r\nremote: Counting objects: 100% (9/9), done.\r\nremote: Compressing objects: 100% (7/7), done.\r\nremote: Total 9 (delta 2), reused 0 (delta 0), pack-reused 0\r\nReceiving objects: 100% (9/9), done.\r\nResolving deltas: 100% (2/2), done.\r\nDownloading combined_0.wav (947 KB)\r\nError downloading object: combined_0.wav (decf5aa): Smudge error: Error downloading combined_0.wav (decf5aa6c71d8bfde29868e6def977f26bdaa27834307cfd5146ec4a54b5d06f): LFS: Get \"http://127.0.0.1:9000/csghub-server/lfs/de/cf/5aa6c71d8bfde29868e6def977f26bdaa27834307cfd5146ec4a54b5d06f?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minio%2F20241225%2Fcn-north-1%2Fs3%2Faws4_request&X-Amz-Date=20241225T082828Z&X-Amz-Expires=259200&X-Amz-SignedHeaders=host&X-Amz-Signature=1f63d5168d50447f7ead18c4d7bdeef47e8c767b8f6de9b5a305e253db1fea12\": dial tcp 127.0.0.1:9000: connectex: No connection could be made because the target machine actively refused it.\r\n\r\nI see that the error message is \"127.0.0.1:9000 refused access\". Could you please advise me on how to correct this issue?\r\n\r\nOn the webpage, when I click the download button for this audio, the interface also throws an error.\r\n![image](https://github.com/user-attachments/assets/35b68b9a-e226-4223-834e-be5af43b2893)\r\n",
    "comments": [
      "Is it Alicloud?",
      "@Rader pls check it out ",
      "This is a backend bug, which is being fixed.",
      "@MasonXon any github issue related?",
      "Ref: https://github.com/OpenCSGs/csghub-installer/issues/86， This problem can be easily reproduced from ce\r\n",
      "same error here",
      "gitlab-issue-341"
    ],
    "state": "closed",
    "labels": [
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/879"
  },
  {
    "id": "issue_878",
    "title": "After completing user registration, the login prompt fails",
    "body": "{\r\n  \"msg\": \"failed to signin: failed to create user,error:failed to create user in db,error:ERROR: duplicate key value violates unique constraint \\\"idx_users_username\\\" (SQLSTATE=23505)\"\r\n}",
    "comments": [
      "Thanks for sharing your information. \nMay I know what kinda installation you used? Is it on-prem? Or SaaS? ",
      "@ccutwangning Thank you for reporting this issue! To help us investigate further, could you please provide more detailed information? Specifically:\r\n\r\n- How did you install the software (docker compose or helm or ominibus)?\r\n- What steps did you take before encountering this issue?\r\n\r\nThese details will help us reproduce the problem and work towards a solution. We appreciate your feedback!",
      "> @ccutwangning Thank you for reporting this issue! To help us investigate further, could you please provide more detailed information? Specifically:\r\n> \r\n> * How did you install the software (docker compose or helm or ominibus)?\r\n> * What steps did you take before encountering this issue?\r\n> \r\n> These details will help us reproduce the problem and work towards a solution. We appreciate your feedback!\r\n\r\nSaaS ",
      "> Thanks for sharing your information. May I know what kinda installation you used? Is it on-prem? Or SaaS?\r\n\r\nSaaS",
      "@ccutwangning could you please provide your registration information, like username, email and phone please?",
      "> @ccutwangning could you please provide your registration information, like username, email and phone please?\r\nI forgot what name I registered, and I feel that providing my phone number and other information here is not professional enough, duplicate key value violates unique constraint \\\"idx_users_username\r\nIs it easy to locate duplicate usernames in the library\r\nProbably containing letters like ccutwangning\r\n",
      "> I forgot what name I registered, and I feel that providing my phone number and other information here is not professional enough, duplicate key value violates unique constraint \"idx_users_username\r\n\r\nI found a registered account which has a name 'wangning7' and phone '137****3867', which is similar to what you have provided. Not sure is it the one you are referring to?",
      "close as no response"
    ],
    "state": "closed",
    "labels": [
      "needs more info"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/878"
  },
  {
    "id": "issue_870",
    "title": "CodeSouler login issue",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nCodesouler Sign In could not refresh after Login in opencsg loginpage\r\n\r\n**Environment**\r\nOS: Windows | Windsurf with CodeSouler plugin\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Click CodeSouler plugin in Windsurf\r\n2. Click on 'Sign in' Button, go to opencsg.com login page\r\n3. Enter user/pwd, Login Success page show up 'https://opencsg.com/ide-login-success'\r\n![image](https://github.com/user-attachments/assets/978238ce-e9d4-4d2d-9a1a-ce9fb13ed644)\r\n5. No any action in CodeSouler plugin login page\r\n<img width=\"311\" alt=\"1735049091731\" src=\"https://github.com/user-attachments/assets/4240a939-a59c-48b6-982b-d95c74db55ff\" />\r\n\r\nIt happens randomly, once I tried again, everything goes well, so log a issue to track that. \r\n**Expected behavior**\r\nCodeSouler should login succeful. \r\n",
    "comments": [
      "@KinglyWayne pls contact Alan for this. ",
      "@lixjohn can you successfully login now? \r\nby the way, try to update the Code Souler plugin.",
      "I tried again, it works now. However, as I mentioned it happens randomly, so it might be connectoin issue? I close it first and will report once it happens again. Thanks for following up. "
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/870"
  },
  {
    "id": "issue_868",
    "title": "Windows version is incompatible",
    "body": "When running the backend on Windows, I am prompted that the version of D: \\ code \\ go \\ csghub main \\ frontend \\ tpp \\ main.exe is not compatible with the version of Windows you are running. Please check the system information of your computer and then contact the software publisher. May I ask which version is compatible",
    "comments": [
      "May I know why you wanted to install windows? What's the major reasons? ",
      "@xian952777  Could you tell me the detail information about your csghub deployment scenario? including csghub version, deploy context(windows powershell or WSL), error message, etc...\r\n\r\nUnder Windows environment, we recommend that you use WSL to deploy CSGHub instance， it is still not stable on  Powershell. \r\n\r\nthanks! ",
      "close as no response"
    ],
    "state": "closed",
    "labels": [
      "needs more info"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/868"
  },
  {
    "id": "issue_860",
    "title": "mac m1  Docker one-click deployment guide error",
    "body": "Follow https://github.com/OpenCSGs/csghub-installer/tree/main/docker\r\nmacOS \r\n\r\n```\r\nexport SERVER_DOMAIN=$(ipconfig getifaddr $(route get default | grep interface | awk '{print $2}'))\r\nexport SERVER_PORT=80\r\ndocker run -it -d \\\r\n    --name omnibus-csghub \\\r\n    --hostname omnibus-csghub \\\r\n    -p ${SERVER_PORT}:80 \\\r\n    -p 2222:2222 \\\r\n    -p 8000:8000 \\\r\n    -p 9000:9000 \\\r\n    -v ~/Documents/csghub/data:/var/opt \\\r\n    -v ~/Documents/csghub/log:/var/log \\\r\n    -e SERVER_DOMAIN=${SERVER_DOMAIN} \\\r\n    -e SERVER_PORT=${SERVER_PORT} \\\r\n    opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsg_public/omnibus-csghub:latest\r\n```\r\n\r\nErrors:\r\n\r\n```\r\nApply environments variables.\r\nCreating directories.\r\n2024-12-17 11:08:28,375 INFO Set uid to user 0 succeeded\r\n2024-12-17 11:08:28,376 INFO RPC interface 'supervisor' initialized\r\n2024-12-17 11:08:28,376 INFO supervisord started with pid 54\r\n2024-12-17 11:08:29,384 INFO spawned: 'casdoor' with pid 55\r\n2024-12-17 11:08:29,387 INFO spawned: 'csghub-accounting' with pid 56\r\n2024-12-17 11:08:29,390 INFO spawned: 'csghub-portal' with pid 57\r\n2024-12-17 11:08:29,393 INFO spawned: 'csghub-rproxy' with pid 61\r\n2024-12-17 11:08:29,396 INFO spawned: 'csghub-runner' with pid 63\r\n2024-12-17 11:08:29,398 INFO spawned: 'csghub-server' with pid 66\r\n2024-12-17 11:08:29,401 INFO spawned: 'csghub-user' with pid 69\r\n2024-12-17 11:08:29,402 INFO spawned: 'dnsmasq' with pid 71\r\n2024-12-17 11:08:29,405 INFO spawned: 'gitaly' with pid 73\r\n2024-12-17 11:08:29,407 INFO spawned: 'gitlab-shell' with pid 76\r\n2024-12-17 11:08:29,409 INFO spawned: 'k8s-init-job' with pid 79\r\n2024-12-17 11:08:29,411 INFO spawned: 'logger' with pid 82\r\n2024-12-17 11:08:29,415 INFO spawned: 'minio' with pid 89\r\n2024-12-17 11:08:29,417 INFO spawned: 'minio-init-job' with pid 92\r\n2024-12-17 11:08:29,419 INFO spawned: 'mirror-init-job' with pid 104\r\n2024-12-17 11:08:29,421 INFO spawned: 'mirror-lfs' with pid 109\r\n2024-12-17 11:08:29,423 INFO spawned: 'mirror-repo' with pid 114\r\n2024-12-17 11:08:29,425 INFO spawned: 'nats' with pid 120\r\n2024-12-17 11:08:29,428 INFO spawned: 'nginx' with pid 128\r\n2024-12-17 11:08:29,430 INFO spawned: 'postgres-init-job' with pid 131\r\n2024-12-17 11:08:29,433 INFO spawned: 'postgresql' with pid 134\r\n2024-12-17 11:08:29,435 INFO spawned: 'redis' with pid 139\r\n2024-12-17 11:08:29,438 INFO spawned: 'registry' with pid 141\r\n2024-12-17 11:08:29,440 INFO spawned: 'seed-init-job' with pid 150\r\n2024-12-17 11:08:29,442 INFO spawned: 'space-builder' with pid 155\r\n2024-12-17 11:08:29,445 INFO spawned: 'temporal' with pid 158\r\n2024-12-17 11:08:29,449 INFO spawned: 'temporal-ui' with pid 168\r\n2024-12-17 11:08:29,450 INFO exited: k8s-init-job (exit status 0; expected)\r\n\r\n===== /var/log/gitlab-shell/gitlab-shell.log ==================\r\n\r\n===== /var/log/csghub-runner/k8s-init-job.log =================\r\n0\r\nls: cannot access '/etc/.kube/config*': No such file or directory\r\nNon clusters detected.\r\n2024-12-17 11:08:29,456 INFO success: minio-init-job entered RUNNING state, process has stayed up for > than 0 seconds (startsecs)\r\n2024-12-17 11:08:29,457 INFO success: mirror-init-job entered RUNNING state, process has stayed up for > than 0 seconds (startsecs)\r\n2024-12-17 11:08:29,457 INFO success: postgres-init-job entered RUNNING state, process has stayed up for > than 0 seconds (startsecs)\r\n2024-12-17 11:08:29,457 INFO success: seed-init-job entered RUNNING state, process has stayed up for > than 0 seconds (startsecs)\r\n2024-12-17 11:08:30,686 INFO success: logger entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\r\n2024-12-17 11:08:31,529 INFO exited: minio-init-job (exit status 0; expected)\r\n\r\n===== /var/log/minio/minio-init-job.log =======================\r\nWaiting MinIO ready...\r\nMinIO is ready.\r\nInitialize minio buckets\r\nAdded `myMinio` successfully.\r\nBucket created successfully `myMinio/csghub-server`.\r\nBucket created successfully `myMinio/csghub-portal`.\r\nBucket created successfully `myMinio/csghub-registry`.\r\n2024-12-17 11:08:32,220 INFO exited: postgres-init-job (exit status 0; expected)\r\n\r\n===== /var/log/postgresql/postgres-init-job.log ===============\r\nWaiting PostgreSQL ready...\r\n/var/run/postgresql:5432 - no response\r\n/var/run/postgresql:5432 - accepting connections\r\nPostgreSQL is ready.\r\nInitialize postgres databases\r\nCREATE ROLE\r\nCREATE DATABASE\r\nGRANT\r\nCREATE ROLE\r\nCREATE DATABASE\r\nGRANT\r\nCREATE ROLE\r\nCREATE DATABASE\r\nGRANT\r\nCREATE ROLE\r\nCREATE DATABASE\r\nGRANT\r\nALTER ROLE\r\n2024-12-17 11:08:33,587 WARN exited: csghub-portal (exit status 2; not expected)\r\n\r\n===== /var/log/csghub-portal/csghub-portal.log ================\r\nWaiting PostgreSQL ready...\r\nPostgreSQL is ready.\r\nWaiting MinIO ready...\r\nMinIO is ready.\r\nInitializing database migrations...\r\ninit logger, level: INFO, format: json\r\nRunning database migrations...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:33.573254711Z\",\"level\":\"INFO\",\"msg\":\"migrated to group #1 (20240902082008_create_admin_photo)\"}\r\nStarting portal...\r\ninit logger, level: INFO, format: json\r\npanic: template: pattern matches no files: `prompts/assistant.html`\r\n\r\ngoroutine 1 [running]:\r\nopencsg.com/portal/internal/routes.createRender()\r\n        /myapp/internal/routes/router.go:169 +0x4bc\r\nopencsg.com/portal/internal/routes.Initialize(0x4000118008)\r\n        /myapp/internal/routes/router.go:90 +0x3d8\r\nopencsg.com/portal/cmd/csghub-portal/cmd/start.init.func1(0x40002a3000?, {0xaba598?, 0x4?, 0xaba59c?})\r\n        /myapp/cmd/csghub-portal/cmd/start/server.go:35 +0x120\r\ngithub.com/spf13/cobra.(*Command).execute(0x175e3a0, {0x17966e0, 0x0, 0x0})\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:985 +0x834\r\ngithub.com/spf13/cobra.(*Command).ExecuteC(0x175c400)\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1117 +0x344\r\ngithub.com/spf13/cobra.(*Command).Execute(...)\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1041\r\ngithub.com/spf13/cobra.(*Command).ExecuteContext(0x40003cbf38?, {0x10d08f0?, 0x17966e0?})\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1034 +0x48\r\nmain.main()\r\n        /myapp/cmd/csghub-portal/main.go:12 +0x34\r\n2024-12-17 11:08:34,112 WARN exited: csghub-server (exit status 1; not expected)\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\nWaiting PostgreSQL ready...\r\nPostgreSQL is ready.\r\nWaiting MinIO ready...\r\nMinIO is ready.\r\nDatabase setup...\r\nMigration init\r\ninit logger, level: INFO, format: json\r\nMigration migrate\r\ninit logger, level: INFO, format: json\r\nInsert data successfully\r\nInsert data successfully\r\n{\"time\":\"2024-12-17T11:08:34.059450294Z\",\"level\":\"INFO\",\"msg\":\"migrated to group #1 (115 migrations (20231118022757 ... 20241126071538))\"}\r\nReset temporary environments\r\nStarting server...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:34.088742669Z\",\"level\":\"INFO\",\"msg\":\"FIFOScheduler run started\"}\r\n{\"time\":\"2024-12-17T11:08:34.088893628Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024/12/17 11:08:34 INFO  No logger configured for temporal client. Created default one.\r\nError: failed to start worker:  unable to create workflow client, error:failed reaching server: last connection error: connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:7233: connect: connection refused\"\r\n2024-12-17 11:08:35,250 INFO spawned: 'csghub-portal' with pid 646\r\n2024-12-17 11:08:35,252 INFO spawned: 'csghub-server' with pid 647\r\n\r\n===== /var/log/csghub-portal/csghub-portal.log ================\r\nWaiting PostgreSQL ready...\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\nWaiting PostgreSQL ready...\r\n\r\n===== /var/log/csghub-portal/csghub-portal.log ================\r\nPostgreSQL is ready.\r\nWaiting MinIO ready...\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\nPostgreSQL is ready.\r\nWaiting MinIO ready...\r\nMinIO is ready.\r\nDatabase setup...\r\nMigration init\r\n\r\n===== /var/log/csghub-portal/csghub-portal.log ================\r\nMinIO is ready.\r\nInitializing database migrations...\r\ninit logger, level: INFO, format: json\r\nRunning database migrations...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:35.320748462Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\r\nStarting portal...\r\ninit logger, level: INFO, format: json\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\ninit logger, level: INFO, format: json\r\nMigration migrate\r\n\r\n===== /var/log/csghub-portal/csghub-portal.log ================\r\n2024-12-17 11:08:35,335 WARN exited: csghub-portal (exit status 2; not expected)\r\npanic: template: pattern matches no files: `prompts/assistant.html`\r\n\r\ngoroutine 1 [running]:\r\nopencsg.com/portal/internal/routes.createRender()\r\n        /myapp/internal/routes/router.go:169 +0x4bc\r\nopencsg.com/portal/internal/routes.Initialize(0x400048c008)\r\n        /myapp/internal/routes/router.go:90 +0x3d8\r\nopencsg.com/portal/cmd/csghub-portal/cmd/start.init.func1(0x40002b9000?, {0xaba598?, 0x4?, 0xaba59c?})\r\n        /myapp/cmd/csghub-portal/cmd/start/server.go:35 +0x120\r\ngithub.com/spf13/cobra.(*Command).execute(0x175e3a0, {0x17966e0, 0x0, 0x0})\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:985 +0x834\r\ngithub.com/spf13/cobra.(*Command).ExecuteC(0x175c400)\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1117 +0x344\r\ngithub.com/spf13/cobra.(*Command).Execute(...)\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1041\r\ngithub.com/spf13/cobra.(*Command).ExecuteContext(0x40003edf38?, {0x10d08f0?, 0x17966e0?})\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1034 +0x48\r\nmain.main()\r\n        /myapp/cmd/csghub-portal/main.go:12 +0x34\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\ninit logger, level: INFO, format: json\r\n\r\n===== /var/log/csghub-portal/csghub-portal.log ================\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\n{\"time\":\"2024-12-17T11:08:35.350672045Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\r\nReset temporary environments\r\nStarting server...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:35.379602003Z\",\"level\":\"INFO\",\"msg\":\"FIFOScheduler run started\"}\r\n{\"time\":\"2024-12-17T11:08:35.379825878Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024/12/17 11:08:35 INFO  No logger configured for temporal client. Created default one.\r\n2024/12/17 11:08:35 INFO  Started Worker Namespace default TaskQueue workflow_handle_push_queue WorkerID 647@omnibus-csghub@\r\n2024/12/17 11:08:35 WARN  Failed to poll for task. Namespace default TaskQueue workflow_handle_push_queue WorkerID 647@omnibus-csghub@ WorkerType WorkflowWorker Error Namespace default is not found.\r\n2024/12/17 11:08:35 WARN  Failed to poll for task. Namespace default TaskQueue workflow_handle_push_queue WorkerID 647@omnibus-csghub@ WorkerType ActivityWorker Error Namespace default is not found.\r\nError: failed to register cron jobs:  unable to create schedule, error:Namespace default is not found.\r\n2024-12-17 11:08:35,644 WARN exited: csghub-server (exit status 1; not expected)\r\n2024-12-17 11:08:37,370 INFO spawned: 'csghub-portal' with pid 813\r\n\r\n===== /var/log/csghub-portal/csghub-portal.log ================\r\nWaiting PostgreSQL ready...\r\nPostgreSQL is ready.\r\nWaiting MinIO ready...\r\nMinIO is ready.\r\nInitializing database migrations...\r\ninit logger, level: INFO, format: json\r\nRunning database migrations...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:37.455067963Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\r\nStarting portal...\r\ninit logger, level: INFO, format: json\r\n2024-12-17 11:08:37,464 WARN exited: csghub-portal (exit status 2; not expected)\r\npanic: template: pattern matches no files: `prompts/assistant.html`\r\n\r\ngoroutine 1 [running]:\r\nopencsg.com/portal/internal/routes.createRender()\r\n        /myapp/internal/routes/router.go:169 +0x4bc\r\nopencsg.com/portal/internal/routes.Initialize(0x400048a008)\r\n        /myapp/internal/routes/router.go:90 +0x3d8\r\nopencsg.com/portal/cmd/csghub-portal/cmd/start.init.func1(0x40002a3000?, {0xaba598?, 0x4?, 0xaba59c?})\r\n        /myapp/cmd/csghub-portal/cmd/start/server.go:35 +0x120\r\ngithub.com/spf13/cobra.(*Command).execute(0x175e3a0, {0x17966e0, 0x0, 0x0})\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:985 +0x834\r\ngithub.com/spf13/cobra.(*Command).ExecuteC(0x175c400)\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1117 +0x344\r\ngithub.com/spf13/cobra.(*Command).Execute(...)\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1041\r\ngithub.com/spf13/cobra.(*Command).ExecuteContext(0x40003cbf38?, {0x10d08f0?, 0x17966e0?})\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1034 +0x48\r\nmain.main()\r\n        /myapp/cmd/csghub-portal/main.go:12 +0x34\r\n2024-12-17 11:08:38,472 INFO spawned: 'csghub-server' with pid 859\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\nWaiting PostgreSQL ready...\r\nPostgreSQL is ready.\r\nWaiting MinIO ready...\r\nMinIO is ready.\r\nDatabase setup...\r\nMigration init\r\ninit logger, level: INFO, format: json\r\nMigration migrate\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:38.586292921Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\r\nReset temporary environments\r\nStarting server...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:38.616692713Z\",\"level\":\"INFO\",\"msg\":\"FIFOScheduler run started\"}\r\n{\"time\":\"2024-12-17T11:08:38.616847005Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024/12/17 11:08:38 INFO  No logger configured for temporal client. Created default one.\r\n2024/12/17 11:08:38 INFO  Started Worker Namespace default TaskQueue workflow_handle_push_queue WorkerID 859@omnibus-csghub@\r\n2024/12/17 11:08:38 INFO  Started Worker Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@\r\n2024-12-17 11:08:39,432 INFO success: casdoor entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,432 INFO success: csghub-accounting entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,432 INFO success: csghub-rproxy entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,432 INFO success: csghub-runner entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,433 INFO success: csghub-user entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,433 INFO success: dnsmasq entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,433 INFO success: gitaly entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,433 INFO success: gitlab-shell entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,433 INFO success: minio entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,433 INFO success: mirror-lfs entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,433 INFO success: mirror-repo entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,433 INFO success: nats entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,434 INFO success: nginx entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,434 INFO success: postgresql entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,434 INFO success: redis entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n{\"time\":\"2024-12-17T11:08:39.432176589Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:39.432176464Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:39.432484964Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":2,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n{\"time\":\"2024-12-17T11:08:39.432689464Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":2,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n{\"time\":\"2024-12-17T11:08:39.433013505Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:39.433202422Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":0,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n2024-12-17 11:08:39,439 INFO success: registry entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n{\"time\":\"2024-12-17T11:08:39.439229964Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:39.439457297Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":1,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n2024-12-17 11:08:39,454 INFO success: space-builder entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,454 INFO success: temporal entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n2024-12-17 11:08:39,454 INFO success: temporal-ui entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n{\"time\":\"2024-12-17T11:08:39.45837088Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:39.458615505Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":0,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n{\"time\":\"2024-12-17T11:08:39.459114589Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:39.459353422Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":1,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n{\"time\":\"2024-12-17T11:08:39.463183964Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:39.463413547Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":0,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n2024-12-17 11:08:39,472 WARN exited: csghub-runner (exit status 2; not expected)\r\n\r\n===== /var/log/csghub-runner/csghub-runner.log ================\r\n2024-12-17 11:08:39,477 INFO spawned: 'csghub-runner' with pid 983\r\nWaiting CSGHub-Server ready...\r\nCSGHub-Server is ready.\r\nStarting runner...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:39.467176964Z\",\"level\":\"ERROR\",\"msg\":\"No kubeconfig files\",\"path\":\"/root/.kube\"}\r\npanic: runtime error: index out of range [0] with length 0\r\n\r\ngoroutine 56 [running]:\r\nopencsg.com/csghub-server/runner/component.(*workFlowComponentImpl).RunWorkflowsInformer(0x0?, 0x0?, 0x0?)\r\n        /starhub/runner/component/workflow.go:273 +0x2e4\r\ncreated by opencsg.com/csghub-server/runner/component.NewWorkFlowComponent in goroutine 1\r\n        /starhub/runner/component/workflow.go:59 +0x120\r\nWaiting CSGHub-Server ready...\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\n{\"time\":\"2024-12-17T11:08:39.486191547Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:39.486431255Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":0,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n\r\n===== /var/log/csghub-runner/csghub-runner.log ================\r\nCSGHub-Server is ready.\r\nStarting runner...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:39.51232788Z\",\"level\":\"ERROR\",\"msg\":\"No kubeconfig files\",\"path\":\"/root/.kube\"}\r\n2024-12-17 11:08:39,516 WARN exited: csghub-runner (exit status 2; not expected)\r\npanic: runtime error: index out of range [0] with length 0\r\n\r\ngoroutine 15 [running]:\r\nopencsg.com/csghub-server/runner/component.(*workFlowComponentImpl).RunWorkflowsInformer(0x0?, 0x0?, 0x0?)\r\n        /starhub/runner/component/workflow.go:273 +0x2e4\r\ncreated by opencsg.com/csghub-server/runner/component.NewWorkFlowComponent in goroutine 1\r\n        /starhub/runner/component/workflow.go:59 +0x120\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\n{\"time\":\"2024-12-17T11:08:39.543498339Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:39.543721922Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":0,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n2024-12-17 11:08:40,756 INFO spawned: 'csghub-portal' with pid 1017\r\n2024-12-17 11:08:40,758 INFO spawned: 'csghub-runner' with pid 1018\r\n\r\n===== /var/log/csghub-runner/csghub-runner.log ================\r\nWaiting CSGHub-Server ready...\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\n{\"time\":\"2024-12-17T11:08:40.774117631Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:40.774478214Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":1,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n\r\n===== /var/log/csghub-runner/csghub-runner.log ================\r\nCSGHub-Server is ready.\r\nStarting runner...\r\ninit logger, level: INFO, format: json\r\n\r\n===== /var/log/csghub-portal/csghub-portal.log ================\r\nWaiting PostgreSQL ready...\r\n\r\n===== /var/log/csghub-runner/csghub-runner.log ================\r\n{\"time\":\"2024-12-17T11:08:40.806571423Z\",\"level\":\"ERROR\",\"msg\":\"No kubeconfig files\",\"path\":\"/root/.kube\"}\r\npanic: runtime error: index out of range [0] with length 0\r\n\r\ngoroutine 69 [running]:\r\nopencsg.com/csghub-server/runner/component.(*workFlowComponentImpl).RunWorkflowsInformer(0x0?, 0x0?, 0x0?)\r\n        /starhub/runner/component/workflow.go:273 +0x2e4\r\ncreated by opencsg.com/csghub-server/runner/component.NewWorkFlowComponent in goroutine 1\r\n        /starhub/runner/component/workflow.go:59 +0x120\r\n2024-12-17 11:08:40,811 WARN exited: csghub-runner (exit status 2; not expected)\r\n\r\n===== /var/log/csghub-portal/csghub-portal.log ================\r\nPostgreSQL is ready.\r\nWaiting MinIO ready...\r\nMinIO is ready.\r\nInitializing database migrations...\r\ninit logger, level: INFO, format: json\r\nRunning database migrations...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:40.841377631Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\r\nStarting portal...\r\ninit logger, level: INFO, format: json\r\npanic: template: pattern matches no files: `prompts/assistant.html`\r\n\r\ngoroutine 1 [running]:\r\nopencsg.com/portal/internal/routes.createRender()\r\n        /myapp/internal/routes/router.go:169 +0x4bc\r\nopencsg.com/portal/internal/routes.Initialize(0x400007a010)\r\n        /myapp/internal/routes/router.go:90 +0x3d8\r\nopencsg.com/portal/cmd/csghub-portal/cmd/start.init.func1(0x40002b9000?, {0xaba598?, 0x4?, 0xaba59c?})\r\n        /myapp/cmd/csghub-portal/cmd/start/server.go:35 +0x120\r\ngithub.com/spf13/cobra.(*Command).execute(0x175e3a0, {0x17966e0, 0x0, 0x0})\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:985 +0x834\r\ngithub.com/spf13/cobra.(*Command).ExecuteC(0x175c400)\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1117 +0x344\r\ngithub.com/spf13/cobra.(*Command).Execute(...)\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1041\r\ngithub.com/spf13/cobra.(*Command).ExecuteContext(0x40003edf38?, {0x10d08f0?, 0x17966e0?})\r\n        /go/pkg/mod/github.com/spf13/cobra@v1.8.1/command.go:1034 +0x48\r\nmain.main()\r\n        /myapp/cmd/csghub-portal/main.go:12 +0x34\r\n2024-12-17 11:08:41,854 WARN exited: csghub-portal (exit status 2; not expected)\r\n2024-12-17 11:08:42,858 INFO gave up: csghub-portal entered FATAL state, too many start retries too quickly\r\n2024-12-17 11:08:42,863 INFO spawned: 'csghub-runner' with pid 1066\r\n\r\n===== /var/log/csghub-runner/csghub-runner.log ================\r\nWaiting CSGHub-Server ready...\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\n{\"time\":\"2024-12-17T11:08:42.88047859Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:42.880943924Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":1,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n\r\n===== /var/log/csghub-runner/csghub-runner.log ================\r\nCSGHub-Server is ready.\r\nStarting runner...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:42.918929757Z\",\"level\":\"ERROR\",\"msg\":\"No kubeconfig files\",\"path\":\"/root/.kube\"}\r\npanic: runtime error: index out of range [0] with length 0\r\n\r\ngoroutine 50 [running]:\r\nopencsg.com/csghub-server/runner/component.(*workFlowComponentImpl).RunWorkflowsInformer(0x0?, 0x0?, 0x0?)\r\n        /starhub/runner/component/workflow.go:273 +0x2e4\r\ncreated by opencsg.com/csghub-server/runner/component.NewWorkFlowComponent in goroutine 1\r\n        /starhub/runner/component/workflow.go:59 +0x120\r\n2024-12-17 11:08:42,924 WARN exited: csghub-runner (exit status 2; not expected)\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\n{\"time\":\"2024-12-17T11:08:43.619209341Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024-12-17 11:08:46,309 INFO spawned: 'csghub-runner' with pid 1089\r\n\r\n===== /var/log/csghub-runner/csghub-runner.log ================\r\nWaiting CSGHub-Server ready...\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\n{\"time\":\"2024-12-17T11:08:46.322919675Z\",\"level\":\"INFO\",\"msg\":\"Tags loaded successfully\",\"count\":214}\r\n{\"time\":\"2024-12-17T11:08:46.323291259Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"127.0.0.1\",\"method\":\"GET\",\"latency(ms)\":1,\"status\":200,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/tags\"}\r\n\r\n===== /var/log/csghub-runner/csghub-runner.log ================\r\nCSGHub-Server is ready.\r\nStarting runner...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:08:46.352968134Z\",\"level\":\"ERROR\",\"msg\":\"No kubeconfig files\",\"path\":\"/root/.kube\"}\r\n2024-12-17 11:08:46,357 WARN exited: csghub-runner (exit status 2; not expected)\r\npanic: runtime error: index out of range [0] with length 0\r\n\r\ngoroutine 38 [running]:\r\nopencsg.com/csghub-server/runner/component.(*workFlowComponentImpl).RunWorkflowsInformer(0x0?, 0x0?, 0x0?)\r\n        /starhub/runner/component/workflow.go:273 +0x2e4\r\ncreated by opencsg.com/csghub-server/runner/component.NewWorkFlowComponent in goroutine 1\r\n        /starhub/runner/component/workflow.go:59 +0x120\r\n2024-12-17 11:08:46,358 INFO gave up: csghub-runner entered FATAL state, too many start retries too quickly\r\n2024-12-17 11:08:48,621 INFO success: csghub-server entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\n{\"time\":\"2024-12-17T11:08:48.620696385Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:08:53.629389762Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:08:58.629705208Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:09:03.635269336Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:09:08.64128263Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024-12-17 11:09:12,967 INFO exited: mirror-init-job (exit status 0; expected)\r\n\r\n===== /var/log/csghub-server/mirror-init-job.log ==============\r\nWaiting PostgreSQL ready...\r\nPostgreSQL is ready.\r\nWaiting MinIO ready...\r\nMinIO is ready.\r\nWaiting CSGHub-Server ready...\r\nCSGHub-Server is ready.\r\nStart multi-source synchronization background and Initialize the sample repository\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-12-17T11:09:12.963736299Z\",\"level\":\"ERROR\",\"msg\":\"failed to sync as client\",\"err\":\"failed to sync latest version from client, current version:2800, error: failed to get latest version from endpoint https://hub.opencsg.com, param cur:2800, cause: Get \\\"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\\\": EOF\"}\r\n\r\n===== /var/log/csghub-server/csghub-server.log ================\r\n{\"time\":\"2024-12-17T11:09:13.644218466Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:09:18.646446801Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:09:23.652182012Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:36:28.153306208Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:36:33.192563627Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:36:38.203158505Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:36:43.210326882Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:36:48.211986968Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T11:36:53.220327595Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T12:23:31.0050465Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T12:23:36.014186961Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T12:23:41.016574047Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T12:23:46.018957424Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T12:23:51.028134635Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T12:23:56.030276845Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T13:47:35.333737Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T13:47:40.344527378Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T13:47:45.346723963Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T13:47:50.355716007Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T13:47:55.360925926Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T13:48:00.369174679Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T15:00:04.556708375Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T15:00:09.568073336Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T15:00:14.57679013Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T15:00:19.582228507Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T15:00:24.584031218Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T15:00:29.589396595Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T16:19:44.280241833Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T16:19:49.287163794Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T16:19:54.289520047Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T16:19:59.293198924Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T16:20:04.301265843Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T16:20:09.308135262Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T17:27:36.730832459Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T17:27:41.732835711Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T17:27:46.735552172Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T17:27:51.747339674Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T17:27:56.748806343Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T17:28:01.749903345Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T18:32:25.061785459Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T18:32:30.063929669Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T18:32:35.064744213Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T18:32:40.071528924Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T18:32:45.07405501Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T18:32:50.076980262Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T19:57:12.323783709Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T19:57:17.337178878Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T19:57:22.339653963Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T19:57:27.346322716Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T19:57:32.347827051Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T19:57:37.385469095Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T21:17:57.508208667Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T21:18:02.511897419Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T21:18:07.520679797Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T21:18:12.522981007Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T21:18:17.52432251Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T21:18:22.529919262Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T22:41:17.947622917Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T22:41:22.949770711Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T22:41:27.951529088Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T22:41:32.957836007Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T22:41:37.960750801Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-17T22:41:42.962283262Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T00:03:53.853305959Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024/12/18 00:03:55 INFO  sync as client workflow started Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowType SyncAsClientWorkflow WorkflowID sync-as-client-workflow-2024-12-17T12:00:00Z RunID 015f38b0-f897-4a1a-a8c8-a30eacbbbb51 Attempt 1\r\n2024/12/18 00:03:55 DEBUG ExecuteActivity Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowType SyncAsClientWorkflow WorkflowID sync-as-client-workflow-2024-12-17T12:00:00Z RunID 015f38b0-f897-4a1a-a8c8-a30eacbbbb51 Attempt 1 ActivityID 5 ActivityType SyncAsClient\r\n{\"time\":\"2024-12-18T00:03:58.855625003Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T00:04:04.036384422Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T00:04:09.039611257Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T00:04:14.04318451Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T00:04:19.046193304Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024/12/18 00:04:20 ERROR Activity error. Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowID sync-as-client-workflow-2024-12-17T12:00:00Z RunID 015f38b0-f897-4a1a-a8c8-a30eacbbbb51 ActivityType SyncAsClient Attempt 1 Error failed to sync latest version from client, current version:2800, error: failed to get latest version from endpoint https://hub.opencsg.com, param cur:2800, cause: Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": EOF\r\n{\"time\":\"2024-12-18T01:16:14.693617125Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024/12/18 01:16:15 ERROR Activity error. Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowID sync-as-client-workflow-2024-12-17T12:00:00Z RunID 015f38b0-f897-4a1a-a8c8-a30eacbbbb51 ActivityType SyncAsClient Attempt 2 Error failed to sync latest version from client, current version:2800, error: failed to get latest version from endpoint https://hub.opencsg.com, param cur:2800, cause: Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": EOF\r\n2024/12/18 01:16:17 ERROR Activity error. Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowID sync-as-client-workflow-2024-12-17T12:00:00Z RunID 015f38b0-f897-4a1a-a8c8-a30eacbbbb51 ActivityType SyncAsClient Attempt 3 Error failed to sync latest version from client, current version:2800, error: failed to get latest version from endpoint https://hub.opencsg.com, param cur:2800, cause: Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": dial tcp: lookup hub.opencsg.com on 127.0.0.1:53: no such host\r\n2024/12/18 01:16:17 ERROR failed to sync as client Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowType SyncAsClientWorkflow WorkflowID sync-as-client-workflow-2024-12-17T12:00:00Z RunID 015f38b0-f897-4a1a-a8c8-a30eacbbbb51 Attempt 1 error activity error (type: SyncAsClient, scheduledEventID: 5, startedEventID: 6, identity: 859@omnibus-csghub@): failed to sync latest version from client, current version:2800, error: failed to get latest version from endpoint https://hub.opencsg.com, param cur:2800, cause: Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": dial tcp: lookup hub.opencsg.com on 127.0.0.1:53: no such host (type: wrapError, retryable: true): failed to get latest version from endpoint https://hub.opencsg.com, param cur:2800, cause: Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": dial tcp: lookup hub.opencsg.com on 127.0.0.1:53: no such host (type: wrapError, retryable: true): Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": dial tcp: lookup hub.opencsg.com on 127.0.0.1:53: no such host (type: Error, retryable: true): dial tcp: lookup hub.opencsg.com on 127.0.0.1:53: no such host (type: OpError, retryable: true): lookup hub.opencsg.com on 127.0.0.1:53: no such host (type: DNSError, retryable: true)\r\n{\"time\":\"2024-12-18T01:16:19.704910253Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:16:24.709814922Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:16:29.711260341Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:16:34.712588885Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:16:39.715606095Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:16:44.724436834Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024/12/18 01:16:46 INFO  sync as client workflow started Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowType SyncAsClientWorkflow WorkflowID sync-as-client-workflow-2024-12-18T01:00:00Z RunID 2cdfdadf-d71a-4372-9dae-8ccf918a9e2c Attempt 1\r\n2024/12/18 01:16:46 DEBUG ExecuteActivity Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowType SyncAsClientWorkflow WorkflowID sync-as-client-workflow-2024-12-18T01:00:00Z RunID 2cdfdadf-d71a-4372-9dae-8ccf918a9e2c Attempt 1 ActivityID 5 ActivityType SyncAsClient\r\n{\"time\":\"2024-12-18T01:16:49.726523461Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:16:54.739867172Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:16:59.747986382Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:17:04.749399135Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024/12/18 01:17:06 ERROR Activity error. Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowID sync-as-client-workflow-2024-12-18T01:00:00Z RunID 2cdfdadf-d71a-4372-9dae-8ccf918a9e2c ActivityType SyncAsClient Attempt 1 Error failed to sync latest version from client, current version:2800, error: failed to get latest version from endpoint https://hub.opencsg.com, param cur:2800, cause: Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": dial tcp: lookup hub.opencsg.com on 192.168.65.7:53: read udp 172.17.0.2:56412->192.168.65.7:53: i/o timeout\r\n{\"time\":\"2024-12-18T01:17:09.752688054Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:17:14.755532375Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:17:19.756838086Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024/12/18 01:17:22 ERROR Activity error. Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowID sync-as-client-workflow-2024-12-18T01:00:00Z RunID 2cdfdadf-d71a-4372-9dae-8ccf918a9e2c ActivityType SyncAsClient Attempt 2 Error failed to sync latest version from client, current version:2800, error: failed to get latest version from endpoint https://hub.opencsg.com, param cur:2800, cause: Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": EOF\r\n{\"time\":\"2024-12-18T01:17:24.758727088Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:17:29.760499674Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n2024/12/18 01:17:31 ERROR Activity error. Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowID sync-as-client-workflow-2024-12-18T01:00:00Z RunID 2cdfdadf-d71a-4372-9dae-8ccf918a9e2c ActivityType SyncAsClient Attempt 3 Error failed to sync latest version from client, current version:2800, error: failed to get latest version from endpoint https://hub.opencsg.com, param cur:2800, cause: Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": EOF\r\n2024/12/18 01:17:31 ERROR failed to sync as client Namespace default TaskQueue workflow_cron_queue WorkerID 859@omnibus-csghub@ WorkflowType SyncAsClientWorkflow WorkflowID sync-as-client-workflow-2024-12-18T01:00:00Z RunID 2cdfdadf-d71a-4372-9dae-8ccf918a9e2c Attempt 1 error activity error (type: SyncAsClient, scheduledEventID: 5, startedEventID: 6, identity: 859@omnibus-csghub@): failed to sync latest version from client, current version:2800, error: failed to get latest version from endpoint https://hub.opencsg.com, param cur:2800, cause: Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": EOF (type: wrapError, retryable: true): failed to get latest version from endpoint https://hub.opencsg.com, param cur:2800, cause: Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": EOF (type: wrapError, retryable: true): Get \"https://hub.opencsg.com/api/v1/sync/version/latest?cur=2800\": EOF (type: Error, retryable: true): EOF\r\n{\"time\":\"2024-12-18T01:17:34.762048468Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:17:39.766639887Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:17:44.773225834Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:17:49.779109169Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:17:54.78798463Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:17:59.791553757Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:18:04.79262326Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:18:09.796118137Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:18:14.796932542Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:18:19.800149503Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:18:24.801606463Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n{\"time\":\"2024-12-18T01:18:29.803969757Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"}\r\n```",
    "comments": [
      "@FancyXun as the error log says, you miss the \"kube config\" file.\r\n\r\nhere is the doc related:\r\n\r\n![image](https://github.com/user-attachments/assets/15c6e8d3-631b-4980-8a8d-91b9b442e992)\r\n",
      "{\"time\":\"2024-12-18T01:17:04.749399135Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \\\"http://127.0.0.1:8082/api/v1/service/status-all\\\": dial tcp 127.0.0.1:8082: connect: connection refused\"} 这个为啥一直报错啊？",
      "> {\"time\":\"2024-12-18T01:17:04.749399135Z\",\"level\":\"ERROR\",\"msg\":\"refresh status all failed\",\"error\":\"Get \"[http://127.0.0.1:8082/api/v1/service/status-all\\](http://127.0.0.1:8082/api/v1/service/status-all%5C)\": dial tcp 127.0.0.1:8082: connect: connection refused\"} 这个为啥一直报错啊？\r\n\r\nlooks like `csghub_server_runner` service not started. Ignore it, if you dont run any model inference or space."
    ],
    "state": "open",
    "labels": [
      "waiting for feedback"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/860"
  },
  {
    "id": "issue_840",
    "title": "使用一键部署后登录报错",
    "body": "1.使用一键部署脚本进行部署\r\n![image](https://github.com/user-attachments/assets/6db23428-2509-4359-b6d4-0384dbcf5079)\r\n2.使用root账号登录404，接口报错301\r\n![image](https://github.com/user-attachments/assets/f2fe4b14-c2ce-4171-b67b-431cb438ba75)\r\n3.点击模型中的文件也直接报404\r\n![image](https://github.com/user-attachments/assets/36b93c78-a42b-4fe6-88af-c3d380d69e3d)\r\n![image](https://github.com/user-attachments/assets/54515d6b-7119-48c6-82a0-c045a7621639)\r\n\r\n小白不知道哪里有问题，求解\r\n",
    "comments": [
      "端口转发有误"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/840"
  },
  {
    "id": "issue_839",
    "title": "the repo shows with 404",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nAfter using sdk to upload a  .parquet file, the repo shows with 404\r\n\r\n**Environment**\r\nCSGHub Version: latest in 2024.12.11\r\nOS: Linux\r\nHardware: 4c8G\r\nLaunch:  docker\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\n\r\n1. generate a .parquet  file\r\n```\r\nimport pandas as pd\r\n\r\ndata = {\"id\": [1, 2, 3], \"name\": [\"Alice\", \"Bob\", \"Charlie\"], \"age\": [25, 30, 35]}\r\n\r\ndf = pd.DataFrame(data)\r\n\r\ndf.to_parquet(\"example.parquet\", index=False)\r\n\r\nprint(\"Parquet 文件已创建：example.parquet\")\r\n```\r\n\r\n2. use sdk to upload\r\n```\r\nfrom pycsghub.snapshot_download import snapshot_download\r\nfrom pycsghub.file_download import file_download\r\nfrom pycsghub.file_upload import http_upload_file\r\n\r\ntoken = \"xxxxx\"\r\nendpoint = \"http://x.x.x.x\"\r\nrepo_id = \"test/test\"\r\nrepo_type = \"dataset\"\r\ncache_dir = \"./cache\"\r\n\r\n# 上传文件\r\nresult = http_upload_file(repo_id, endpoint=endpoint, token=token, repo_type=repo_type, file_path=\"./example.parquet\")\r\n\r\n```\r\n\r\n3. go to web to refresh this repo get with 404\r\n```\r\nRequest URL:\r\nhttp://x.x.x.x/api/v1/datasets/test/test/dataviewer/catalog\r\nRequest Method:\r\nGET\r\nStatus Code:\r\n404 Not Found\r\n```\r\n\r\n**Expected behavior**\r\nIt should be work well without 404.\r\n\r\n",
    "comments": [
      "@ChristLZS It is because our dataset data view function is still in development, and not ready, please stay tuned for future updates",
      "@hiveer it's better to remove the request to apis not implemented.",
      "> @hiveer it's better to remove the request to apis not implemented.\r\n\r\nsure, will do it asap",
      "@hiveer does v1.2.0 new release fix this issue?",
      "gitlab-issue-342",
      "@ChristLZS Now we have supported parquet viewer, please have another try, if you have any further issue, please feel free to open a new issue, or reopen this issue"
    ],
    "state": "closed",
    "labels": [
      "bug",
      "enhancement",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/839"
  },
  {
    "id": "issue_838",
    "title": "Integrate CSGHub with dstack for apps, training, and inference",
    "body": "CSGHub integrates with Kubernetes, Ray, and Knative to deploy apps, train models, and run model inference.\r\n\r\n[dstack](https://github.com/dstackai/dstack) is a lightweight alternative to Kubernetes, Ray, and Knative that could be a much better fit.\r\n\r\nHere are its key advantages:\r\n\r\n1. `dstack` supports leading cloud GPU providers and makes it easy to add native support for new providers.\r\n2. `dstack` simplifies the use of on-prem GPU machines compared to Kubernetes.\r\n3. `dstack` addresses many challenges related to deploying apps, managing endpoints, and scheduling complex training tasks.\r\n\r\nBy integrating with dstack, CSGHub users could experience up to a 10x simplification when connecting to cloud providers or on-prem clusters.",
    "comments": [
      "If required, our team is happy to assist with the integration.",
      "Thank you for reporting feature requirement, I just looked at it, dstack is a very light framework for LLM deployment. we will start investigation in next a few weeks.",
      "Guys, @peterschmidt85 @ganisback can you guys create one PR for the further integration? ",
      "gitlab-issue-343",
      "Is this still in progress?"
    ],
    "state": "open",
    "labels": [
      "enhancement",
      "in-progress",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/838"
  },
  {
    "id": "issue_837",
    "title": "csghub-sdk 上传单个文件，修改.gitattributes文件指定文件后缀*.safetensors filter=lfs diff=lfs merge=lfs -text使用lfs失败问题。",
    "body": "上传代码如下：\r\n![image](https://github.com/user-attachments/assets/61329d2d-0dd1-4f6d-931e-d6953a8ccb9c)\r\n我尝试搞了一个小的.safetensors文件上传成功了。\r\n![image](https://github.com/user-attachments/assets/ebc25fc1-b867-411e-a1ae-189658b5cfc7)\r\n但我使用huggingface真正的.safetensors二进制大文件上传报错失败，信息如下：\r\n![image](https://github.com/user-attachments/assets/6a134c83-9e8d-43bd-99d0-20dfa0875ddf)\r\nnginx服务日志报错信息如下：\r\n![image](https://github.com/user-attachments/assets/9e8a3f9f-eb5d-43e5-a157-da0ec71f4d31)\r\n\r\n\r\n",
    "comments": [
      "@code9420  在文件上传的过程中，csghub-server的日志中有什么错误吗？",
      "没看到明显的堆栈信息",
      "@code9420 \r\n1. 根据nginx的错误提示，分析原因应该是网络数据传输超时引起的http连接断开而产生文件传输失败。\r\n2. `http_upload_file` api 采用的是web http form表单的标准方式上传文件，对网络速度和通信超时都有很大的限制要求，会受到很多因素的影响，通常使用这种方式上传小文件是没有问题的。大文件建议使用git命令的方式上传。",
      "好的",
      "Any problem of using SDK, Please log to https://github.com/OpenCSGs/csghub-sdk. Thx!."
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/837"
  },
  {
    "id": "issue_828",
    "title": "[Feature Request] Add Model Version Comparison Tool",
    "body": "### Overview\r\nThe current CSGHub platform would benefit from a model version comparison tool that allows users to easily compare different versions of the same model, including their performance metrics, parameters, and deployment configurations.\r\n\r\n### Current Behavior\r\n- Users need to manually check different model versions\r\n- No side-by-side comparison of model metrics\r\n- Difficult to track changes between versions\r\n\r\n### Proposed Solution\r\nAdd a comparison feature that would:\r\n- Show side-by-side comparisons of model versions\r\n- Display key differences in parameters and configurations\r\n- Visualize performance metrics between versions\r\n- Include a diff view for model cards and configuration files\r\n\r\n### User Benefits\r\n1. Faster decision-making when choosing model versions\r\n2. Better version control and tracking\r\n3. Easier identification of performance improvements\r\n4. Enhanced model governance\r\n\r\n### Technical Considerations\r\n- Integration with existing model management system\r\n- Database schema updates for storing comparison data\r\n- UI/UX changes in the frontend (Vue.js)\r\n- API endpoints for comparison functionality\r\n\r\n### Acceptance Criteria\r\n- [ ] Side-by-side comparison view implemented\r\n- [ ] Performance metrics visualization\r\n- [ ] Configuration diff viewer\r\n- [ ] Version history timeline\r\n- [ ] Export comparison results\r\n- [ ] API documentation updated\r\n\r\n### Additional Context\r\nThis feature aligns with CSGHub's goal of providing enterprise-level model management and would enhance the platform's compatibility with existing MLOps workflows.\r\n\r\n### Environment\r\n- CSGHub Version: 1.1.0\r\n- Deployment: On-premise\r\n- Browser: Latest Chrome/Firefox\r\n",
    "comments": [
      "follow https://github.com/OpenCSGs/csghub-server/issues/184",
      "Welcome to contribute to this issue. We are delightful to see community contributions at this point. Are you willing to setup a call for this topic? ",
      "Let us know if you are ready to jump in call, thx ",
      "gitlab-issue-344"
    ],
    "state": "open",
    "labels": [
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/828"
  },
  {
    "id": "issue_824",
    "title": "Download paraphrase-multilingual-MiniLM-L12-v2 fail",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nUse git clone to download paraphrase-multilingual-MiniLM-L12-v2, fail. \r\n\r\n**Environment**\r\nCSGHub Version: https://opencsg.com/models/AIWizards/paraphrase-multilingual-MiniLM-L12-v2/files/main/\r\nOS: Windows\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to 'https://opencsg.com/models/AIWizards/paraphrase-multilingual-MiniLM-L12-v2/files/main/'\r\n2. Copy download link and run in Windows PowerShell\r\n   _git lfs install\r\n   git clone https://opencsg.com/models/AIWizards/paraphrase-multilingual-MiniLM-L12-v2.git_\r\n3. See error below\r\n\r\n\r\n\r\nPS D:\\models> git clone https://opencsg.com/models/AIWizards/paraphrase-multilingual-MiniLM-L12-v2.git\r\nCloning into 'paraphrase-multilingual-MiniLM-L12-v2'...\r\nremote: Enumerating objects: 92, done.\r\nremote: Counting objects: 100% (92/92), done.\r\nremote: Compressing objects: 100% (58/58), done.\r\nremote: Total 92 (delta 35), reused 87 (delta 30), pack-reused 0\r\nReceiving objects: 100% (92/92), 3.42 MiB | 12.97 MiB/s, done.\r\nResolving deltas: 100% (35/35), done.\r\nDownloading model.safetensors (471 MB)MiB | 24.44 MiB/s\r\nError downloading object: model.safetensors (eaa086f): Smudge error: Error downloading model.safetensors (eaa086f0ffee582aeb45b36e34cdd1fe2d6de2bef61f8a559a1bbc9bd955917b): LFS: Repository or object not found: https://opencsg-gitea-lfs.oss-cn-beijing.aliyuncs.com/lfs/ea/a0/86f0ffee582aeb45b36e34cdd1fe2d6de2bef61f8a559a1bbc9bd955917b?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=LTAI5tH6mgHpNxCBvEYyu9ov%2F20241129%2Fcn-beijing%2Fs3%2Faws4_request&X-Amz-Date=20241129T022905Z&X-Amz-Expires=259200&X-Amz-SignedHeaders=host&X-Amz-Signature=cef525b3ec5eae2682deae49727d8cd1052e0770abb31f807c25701c96d9d498\r\nCheck that it exists and that you have proper access to it\r\n\r\nErrors logged to 'D:\\models\\paraphrase-multilingual-MiniLM-L12-v2\\.git\\lfs\\logs\\20241129T102906.4406201.log'.\r\nUse `git lfs logs last` to view the log.\r\nerror: external filter 'git-lfs filter-process' failed\r\nfatal: model.safetensors: smudge filter lfs failed\r\nwarning: Clone succeeded, but checkout failed.\r\nYou can inspect what was checked out with 'git status'\r\nand retry with 'git restore --source=HEAD :/'",
    "comments": [
      "The model is in-process of upload. Pls try later.",
      "@pulltheflower pls help check this model download issue",
      "@lixjohn Thank you for your feedback. This model is now available.",
      "Thanks, just tried, it works now. Close this issue."
    ],
    "state": "closed",
    "labels": [
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/824"
  },
  {
    "id": "issue_809",
    "title": "The model data source is not synchronized with Docker Compose after startup",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nThe model data source is not synchronized with Docker Compose after startup\r\n![451732169498_ pic](https://github.com/user-attachments/assets/56c61003-fa63-4d37-ab03-8fe35ea9a7e1)\r\n\r\n**Environment**\r\nCSGHub Version: v1.1.0\r\nOS: Linux\r\nHardware: 4c8G\r\nLaunch:  docker compose\r\n\r\n\r\n",
    "comments": [
      "@userzhangqg do you still have this issue?"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/809"
  },
  {
    "id": "issue_803",
    "title": "Tag  can support multiple tasks",
    "body": "Currently, the tag supports only single tasks and does not support multiple tasks. For example, in the task tab, a model can either support text-to-image generation for computer vision or multimodal tasks for text generation images. The current situation allows selecting only one of the two tags, not both simultaneously. We hope that a single model can support multiple tasks.\r\n\r\nversion: 0.7.0",
    "comments": [
      "let's fix it in next release v1.3.0",
      "@miss-uny This feature has been supported in our latest code, please pull the code and have a try\r\n\r\nrefer to: https://github.com/OpenCSGs/csghub/pull/893"
    ],
    "state": "closed",
    "labels": [
      "enhancement",
      "v1.3.0"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/803"
  },
  {
    "id": "issue_798",
    "title": "Create a new fine-tuning instance, how to use local GPUs resources",
    "body": "![image](https://github.com/user-attachments/assets/01babb9a-c6e2-42f6-aadf-fe28fc581484)\r\n",
    "comments": [
      "version： v1.0.0",
      "suppose you have managed GPUs with k8s, please copy the kube config file to `.kube` folder of service `csghub_server_runner`. \r\n\r\n`.kube` folder mounted in docker compose yaml config:\r\n```\r\n  csghub_server_runner:\r\n   \r\n...\r\n    volumes:\r\n      - ./.kube:/root/.kube:r\r\n\r\n```",
      "resource list are read from table `space_resources`, change the config according to your real GPU instances.",
      "> 资源列表从表中读取`space_resources`，根据您的实际 GPU 实例更改配置。\r\n\r\nAre there any standards for modification? For example, the GPU instance used in my k8s cluster is NVIDIA-GeForce-RTX-4070 4 cards, which are managed uniformly using gpu-operator. After adding relevant information, it still cannot be selected. The space_resources table configuration is shown in the figure below\r\n![image](https://github.com/user-attachments/assets/34435891-2011-442a-aa1e-113d75e324d6)\r\n![image](https://github.com/user-attachments/assets/3a488f99-d427-4f97-9416-18d0f1ff9432)\r\n\r\n",
      "> > 资源列表从表中读取，根据您的实际 GPU 实例更改配置。`space_resources`\n> \n> 是否有任何修改标准？例如，我的 k8s 集群中使用的 GPU 实例是 NVIDIA-GeForce-RTX-4070 4 卡，使用 gpu-operator 统一管理。添加相关信息后，仍然无法选择。space_resources表配置如下图所示 ![image](https://github.com/user-attachments/assets/34435891-2011-442a-aa1e-113d75e324d6) ![image](https://github.com/user-attachments/assets/3a488f99-d427-4f97-9416-18d0f1ff9432)\n\nI'm also facing this issue. It seems like modifying SQL alone won't work. Have you solved this problem yet",
      "gitlab-issue-345",
      "@ganisback do you have any suggestion?",
      "@jksj-223 @tianj0522 please reduce the number of vcpu, maybe the cpu is not enough to run. "
    ],
    "state": "open",
    "labels": [
      "documentation",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/798"
  },
  {
    "id": "issue_795",
    "title": "The size of the custom tab bars on the homepage changes",
    "body": "When you click on the homepage of OpenCSG, the custom-created tags initially appear as large bars, then gradually refresh to smaller bars one by one until all the tab bars become small.\r\n\r\n\r\n1. create some customed tags.\r\n2. click the homepage or model lists in opencsg\r\n3. show  tags on left side\r\n\r\nversion:0.7.0\r\n",
    "comments": [
      "@jialudev please help to update the progress for this issue",
      "> @jialudev please help to update the progress for this issue\r\n\r\nOkay, I'll handle the issue.",
      "> When you click on the homepage of OpenCSG, the custom-created tags initially appear as large bars, then gradually refresh to smaller bars one by one until all the tab bars become small.\r\n> \r\n> 1. create some customed tags.\r\n> 2. click the homepage or model lists in opencsg\r\n> 3. show  tags on left side\r\n> \r\n> version:0.7.0\r\n\r\nThank you for your feedback.Could you provide me with some screenshots to help me understand and locate the scene where the problem occurred?"
    ],
    "state": "open",
    "labels": [
      "needs more info"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/795"
  },
  {
    "id": "issue_794",
    "title": "Space page not found!",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nI created an example application based on the document, but the page report errors.\r\n<img width=\"1135\" alt=\"image\" src=\"https://github.com/user-attachments/assets/0ab421e2-e453-43de-b99c-3c8631ca24f9\">\r\n\r\n**Environment**\r\nCSGHub Version: v1.0.0\r\nOS: Linux\r\nHardware: 4c8G\r\nLaunch:  docker compose\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Create new space\r\n2. Create new Gradio\r\n\r\n**Expected behavior**\r\nCan display the page in the document example.\r\n\r\n**Screenshots**\r\n\r\n\r\n**Additional context**\r\n\r\n",
    "comments": [
      "Please upgrade to release [v1.1.0](https://github.com/OpenCSGs/csghub-installer/releases).",
      "close this time. \r\nReopen it if you still get this issue after install the new version."
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/794"
  },
  {
    "id": "issue_792",
    "title": "请问此项目的开源协议是什么？",
    "body": "没有在仓库里找到LICENSE文件",
    "comments": [
      "Apache v2\r\nplease ckeck https://github.com/OpenCSGs/csghub/blob/main/LICENSE"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/792"
  },
  {
    "id": "issue_776",
    "title": "nginx failed to start after run csghub-installer",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nnginx failed to start after run csghub-installer\r\n\r\n**Environment**\r\nCSGHub Version: latest...\r\nOS: MacOS..\r\nHardware: 4c8G \r\nLaunch:  docker compose \r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. clone csghub-install\r\n2. follow the doc to run `startup.sh` after change `.env`\r\n3. check nginx container health\r\n\r\n**Expected behavior**\r\nnginx start successfully\r\n\r\n**Screenshots**\r\n\r\n\r\n**Additional context**\r\nerror log of nginx container:\r\n```\r\n/docker-entrypoint.sh: Configuration complete; ready for start up\r\nnginx: [emerg] host not found in \"_CSGHUB_DOMAINPORT\" of the \"listen\" directive in /etc/nginx/nginx.conf:102\r\n```\r\n",
    "comments": [
      "i found the `startup.sh` failed to execute some commands:\r\n\r\n```\r\n[2024-11-12 15:32:57] [NORM] 1.1 Replace server domain and port in nginx.conf for nginx.\r\n./startup.sh: line 76: gsed: command not found\r\n./startup.sh: line 76: gsed: command not found\r\n[2024-11-12 15:32:57] [NORM] 1.2 Replace server domain and port in init_data.json for casdoor.\r\n./startup.sh: line 76: gsed: command not found\r\n./startup.sh: line 76: gsed: command not found\r\n[2024-11-12 15:32:57] [NORM] 1.3 Replace knative gateway host and port in nginx.conf for proxy nginx.\r\n./startup.sh: line 76: gsed: command not found\r\n./startup.sh: line 76: gsed: command not found\r\n```",
      "need to install `sed` on my mac."
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/776"
  },
  {
    "id": "issue_774",
    "title": "Clone Application Space fail",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\nClone Application Space fail with Authentication failed error\r\n\r\n**Environment**\r\nhttps://opencsg.com/\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Creat a simple grario app space\r\n2. Clone Application Space\r\n   Copy git clone command, whatever use My token or not, git command fail with Authentication failed error\r\n\r\n   Error Message as following\r\n    _Cloning into 'testspace'...\r\n    fatal: Authentication failed for 'https://opencsg.com/spaces/Johnli/testspace.git/'_\r\n\r\n",
    "comments": [
      "More information - SSH works well.",
      "@lixjohn do you still have this issue?\r\nleave the user name if so. That will help us on investigation.",
      "It is fixed now, close this issue. Thanks."
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/774"
  },
  {
    "id": "issue_773",
    "title": "CSGHub demo video link",
    "body": "\r\nhttps://github.com/user-attachments/assets/04f9fa17-9294-44c1-8c4a-4d7b9a5c66fa\r\n\r\n",
    "comments": [],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/773"
  },
  {
    "id": "issue_769",
    "title": "Download AIWizards/bert-base-uncased fail",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nDownload AIWizards/bert-base-uncased fail\r\n\r\n**Environment**\r\nhttps://opencsg.com/\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to 'https://opencsg.com/models/AIWizards/bert-base-uncased/files/main/'\r\n2. Click on 'Download Model' button\r\n3. copy git command and run.\r\n      _git lfs install\r\n      git clone https://opencsg.com/models/AIWizards/bert-base-uncased.git_\r\n\r\nDownload fail with follow error, please see attachment \r\n[error download.txt](https://github.com/user-attachments/files/17691861/error.download.txt)\r\n\r\nNot all files downlaoded, please see snapshot\r\n<img width=\"255\" alt=\"image\" src=\"https://github.com/user-attachments/assets/39eedac4-7364-4036-9068-c239646b9053\">\r\n\r\n\r\n",
    "comments": [
      "BTW - tried download model.safetensors via downlaod button, \r\n![image](https://github.com/user-attachments/assets/7fd4012d-dd4c-4847-b79a-404e0fe48b49)\r\n\r\ngo to error page.\r\n<img width=\"773\" alt=\"image\" src=\"https://github.com/user-attachments/assets/ae741bbc-13b5-49d0-98e0-4c58f6be2a0a\">\r\n",
      "@pulltheflower please check whether the lfs file is missing?",
      "@lixjohn Thanks for reporting this problem, the repo https://opencsg.com/models/AIWizards/bert-base-uncased has been updated and the lfs files have been uploaded.",
      "Thanks, it works. close this issue."
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/769"
  },
  {
    "id": "issue_768",
    "title": "Model files tab can't open",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nOpen a model and navigate to files tab, it will redirect to 404 page. I also noticed the API call 500 error\r\nIt seems the last commit is nil but the code not handle it\r\n\r\n**Environment**\r\nCSGHub Version: latest\r\nOS: MacOS\r\nHardware: M2 Pro\r\nLaunch:  vscode\r\n\r\n**Screenshots**\r\n<img width=\"1500\" alt=\"image\" src=\"https://github.com/user-attachments/assets/5354855d-31fe-4e50-8a43-f4dac20959e0\">\r\n\r\n**Additional context**\r\n<img width=\"1511\" alt=\"image\" src=\"https://github.com/user-attachments/assets/6e7c6808-828b-4d48-b1b9-294eaf6a657f\">\r\n",
    "comments": [
      "Seems the repository is an empty repository, which with no commits. I'll fix this bug later. \r\n\r\nThanks for your report! @ttlittletree  "
    ],
    "state": "closed",
    "labels": [
      "bug"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/768"
  },
  {
    "id": "issue_767",
    "title": "specify the version number of the Docker image.",
    "body": "When deploying with Docker, it is necessary to specify the version number of the Docker image, such as 20241107001. However, if all Docker images are named \"latest\", it becomes impossible to roll back to the previous branch.",
    "comments": [
      "@miss-uny please try to set the docker image version same with the release version like `v1.0.0`. For example:\r\n\r\n```\r\n# docker-compose.yml\r\n...\r\n  csghub_server:\r\n    image: opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsg_public/csghub_server:v1.0.0\r\n....\r\n```\r\n\r\nTo check whether the v1.0.0 docker image exists:\r\n```\r\ndocker  pull opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsg_public/csghub_server:v1.0.0\r\n```",
      "> When deploying with Docker, it is necessary to specify the version number of the Docker image, such as 20241107001. However, if all Docker images are named \"latest\", it becomes impossible to roll back to the previous branch.\n\nHi @miss-uny , I saw that Rader had provided a suggestion on the Docker image versioning issue. Were you able to get it working based on that? Let me know if you still need any help!"
    ],
    "state": "closed",
    "labels": [
      "waiting for feedback"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/767"
  },
  {
    "id": "issue_762",
    "title": "notice on home page",
    "body": "Notifications are supported on the homepage。 Users can  configure the notification content in the  admin’s  platform .\r\n Both pop-up windows and scrolling  are ok.\r\nYou can choose an easy one.\r\n",
    "comments": [
      "gitlab-issue-346",
      "Already support system notifications"
    ],
    "state": "closed",
    "labels": [
      "enhancement",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/762"
  },
  {
    "id": "issue_761",
    "title": "[Model sync bug] The tags of models or datasets not been synced",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\n\r\nI deploy the csghub on my cumputer and tried to sync models from opencsg.com, after syned, I found that the tags of the model not been synced. \r\n\r\n**Environment**\r\nCSGHub Version: v1.0\r\nOS: Linux\r\nLaunch:  docker compose \r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to models page\r\n2. Click on a model card to the model detail page\r\n3. Click the `sync` button\r\n5. Model tags not been synced\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n",
    "comments": [
      "gitlab-issue-347",
      "@pulltheflower I think this have been fixed. Could you confirm that?",
      "please the latest version"
    ],
    "state": "closed",
    "labels": [
      "enhancement",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/761"
  },
  {
    "id": "issue_750",
    "title": "Data Processing - Preview filed is not updated after mode changed in Chinese Converter Predefined Operator",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nPreview is not refreshed after **Operator Configuration**  changed in 'Chinese Converter' Predefined Operator.\r\n\r\n**Environment**\r\nCSGHub Version: v0.7|v0.8|...\r\nOS: Linux | Windows | MacOS..\r\nHardware: 2c4G | 4c8G |...\r\nLaunch:  docker compose | helm chart\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to 'Data processing'\r\n2. Create New Task, keep Task Template as 数据处理-基础\r\n3. Change **Operator Configuration** to any other mode in **Chinese Converter** Predefined Operator, Preview field (both Before and After Clean) are not updated.\r\n\r\nPlease see snapshot\r\n![image](https://github.com/user-attachments/assets/2af47773-ce05-4141-9e26-70cd85dadc19)\r\n",
    "comments": [
      "This is predefined for each opts, it will not change by configuration.",
      "> **Describe the bug** Preview is not refreshed after **Operator Configuration** changed in 'Chinese Converter' Predefined Operator.\n> \n> **Environment** CSGHub Version: v0.7|v0.8|... OS: Linux | Windows | MacOS.. Hardware: 2c4G | 4c8G |... Launch: docker compose | helm chart\n> \n> **To Reproduce** Steps to reproduce the behavior:\n> \n> 1. Go to 'Data processing'\n> 2. Create New Task, keep Task Template as 数据处理-基础\n> 3. Change **Operator Configuration** to any other mode in **Chinese Converter** Predefined Operator, Preview field (both Before and After Clean) are not updated.\n\nHello,\nThe preview text is a static sample template and not tied to your specific data, so it won't update with configuration changes. Hope this clears things up.",
      "gitlab-issue-348"
    ],
    "state": "open",
    "labels": [
      "waiting for feedback",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/750"
  },
  {
    "id": "issue_748",
    "title": "Filter Tag does not work well if combins two or more tags",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nWhen filter tags with both **Tasks** and **Frameworks** tags, no models filtered out\r\n\r\n**Environment**\r\nCSGHub Version: v0.7|v0.8|...\r\nOS: Linux | Windows | MacOS..\r\nHardware: 2c4G | 4c8G |...\r\nLaunch:  docker compose | helm chart\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. In main page click 'Models' button\r\n2. Click **image classificaiton** tags, 817 Models filtered out, please see snapshot\r\n![image](https://github.com/user-attachments/assets/0e8af9bf-05f3-4c7a-8b89-5f30eef1fe23)\r\n\r\n4. And then click **Framework** -> **PyTorch** tag, no model fitered out. please see snapshot\r\n![image](https://github.com/user-attachments/assets/21a717a5-964f-4681-a51e-53a34c41a43a)\r\n\r\n\r\n**Expected behavior**\r\nAt least AIWizards/vit-age-classifier should be fitered out. please see snapshot.\r\n![image](https://github.com/user-attachments/assets/cfc117cb-cd79-4dad-98b0-4e1c84154136)\r\n\r\n",
    "comments": [
      "gitlab-issue-349",
      "@lixjohn The issue looks like it's from the SaaS version, not the open source version.\n\nI just verified it has been fixed:\n\n<img width=\"905\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b422b4a7-d814-45a5-a301-bf83cd8db696\" />\n\nplease feel free to reopen it if you found any further issue"
    ],
    "state": "closed",
    "labels": [
      "enhancement",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/748"
  },
  {
    "id": "issue_747",
    "title": "Is it possible to display the synchronization progress in real time while synchronizing the model?",
    "body": "<!--\r\nPlease submit the Pull Requests in English to ensure smooth communication and quicker review process.\r\n-->\r\n\r\n/kind feature\r\n\r\n**Describe the solution you'd like**\r\n在本地版本同步模型时是否可以实时显示同步进度，而不是只显示同步中\r\n\r\n\r\n\r\n**Links to the design documents or others:**\r\n<img width=\"1346\" alt=\"image\" src=\"https://github.com/user-attachments/assets/998ea8a9-af4d-4edd-b810-f2087bc19aea\">\r\n",
    "comments": [
      "Good suggestion！\r\nthere will be sync progress in Admin Panel， in next two releases.",
      "gitlab-issue-350",
      "Now the sync progress can be checked in Admin Panel"
    ],
    "state": "open",
    "labels": [
      "enhancement",
      "GitLab linked"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/747"
  },
  {
    "id": "issue_741",
    "title": "新增tag有疑问",
    "body": "1. 新增tag， 名为test， \r\n Tag origin，user_created。Tag type，framework. scope, model\r\n\r\n新增成功后，在tag 框架页面未看到新增\r\n\r\n2.修改tag test的 Tag type为language. \r\ntag 语言页面新增一个图标，\r\n\r\n3.修改tag test的 Tag type为lincense\r\ntag lincens页面新增一个图标，\r\n\r\n4. 模型a 增加tag  test，无法实现筛选（Tag type为language 或者 Tag type为lincense， 筛选的模型都是空）。模型的tag已经打上了test标签，在模型的设置里面可以查询到，模型顶端tag列表也可以看到\r\n\r\n我的疑问\r\n1.  框架页面新增不了任何图标\r\n2. language和 lincense 可以新增tag，但是新增的tag都无法用于筛选）\r\n",
    "comments": [
      "\n@miss-uny please try the latest v1.4.0 release. Thx!"
    ],
    "state": "closed",
    "labels": [
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/741"
  },
  {
    "id": "issue_738",
    "title": "is size tag supported?",
    "body": "For example, if the model size is set as a tag,\r\n\r\nTag selections are as follows:\r\n\r\ntag1 (less than 5G)\r\ntag2 (0.5-20G)\r\ntag3 (above 10G)\r\nThere are three models:\r\nModel a, with a size of 0.4G\r\nModel b, with a size of 6G\r\nModel c, with a size of 99G\r\n\r\nIf tag1 is selected, it will filter out model a.\r\nIf tag2 is selected, it will filter out model b.\r\nIf tag3 is selected, it will filter out model c.\r\n\r\nCould you please confirm if these types of tags are supported? If yes, how can they be set? If not, will they be considered in the future?",
    "comments": [
      "you can define size tag like this in readme.md\r\n```\r\nsize_categories:\r\n- 100B<n<1T\r\n```\r\n\r\nand create system built-in tag category:  `size`",
      "请问怎么使用啊？ \r\n1.界面上可以增加 tag  category嘛\r\n2.size_categories:\r\n- 100B<n<1T。  这个是不是和tag一样的格式。\r\n如下这么写嘛？\r\n# 用户自定义标签\r\ntags:\r\n   - 34B\r\nsize_categories:\r\n- 100B<n<1T\r\n---"
    ],
    "state": "closed",
    "labels": [
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/738"
  },
  {
    "id": "issue_737",
    "title": "Can JSON and CSV files be previewed quickly?",
    "body": "<!--\r\nPlease submit the Pull Requests in English to ensure smooth communication and quicker review process.\r\n-->\r\n\r\n/kind feature\r\n\r\n**Describe the solution you'd like**\r\nI only saw that parquet files can be simply previewed on the web. Can JSON and CSV files support quick previews as well?\r\n\r\n\r\n**Anything else you would like to add:**\r\nJSON and CSV format files are also widely used in the field of AI，also Huggingface could preview those files.\r\n\r\n\r\n**Links to the design documents or others:**\r\n",
    "comments": [
      "Yes, it support csv and jsonl file preview online now."
    ],
    "state": "closed",
    "labels": [
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/737"
  },
  {
    "id": "issue_736",
    "title": "Model relation did not created by update repo card in readme ",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nModel and dataset relation did not created by update relation of repo card in readme\r\n\r\n**Environment**\r\nCSGHub Version: latest\r\nOS: Linux\r\nHardware: 2c4G\r\nLaunch:  docker compose  and helm chart\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to a dataset repo file list\r\n2. Click on file list tab\r\n3. Update readme.md and update Models: <model_id>, then save readme.md file.\r\n4. go to dataset repo detail page, did not found model defined in dataset's readme.md in relationship of dataset.\r\n\r\n**Expected behavior**\r\nA relationship for model and dataset should be built.\r\n\r\n**Screenshots**\r\nSee dataset detail page.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n",
    "comments": [],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/736"
  },
  {
    "id": "issue_735",
    "title": "add repobeats active insights graph in readme",
    "body": "<!--\r\nPlease submit the Pull Requests in English to ensure smooth communication and quicker review process.\r\n-->\r\n\r\nI wonder if we could add this component to the README to make it easier for other developers to see the active status of our code repository.\r\n\r\nlet's beautify our readme！\r\n\r\nFor a detailed product description, you can check out their official introduction: https://repobeats.axiom.co/\r\n\r\n<img width=\"842\" alt=\"截屏2024-10-23 17 58 38\" src=\"https://github.com/user-attachments/assets/9b95363b-757d-44cc-9936-940f0f2bdd59\">\r\n",
    "comments": [],
    "state": "open",
    "labels": [
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/735"
  },
  {
    "id": "issue_732",
    "title": "Model inference engine auto-detecting does not work well for all engine",
    "body": "1. upload a new model Qwen/Qwen2-7B-Instruct\r\n2. access this model and click deploy as dedicated service\r\n3. select engine and only can see vllm\r\nwe expect both vllm and tgi can be available",
    "comments": [
      "Fixed in next version"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/732"
  },
  {
    "id": "issue_729",
    "title": "Support using default branch from API details instead of \"main\" for repo file series",
    "body": "<!--\r\nPlease submit the Pull Requests in English to ensure smooth communication and quicker review process.\r\n-->\r\n\r\n\r\nCurrently, the repo file series defaults to using \"main\" as the branch name. However, this may not always be accurate for all repositories.\r\n\r\nFeature request:\r\nUpdate the repo file series to use the default branch information returned by the repository details API, rather than assuming \"main\" as the default branch.\r\n\r\nThis change would improve accuracy and flexibility, especially for repositories that use different naming conventions for their default branch.\r\n\r\n",
    "comments": [],
    "state": "closed",
    "labels": [
      "enhancement"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/729"
  },
  {
    "id": "issue_721",
    "title": "helm deployment problem",
    "body": "When I try to quickly install using Helm in my Kubernetes cluster with the command:\r\n`curl -sfL https://raw.githubusercontent.com/OpenCSGs/csghub-installer/refs/heads/main/helm-chart/install.sh | bash -s --\r\n`\r\n\r\nI encounter the following error message:\r\n`W1012 14:28:51.972853 2108534 loader.go:222] Config not found: /etc/rancher/k3s/k3s.yaml\r\nE1012 14:28:51.973546 2108534 memcache.go:238] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\r\nE1012 14:28:51.973958 2108534 memcache.go:238] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\r\nE1012 14:28:51.975442 2108534 memcache.go:238] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\r\nE1012 14:28:51.976834 2108534 memcache.go:238] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\r\nE1012 14:28:51.978164 2108534 memcache.go:238] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\r\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\r\n[2024-10-12 14:28:51] [WARN] K3S cluster is not ready yet. Attempt 10/10.\r\n[2024-10-12 14:29:01] [ERRO] K3S cluster is not up after 10 attempts.\r\n[2024-10-12 14:29:01] [ERRO] Failed to verify K3S cluster status.\r\n`",
    "comments": [
      "If you can post your complete command and output here. It seems the script attept to install k3s cluster, is it kubernetes already exists yourself?",
      "> If you can post your complete command and output here. It seems the script attept to install k3s cluster, is it kubernetes already exists yourself?\r\n\r\nYes, the kubernetes cluster already exists.",
      "Is it your kube config in the default location?",
      "> Is it your kube config in the default location?\r\n\r\nyes",
      "You can retry with `curl -sfL https://raw.githubusercontent.com/OpenCSGs/csghub-installer/refs/heads/main/helm-chart/install.sh | ENABLE_K3S=false bash -s -- <domain>`\r\nmore defails:\r\n- https://github.com/OpenCSGs/csghub-installer/blob/main/helm-chart/README.md\r\n- https://github.com/OpenCSGs/csghub-installer/blob/main/docs/en/helm_chart_installation_detail_en.md",
      "close as no response. "
    ],
    "state": "closed",
    "labels": [
      "question"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/721"
  },
  {
    "id": "issue_712",
    "title": "使用 Helm 快速安装",
    "body": "curl -sfL https://raw.githubusercontent.com/OpenCSGs/csghub-installer/refs/heads/main/helm-chart/install.sh | bash -s -- <domain>\r\n\r\n当我在我的 k8s 集群中执行时报错：\r\nW1012 14:28:51.972853 2108534 loader.go:222] Config not found: /etc/rancher/k3s/k3s.yaml\r\nE1012 14:28:51.973546 2108534 memcache.go:238] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\r\nE1012 14:28:51.973958 2108534 memcache.go:238] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\r\nE1012 14:28:51.975442 2108534 memcache.go:238] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\r\nE1012 14:28:51.976834 2108534 memcache.go:238] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\r\nE1012 14:28:51.978164 2108534 memcache.go:238] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\r\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\r\n[2024-10-12 14:28:51] [WARN] K3S cluster is not ready yet. Attempt 10/10.\r\n[2024-10-12 14:29:01] [ERRO] K3S cluster is not up after 10 attempts.\r\n[2024-10-12 14:29:01] [ERRO] Failed to verify K3S cluster status.\r\n\r\n\r\n是基于 K3S cluster 的吗？  常规的 kubeadm 部署的 k8s 集群需要按照手动部署吗？",
    "comments": [
      "Please open issue in English, thanks!\r\n\r\nClose this issue."
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/712"
  },
  {
    "id": "issue_711",
    "title": "Suspicious Increase in Stars on This Repository",
    "body": "I have noticed unusual activity on your repository recently. In the past three days, there is a sudden notable increase in GitHub Stars. Many of these stars come from accounts that appear to be bots or fake users. Their profiles are filled with irrelevant or spam content. This is very suspicious.\r\n\r\nAs a long-time GitHub lover and AI researcher, I am truly concerned about this behavior. Artificially boosting stars is against GitHub policies and harms the integrity of the community. It is important that all users follow the rules and maintain fairness.\r\n\r\nI kindly ask you to address this issue and stop any activities that violate GitHub guidelines. I have already REPORTED this matter to the GitHub official team and the community moderators for further investigation.\r\n\r\nHope this helps!",
    "comments": [
      "Guys, what's your guys suggestions on current situation? It's new to us and it's hard to reject stars on our side. ",
      "there is no huge star increase \"In the past three days\" you mentioned.\r\n\r\nCheck the project star history:  https://star-history.com/#OpenCSGs/csghub&Date\r\n\r\n<img width=\"870\" alt=\"image\" src=\"https://github.com/user-attachments/assets/44ab79cc-7b37-4ff4-a874-3e24deda0fa5\">\r\n",
      "> Guys, what's your guys suggestions on current situation? It's new to us and it's hard to reject stars on our side.\r\n\r\n@samchen8008 @Rader \r\n\r\nAlright, let's cut to the chase. If you guys bought these fake stars, please stop. GitHub won't like it and might punish you, just like they did with GuijiAI from your country.\r\n\r\nYou can actually REJECT these stars. Don't fall for the fake hype. Just BLOCK 'em -- GitHub's got a how-to doc right here: https://docs.github.com/en/communities/maintaining-your-safety-on-github/blocking-a-user-from-your-organization#blocking-a-user-in-the-organization-settings\r\n\r\nGetting ~3k stars in 6 months is great! You're doing well. That's why you should protect your reputation, not use tricks to boost it.\r\n\r\nAlso, your contributor list is looking pretty in-house. Try inviting more outside contributors. It'll help your project grow in the long run.\r\n\r\nHope you'll think about this. Keep it real, guys. Your project looks promising -- let it succeed on its own merits."
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/711"
  },
  {
    "id": "issue_707",
    "title": "The file was added in the main branch, but it also exists in the file list of other branches. An error occurred when viewing the file content.",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nThe file was added in the main branch, but it also exists in the file list of other branches. An error occurred when viewing the file content.\r\n\r\n**Environment**\r\nCSGHub Version: v0.9\r\nOS: Linux\r\nHardware: 4c8G |...\r\nLaunch:  docker compose\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. add file “test” in the main branch\r\n2. go other branch\r\n3. file list has “test” file\r\n4. view “test” file，error\r\n\r\n",
    "comments": [
      "@leipeizhao thanks for report this issue!\r\nDoes the file exist in a wrong branch, after you clone the repo to local disk?",
      "> @leipeizhao感谢您报告此问题！ 将 repo 克隆到本地磁盘后，文件是否存在于错误的分支中？\r\n\r\n问题已定位到component/repo.go文件中Tree方法里面错误\r\n```\r\n// getRepoFileTree.Ref = repo.DefaultBranch\r\ntree, err := c.git.GetRepoFileTree(ctx, getRepoFileTree)\r\n```\r\n注释掉上面一行就好了，否则每次查看的都是默认分支的文件内容",
      "yes, you are right. \r\nThere is already a bug fix for this issue:  https://github.com/OpenCSGs/csghub-server/pull/134"
    ],
    "state": "closed",
    "labels": [
      "bug",
      "v0.9.0"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/707"
  },
  {
    "id": "issue_701",
    "title": "Uppercase letters can be used to filter the model ",
    "body": "Currently, tag names only support lowercase letters. If the first letter is capitalized, the tag can be created successfully, but the tag cannot be used to filter the model.\r\nIt is expected that tag names can support uppercase letters, and uppercase letters can be used to filter the model after creation.\r\n",
    "comments": [
      "@miss-uny could you give an example? Is the tag name in lowercase, when passed in http query?",
      "1.  tag name is lowercase， test。\r\n\r\nhttp://10.9.92.247:38080/api/v1/models?page=1&per=16&search=&sort=trending&task_tag=s60&framework_tag=&language_tag=&license_tag=&source=\r\n\r\nhttp query will pass。\r\n2. tag name is uppercase，Test\r\nhttp://10.9.92.247:38080/api/v1/models?page=1&per=16&search=&sort=trending&task_tag=Test&framework_tag=&language_tag=&license_tag=&source=\r\nhttp query will fail。",
      "> 1. tag name is lowercase， test。\r\n> \r\n> http://10.9.92.247:38080/api/v1/models?page=1&per=16&search=&sort=trending&task_tag=s60&framework_tag=&language_tag=&license_tag=&source=\r\n> \r\n> http query will pass。 2. tag name is uppercase，Test http://10.9.92.247:38080/api/v1/models?page=1&per=16&search=&sort=trending&task_tag=Test&framework_tag=&language_tag=&license_tag=&source= http query will fail。\r\n\r\n@miss-uny Have you checked case of the tag name related to \"task_tag=Test\",  is it in lowercase or uppercase in table `tags`？ ",
      "> > 1. tag name is lowercase， test。\r\n> > \r\n> > http://10.9.92.247:38080/api/v1/models?page=1&per=16&search=&sort=trending&task_tag=s60&framework_tag=&language_tag=&license_tag=&source=\r\n> > http query will pass。 2. tag name is uppercase，Test http://10.9.92.247:38080/api/v1/models?page=1&per=16&search=&sort=trending&task_tag=Test&framework_tag=&language_tag=&license_tag=&source= http query will fail。\r\n> \r\n> @miss-uny Have you checked case of the tag name related to \"task_tag=Test\", is it in lowercase or uppercase in table `tags`？\r\n\r\ntask_tag is Test。 It's in tags list. I could not get database because I don't have permission。Test is in admin portal ， I’m sure.",
      "tag names are now case insenstive"
    ],
    "state": "closed",
    "labels": [
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/701"
  },
  {
    "id": "issue_699",
    "title": "Tag field and tag type customization",
    "body": "Neither tag field nor tag type currently supports customization.\r\nIt needs to be operated in the database, which is very inconvenient. Please support this function on the page.\r\nThank you very much\r\n",
    "comments": [
      "@Rader is there any tips to share for his requirements before we having this feature? ",
      "Sounds like @miss-uny his requirement is kinda legit for us. ",
      "steps to add a new tag and let it show on tags filter panel:\r\n\r\n1. insert custom tags into table `tags`, make sure `built_in` is `true`,  category could be any new category you need, other than system default `task`, `framework`, `language` or `license`\r\n2. update portal to show new category of tag, by change [frontend/src/components/tags/TagSideBar.vue](https://github.com/OpenCSGs/csghub/blob/main/frontend/src/components/tags/TagSidebar.vue)\r\n",
      "admin pannel now supports tag customization"
    ],
    "state": "closed",
    "labels": [
      "enhancement",
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/699"
  },
  {
    "id": "issue_694",
    "title": "register user error",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nregister user error\r\n\r\n**Environment**\r\nCSGHub Version: v0.9\r\nOS: Linux \r\nHardware:  4c8G \r\nLaunch:  docker compose \r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. register user test1，login user  is ok，logout test1\r\n2. register user test2，login error，error message is：ERROR: duplicate key value violates unique constraint \"users_email_key\"\r\n3. because the email info is lost in the function \"createFromCasdoorUser\" in the project csghub-server\r\n\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n",
    "comments": [
      "this bug will be fixed in `v0.9.3`"
    ],
    "state": "closed",
    "labels": [
      "bug"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/694"
  },
  {
    "id": "issue_692",
    "title": "Invite New Member error",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\n   invite new member to  a organization error\r\n\r\n**Environment**\r\nCSGHub Version: v0.9\r\nOS: Linux\r\nLaunch:  docker compose\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to a organization detail\r\n2. Click on 'invite'\r\n3. input username,go 404 page\r\n4. See error https://192.168.73.2/api/v1/users?search=a   404\r\n\r\n\r\n",
    "comments": [
      "hi, I can not reproduced this bug, could you please provide some logs and/or screenshots? thanks.",
      "search user url :/api/v1/users?search=xx  \r\n```\r\n async function getUsers(username) {\r\n    const usersEndpoint = `/users?search=${username}`\r\n    const options = {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }\r\n```\r\nserver  router does not have get request\r\n```\r\n{\r\n\t\tapiGroup.POST(\"/users\", userProxyHandler.ProxyToApi(\"/api/v1/user\"))\r\n\t\tapiGroup.PUT(\"/users/:username\", userProxyHandler.ProxyToApi(\"/api/v1/user/%v\", \"username\"))\r\n\t}\r\n\r\n```",
      "no pictures，i fixed it\r\n```\r\napiV1Group.GET(\"/users\", userHandler.SearchByName)\r\n\r\nfunc (h *UserHandler) SearchByName(ctx *gin.Context) {\r\n\tuserName := ctx.Query(\"search\")\r\n\tuser, err := h.c.SearchByName(ctx, userName)\r\n\tif err != nil {\r\n\t\tslog.Error(\"Failed to get user\", slog.Any(\"error\", err))\r\n\t\thttpbase.ServerError(ctx, err)\r\n\t\treturn\r\n\t}\r\n\r\n\tslog.Info(\"Search user succeed\", slog.String(\"userName\", userName))\r\n\thttpbase.OK(ctx, user)\r\n}\r\n\r\n\r\n\r\nfunc (s *UserStore) FindUsersByName(ctx context.Context, username string) (users []User, err error) {\r\n\terr = s.db.Operator.Core.NewSelect().Model(&users).Where(\"username like ?\", fmt.Sprintf(\"%s%%\", username)).Scan(ctx)\r\n\treturn\r\n}\r\n```",
      "@leipeizhao would you mind of creating a PR for this bug fix?"
    ],
    "state": "closed",
    "labels": [
      "bug",
      "v0.9.0"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/692"
  },
  {
    "id": "issue_682",
    "title": "  docs/docs/setup_en.md not found",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\n[contribution guide](https://github.com/OpenCSGs/csghub/blob/main/docs/CONTRIBUTING_en.md) linkes to a doc not found: [local environment](https://github.com/OpenCSGs/csghub/blob/main/docs/docs/setup_en.md)\r\n\r\n**Environment**\r\nNA\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nNA\r\n\r\n**Expected behavior**\r\nNA\r\n\r\n**Screenshots**\r\nNA\r\n\r\n**Additional context**\r\nNA\r\n",
    "comments": [
      "also not found:  [Docker Compose](https://github.com/OpenCSGs/csghub/blob/main/docs/docs/all_in_one_readme_en.md)",
      "fixed"
    ],
    "state": "closed",
    "labels": [
      "documentation"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/682"
  },
  {
    "id": "issue_673",
    "title": "login page empty",
    "body": "\r\n\r\ndocker信息\r\n![image](https://github.com/user-attachments/assets/cbd6046e-3ce9-4939-8c1e-f12c4c04400d)\r\n\r\n\r\n\r\n谷歌浏览器提示：\r\n```\r\n{\r\n  \"status\": \"error\",\r\n  \"msg\": \"Redirect URI: http://121.37.3.254:80/api/v1/callback/casdoor doesn't exist in the allowed Redirect URI list\",\r\n  \"data\": null,\r\n  \"data2\": null\r\n}\r\n\r\n```\r\n\r\nedge浏览器提示\r\n```\r\n<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\r\n    <meta name=\"theme-color\" content=\"#000000\" />\r\n    <meta\r\n      name=\"description\"\r\n      content=\"Casdoor - An Identity and Access Management (IAM) / Single-Sign-On (SSO) platform with web UI supporting OAuth 2.0, OIDC, SAML and CAS\"\r\n    />\r\n    <link\r\n      rel=\"apple-touch-icon\"\r\n      href=\"https://cdn.casbin.org/img/favicon.png\"\r\n    />\r\n    <link\r\n      rel=\"manifest\"\r\n      href=\"https://cdn.casbin.org/site/casdoor/manifest.json\"\r\n    />\r\n    <title>Casdoor</title>\r\n    <script defer=\"defer\" src=\"/static/js/main.cd46c836.js\"></script>\r\n    <link href=\"/static/css/main.b5f23b34.css\" rel=\"stylesheet\" />\r\n  </head>\r\n  <body>\r\n    <noscript>You need to enable JavaScript to run this app.</noscript>\r\n    <div id=\"root\"></div>\r\n  </body>\r\n</html>\r\n```\r\n",
    "comments": [
      "@zhaoxinhua like it said, you should add `http://121.37.3.254:80/api/v1/callback/casdoor` to your Casdoor application's Redirect URIs, a similar docs: https://casdoor.org/docs/integration/C++/Nginx/#configuring-casdoor"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/673"
  },
  {
    "id": "issue_671",
    "title": "can not select runtime framework after deploy a model",
    "body": "![Uploading image.png…]()\r\n",
    "comments": [
      "![image](https://github.com/user-attachments/assets/3927dd50-983b-4c85-b29e-383bf4243de3)\r\n"
    ],
    "state": "closed",
    "labels": [
      "enhancement",
      "good first issue"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/671"
  },
  {
    "id": "issue_669",
    "title": "Uploading one data set works fine, pushing multiple data sets will not be visible",
    "body": "<img width=\"2197\" alt=\"image\" src=\"https://github.com/user-attachments/assets/95b9f73f-6f7a-4825-a34e-884cd889b932\">\r\n<img width=\"1770\" alt=\"image\" src=\"https://github.com/user-attachments/assets/7f6e9c58-aeea-4902-a5ae-07dc9f48d0ba\">\r\n\r\nEach file is about 800M, CSV format\r\n",
    "comments": [
      "@HuangLuGuang can you help update the title to english? We have some foreign contributors who will look at this issue",
      "The connection to the git serve may have timed out, but I thought I'd find out where to set the timeout",
      "how many files in this dataset?",
      "> how many files in this dataset?\r\n\r\n\r\nAbout 50 files, each about 800MB, CSV file\r\n\r\n",
      "could you help list the hareware info like CPU, MEM?\r\n\r\nand, which version of csghub used?",
      "> could you help list the hareware info like CPU, MEM?\r\n> \r\n> and, which version of csghub used?\r\n\r\nCPU info \r\nArchitecture:            x86_64\r\n  CPU op-mode(s):        32-bit, 64-bit\r\n  Address sizes:         43 bits physical, 48 bits virtual\r\n  Byte Order:            Little Endian\r\nCPU(s):                  4\r\n  On-line CPU(s) list:   0-3\r\nVendor ID:               GenuineIntel\r\n  Model name:            Intel(R) Xeon(R) CPU E5-2678 v3 @ 2.50GHz\r\n    CPU family:          6\r\n    Model:               63\r\n\r\nMEM: 8G\r\n\r\ncsghub version is latest",
      "@HuangLuGuang issue is closed, did you find the root cause?",
      "> @HuangLuGuang issue is closed, did you find the root cause?\r\n\r\ncsv files are not tracked by lfs by default，dataset tree api response time is too long. ",
      "> > @HuangLuGuang issue is closed, did you find the root cause?\r\n> \r\n> csv files are not tracked by lfs by default，dataset tree api response time is too long.\r\n\r\nget it, thanks!"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/669"
  },
  {
    "id": "issue_668",
    "title": "跳转登陆页面空白",
    "body": "网站地址：http://121.37.3.254/\r\n\r\ndocker信息\r\n![image](https://github.com/user-attachments/assets/cbd6046e-3ce9-4939-8c1e-f12c4c04400d)\r\n\r\n\r\n\r\n谷歌浏览器提示：\r\n```\r\n{\r\n  \"status\": \"error\",\r\n  \"msg\": \"Redirect URI: http://121.37.3.254:80/api/v1/callback/casdoor doesn't exist in the allowed Redirect URI list\",\r\n  \"data\": null,\r\n  \"data2\": null\r\n}\r\n\r\n```\r\n\r\nedge浏览器提示\r\n```\r\n<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\r\n    <meta name=\"theme-color\" content=\"#000000\" />\r\n    <meta\r\n      name=\"description\"\r\n      content=\"Casdoor - An Identity and Access Management (IAM) / Single-Sign-On (SSO) platform with web UI supporting OAuth 2.0, OIDC, SAML and CAS\"\r\n    />\r\n    <link\r\n      rel=\"apple-touch-icon\"\r\n      href=\"https://cdn.casbin.org/img/favicon.png\"\r\n    />\r\n    <link\r\n      rel=\"manifest\"\r\n      href=\"https://cdn.casbin.org/site/casdoor/manifest.json\"\r\n    />\r\n    <title>Casdoor</title>\r\n    <script defer=\"defer\" src=\"/static/js/main.cd46c836.js\"></script>\r\n    <link href=\"/static/css/main.b5f23b34.css\" rel=\"stylesheet\" />\r\n  </head>\r\n  <body>\r\n    <noscript>You need to enable JavaScript to run this app.</noscript>\r\n    <div id=\"root\"></div>\r\n  </body>\r\n</html>\r\n```\r\n",
    "comments": [
      "duplicated with #665 "
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/668"
  },
  {
    "id": "issue_666",
    "title": "部署完没有新建数据集，新建模型等入口",
    "body": "<img width=\"1481\" alt=\"image\" src=\"https://github.com/user-attachments/assets/e2e9d30c-93fb-4c6b-8ab4-27cb1f997f8a\">\r\n如图，我看文档上面点头像有新建数据集入口，使用all_in_one文件夹下面的startup.sh部署的，部署完成为什么没有，并未发现报错日志",
    "comments": [
      "必须设置邮箱就行了"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/666"
  },
  {
    "id": "issue_665",
    "title": "跳转登录页面空白",
    "body": "网站地址：http://121.37.3.254/\r\n\r\ndocker信息\r\n![image](https://github.com/user-attachments/assets/cbd6046e-3ce9-4939-8c1e-f12c4c04400d)\r\n\r\n\r\n\r\n谷歌浏览器提示：\r\n```\r\n{\r\n  \"status\": \"error\",\r\n  \"msg\": \"Redirect URI: http://121.37.3.254:80/api/v1/callback/casdoor doesn't exist in the allowed Redirect URI list\",\r\n  \"data\": null,\r\n  \"data2\": null\r\n}\r\n\r\n```\r\n\r\nedge浏览器提示\r\n```\r\n<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"utf-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\r\n    <meta name=\"theme-color\" content=\"#000000\" />\r\n    <meta\r\n      name=\"description\"\r\n      content=\"Casdoor - An Identity and Access Management (IAM) / Single-Sign-On (SSO) platform with web UI supporting OAuth 2.0, OIDC, SAML and CAS\"\r\n    />\r\n    <link\r\n      rel=\"apple-touch-icon\"\r\n      href=\"https://cdn.casbin.org/img/favicon.png\"\r\n    />\r\n    <link\r\n      rel=\"manifest\"\r\n      href=\"https://cdn.casbin.org/site/casdoor/manifest.json\"\r\n    />\r\n    <title>Casdoor</title>\r\n    <script defer=\"defer\" src=\"/static/js/main.cd46c836.js\"></script>\r\n    <link href=\"/static/css/main.b5f23b34.css\" rel=\"stylesheet\" />\r\n  </head>\r\n  <body>\r\n    <noscript>You need to enable JavaScript to run this app.</noscript>\r\n    <div id=\"root\"></div>\r\n  </body>\r\n</html>\r\n```\r\n",
    "comments": [
      "This issue will be closed. Please report issue with a prop issue template in English.\r\n\r\nThanks!"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/665"
  },
  {
    "id": "issue_662",
    "title": "login error   ",
    "body": "\r\n1. signup a user test\r\n2. login user \r\n3. login error ,message is \"502 Bad Gateway\" with url \"http://192.168.73.2:6080/api/v1/callback/casdoor?code=652ecf1e0b2f4bc8bd90&state=casdoor\"\r\n4. log is \"{\"time\":\"2024-09-23T10:56:08.44444961Z\",\"level\":\"INFO\",\"msg\":\"http request\",\"ip\":\"192.168.101.11\",\"method\":\"GET\",\"latency(ms)\":751,\"status\":502,\"current_user\":\"\",\"auth_type\":\"\",\"url\":\"/api/v1/callback/casdoor?code=fdc7b21d34353abf80f4&state=casdoor\"}\"\r\n\r\n",
    "comments": [
      "+1",
      "Solved, the issue was caused by Docker proxy problem. Docker proxy failed the internal request by blocking the URL 192.168.100. x; Other similar reasons may require checking if the service has started successfully"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/662"
  },
  {
    "id": "issue_661",
    "title": "no matching manifest for linux/arm64/v8 in the manifest list entries",
    "body": "<!--\r\nPlease submit your issue in English to ensure it's addressed promptly and efficiently.\r\n-->\r\n**Describe the bug**\r\nCannot pull docker image of csghub server on Apple M3 Pro.\r\n\r\n**Environment**\r\nCSGHub Version: v0.9.0\r\nOS: MacOS..\r\nHardware: Apple M3 Pro 18G\r\nLaunch:  docker compose\r\n\r\n\r\n**To Reproduce**\r\nN/A\r\n\r\n**Expected behavior**\r\nsuccessfully pull the docker image.\r\n\r\n**Screenshots**\r\nN/A\r\n\r\n**Additional context**\r\npull the image:\r\n> docker pull opencsg-registry.cn-beijing.cr.aliyuncs.com/opencsg_public/csghub_server:v0.9.0\r\n\r\nlog\r\n```\r\nv0.9.0: Pulling from opencsg_public/csghub_server\r\nno matching manifest for linux/arm64/v8 in the manifest list entrie\r\n```\r\n",
    "comments": [],
    "state": "open",
    "labels": [
      "v0.9.0"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/661"
  },
  {
    "id": "issue_649",
    "title": "update the portal arch diagram",
    "body": "i think this diagram (docs/images/portal_tech_graph.png)  is out of date. Rails code has been reimplemented in Golang and gin. Also, modules like user, org, tag, discussion have been moved to csghub-server\r\n",
    "comments": [
      "close as done"
    ],
    "state": "closed",
    "labels": [
      "documentation",
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/649"
  },
  {
    "id": "issue_613",
    "title": "docker一键启动遇到的问题",
    "body": null,
    "comments": [
      "close as empty issue body"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/613"
  },
  {
    "id": "issue_609",
    "title": "修改 csghub 的域名后，老的 model、dataset clone 时域名没有同步更新，如何处理?",
    "body": null,
    "comments": [
      "更新一下repository表的clone url值",
      "能否提供下命令？",
      "先登录运行环境的postgres数据库starhub_server, 找到表respository，使用update sql语句，更新http_clone_url字段值，把旧的域名修改成新域名.",
      "问题已解决，感谢！"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/609"
  },
  {
    "id": "issue_607",
    "title": "all in one installed but failed to sync model from opencsg.com",
    "body": "here is the request：\r\n```\r\ncurl 'http://[server_ip]/api/v1/models/CSG_AIWizards/zavychromaxl/mirror_from_saas' \\\r\n  -X 'POST' \\\r\n  -H 'Accept: */*' \\\r\n  -H 'Accept-Language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7' \\\r\n  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1dWlkIjoiZWJlOTRlMzAtMDRmMS00MTFmLTlmZDktZTMxMDU3MDgxZTg1IiwiY3VycmVudF91c2VyIjoib3BlbmNzZyIsImlzcyI6Ik9wZW5DU0ciLCJleHAiOjE3MjYxMzc1MzF9.VQ9ZeXjI3qXYegHxZgcqVGjv7UCsRLGD9XjjEglEx9c' \\\r\n  -H 'Content-Length: 0' \\\r\n  -H 'Content-Type: application/json' \\\r\n  -H 'Cookie: locale=en; casdoor_session_id=1c0e9caa50504083f320fcd3ec8f0e59; user_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1dWlkIjoiZWJlOTRlMzAtMDRmMS00MTFmLTlmZDktZTMxMDU3MDgxZTg1IiwiY3VycmVudF91c2VyIjoib3BlbmNzZyIsImlzcyI6Ik9wZW5DU0ciLCJleHAiOjE3MjYxMzc1MzF9.VQ9ZeXjI3qXYegHxZgcqVGjv7UCsRLGD9XjjEglEx9c; can_change_username=false; login_identity=ebe94e30-04f1-411f-9fd9-e31057081e85; current_user=opencsg; admin_user=true; _your_app_session=QLfEcnNaXdNhcahuXl2TAoqHnBPBSiWf1A%2B3SOmShHMTyT7glAaBWHGpxV2MPZiWCvODZzj8EiWvyMdfL4wG4dN1HwWp88NvSF0X0mPev16%2BdOo%2F2DF1tmrhrdzsFx6ypejpz0kPIpYiAgwLlDR4k6RfE%2FCNpwvSAcgCm%2Fccgn84czWLVsqbqAQrXXTeU%2BHCfwR4aCwApxuxAJGI45eBKw7CHqu19xyIfaxaO3cLkC%2BhCuiy4MW1ZodvIzdWOkcV0ZGD7zn%2Bo7hweqDDpxA%2Ba%2FMlu8EF9f2hDj6wUMP1zc8i7ZJ0XaB7Olcyfz1XSrk%3D--8DLoN9nyTC%2ByQVrA--v%2F3McXqk8Eqvjy7OK32csg%3D%3D' \\\r\n  -H 'DNT: 1' \\\r\n  -H 'Origin: http://[server_ip]/' \\\r\n  -H 'Proxy-Connection: keep-alive' \\\r\n  -H 'Referer: http://[server_ip]//models/CSG_AIWizards/zavychromaxl/files/main' \\\r\n  -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.0' \\\r\n  --insecure\r\n```\r\n\r\nresponse from remote server：\r\n> {\r\n    \"msg\": \"failed to create pull mirror in mirror server: user does not exist [uid: 0, name: models_CSG_AIWizards, keyid: 0]\"\r\n}\r\n<img width=\"1371\" alt=\"image\" src=\"https://github.com/user-attachments/assets/6f6d59fe-5dac-468f-aeb3-a75f05566087\">\r\n",
    "comments": [],
    "state": "open",
    "labels": [
      "v0.8.0",
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/607"
  },
  {
    "id": "issue_606",
    "title": "有没有人帮忙看一下呢谢谢",
    "body": "![image](https://github.com/user-attachments/assets/b469b6a8-34c8-4498-9be3-54a200984e07)\r\n![image](https://github.com/user-attachments/assets/e1478918-7f19-426d-9f00-44623024068c)\r\n\r\n使用了all-in-one目录启动\r\n\r\n![image](https://github.com/user-attachments/assets/3b295da2-8ed5-462e-953d-f92bdf3ddfb8)\r\n\r\n\r\n数据集请求失败的网络请求 及 负载\r\n![image](https://github.com/user-attachments/assets/ac5f090a-067a-4d8d-954e-d6c29c9fbabe)\r\n![image](https://github.com/user-attachments/assets/a9a77960-ac04-4195-8879-b7eaacfd5619)\r\n\r\n\r\n\r\n\r\n**all_in_one_user_server_1**\r\n```\r\n/{\"time\":\"2024-09-11T06:43:23.610126193Z\",\"level\":\"ERROR\",\"msg\":\"Error sending request:\",\"!BADKEY\":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:43:23.610247671Z\",\"level\":\"ERROR\",\"msg\":\"Fail to create git server access token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:43:23.610257334Z\",\"level\":\"ERROR\",\"msg\":\"Failed to find or create token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\nError: failed to init router: error creating user handler:failed to create user component: failed to create git server,error:Post \"http://gitea:3001/api/v1/users/root/tokens\": dial tcp 172.25.0.2:3001: connect: connection refused\r\n```\r\n\r\n------------------------------------------------\r\n**all_in_one_csghub_server_1**\r\n```\r\nError: failed to init router: error creating git http handler:fail to create git server,error:Post \"http://gitea:3001/api/v1/users/root/tokens\": dial tcp 172.25.0.2:3001: connect: connection refused\r\nGitea log scan job already exists\r\nCalculate score job already exists\r\nCreate push mirror job already exists\r\nCheck mirror progress job already exists\r\nSync as client job already exists\r\nRestarting periodic command scheduler: cronStopping periodic command scheduler: cron.\r\nStarting periodic command scheduler: cron.\r\nDone.\r\nDatabase setup...\r\nMigration init\r\ninit logger, level: INFO, format: json\r\nMigration migrate\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-09-11T06:45:30.712015165Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\r\nStart server...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-09-11T06:45:30.897340101Z\",\"level\":\"INFO\",\"msg\":\"FIFOScheduler run started\"}\r\n{\"time\":\"2024-09-11T06:45:30.900772126Z\",\"level\":\"ERROR\",\"msg\":\"Error sending request:\",\"!BADKEY\":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:45:30.900826286Z\",\"level\":\"ERROR\",\"msg\":\"Fail to create git server access token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:45:30.900833417Z\",\"level\":\"ERROR\",\"msg\":\"Failed to find or create token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:45:30.900859376Z\",\"level\":\"ERROR\",\"msg\":\"fail to create git server,error:Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\nError: failed to init router: error creating git http handler:fail to create git server,error:Post \"http://gitea:3001/api/v1/users/root/tokens\": dial tcp 172.25.0.2:3001: connect: connection refused\r\n```\r\n-----------------------------------------------\r\n**all_in_one_server_proxy_nginx_1**\r\n```\r\n/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\r\n/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\r\n10-listen-on-ipv6-by-default.sh: info: IPv6 listen already enabled\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\r\n/docker-entrypoint.sh: Configuration complete; ready for start up\r\nnginx: [emerg] invalid port in upstream \"_CSGHUB_KNATIVE_GATEWAY_HOST:_CSGHUB_KNATIVE_GATEWAY_PORT\" in /etc/nginx/nginx.conf:88\r\n```\r\n-------------------------------------------------\r\n**all_in_one_nginx_1**\r\n\r\n```\r\n/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\r\n/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\r\n10-listen-on-ipv6-by-default.sh: info: IPv6 listen already enabled\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\r\n/docker-entrypoint.sh: Configuration complete; ready for start up\r\nnginx: [emerg] server name \"*.\" is invalid in /etc/nginx/nginx.conf:208\r\n```\r\n----------------------------------\r\n **all_in_one_csghub_server_proxy_1**\r\n\r\n```\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-09-11T06:52:24.929692372Z\",\"level\":\"ERROR\",\"msg\":\"Error sending request:\",\"!BADKEY\":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:52:24.929804061Z\",\"level\":\"ERROR\",\"msg\":\"Fail to create git server access token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:52:24.929810988Z\",\"level\":\"ERROR\",\"msg\":\"Failed to find or create token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:52:24.931231405Z\",\"level\":\"ERROR\",\"msg\":\"fail to create git server,error:Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\nError: failed to init router: error creating rproxy handler:failed to create space component,fail to create git server,error:Post \"http://gitea:3001/api/v1/users/root/tokens\": dial tcp 172.25.0.2:3001: connect: connection refused\r\n```\r\n\r\n---------------------------------\r\n**all_in_one_csghub_server_runner_1**\r\n```\r\n{\"time\":\"2024-09-11T06:52:25.217314592Z\",\"level\":\"ERROR\",\"msg\":\"falied to build kubeconfig\",\"error\":\"invalid configuration: no configuration has been provided, try setting KUBERNETES_MASTER environment variable\"}\r\nError: failed to build NewHttpServer,failed to build kubeconfig,invalid configuration: no configuration has been provided, try setting KUBERNETES_MASTER environment variable\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-09-11T06:53:25.521554669Z\",\"level\":\"ERROR\",\"msg\":\"falied to build kubeconfig\",\"error\":\"invalid configuration: no configuration has been provided, try setting KUBERNETES_MASTER environment variable\"}\r\nError: failed to build NewHttpServer,failed to build kubeconfig,invalid configuration: no configuration has been provided, try setting KUBERNETES_MASTER environment variable\r\n\r\n```\r\n\r\n\r\n",
    "comments": [
      "这个issue与 https://github.com/OpenCSGs/CSGHub/issues/592 是重复的。\r\n请在原始issue中继续讨论，谢谢！ ",
      "> 这个issue与 #592 是重复的。 请在原始issue中继续讨论，谢谢！\r\n\r\n那个没人回复了"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/606"
  },
  {
    "id": "issue_602",
    "title": "tag 分类是否可以新增？",
    "body": "因一些业务需求，希望新增tag分类，发现管理平台不支持",
    "comments": [
      "您的提议非常好，我们会在未来版本中考虑新增，如果想尽快加上，可以联系我们商务团队或者在发邮件给echo.lv@opencsg.com说明诉求，谢谢！"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/602"
  },
  {
    "id": "issue_601",
    "title": "数据集可否设置为public？",
    "body": null,
    "comments": [
      "可以创建公开数据集，设置里修改可见性暂时没有，待开发。"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/601"
  },
  {
    "id": "issue_596",
    "title": "模型新增tag，提示成功，但实际并没有增加上",
    "body": "1. testmodel 模型-》设置\r\n2. 模型标签，输入文本生成标签（已有），点击更新，提示更新成功\r\n3 点击模型-》讨论，再点击模型-》设置。 模型标签中并没有已设置的标签\r\n\r\n补充，部分模型如此。 \r\n可稳定复现",
    "comments": [
      "输入 tag 信息之后，是不是弹出了 tag 列表，并从中选择了一个？",
      " 输入tag信息后，是从tag列表钟选择了一个，然后点击更新，提示”更新成功“\r\n",
      "模型详情页的顶部有之前输入的 tag 了吗？\r\n<img width=\"756\" alt=\"image\" src=\"https://github.com/user-attachments/assets/91ea7fd2-6bee-4678-b465-65e185c26bff\">\r\n",
      "1.模型在顶部没有输入的tag了 .\r\n2. 数据集也偶现这个问题，\r\n数据集更新了tag后，顶部查看是有的。并且再次查看数据集标签也是有的testtag，但使用testtag过滤数据集，返回为空",
      "方便发一下数据库里 testtag 的详细信息吗？",
      "1.我没有访问数据库的权限\r\n2.我尝试通过修改markdown 可以解决这个问题 "
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/596"
  },
  {
    "id": "issue_594",
    "title": "新增tag未在界面显示",
    "body": "1.管理平台创建tag， 名叫 testtag，且创建成功\r\n2.登录opencsg页面，查看tag，没有新增的testtag\r\n3.重新登录，依然未查看到 \r\n",
    "comments": [
      "在管理后台新建了 tag，但是在模型首页左边的 tags 区域没看见新增的 tag？\r\n\r\n<img width=\"344\" alt=\"image\" src=\"https://github.com/user-attachments/assets/fedc1f5d-b363-4acf-9553-b3b1b522c33f\">\r\n",
      "刚试了一下，tag的scope和tag field不能为空，否则不显示\r\n\r\n"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/594"
  },
  {
    "id": "issue_592",
    "title": "运行后获取数据集失败以及无法登录",
    "body": "![image](https://github.com/user-attachments/assets/b469b6a8-34c8-4498-9be3-54a200984e07)\r\n![image](https://github.com/user-attachments/assets/e1478918-7f19-426d-9f00-44623024068c)\r\n\r\n使用了all-in-one目录启动\r\n\r\n![image](https://github.com/user-attachments/assets/3b295da2-8ed5-462e-953d-f92bdf3ddfb8)\r\n",
    "comments": [
      "数据集请求失败的网络请求 及 负载\r\n![image](https://github.com/user-attachments/assets/ac5f090a-067a-4d8d-954e-d6c29c9fbabe)\r\n![image](https://github.com/user-attachments/assets/a9a77960-ac04-4195-8879-b7eaacfd5619)\r\n\r\n\r\n",
      "从 docker ps的输出看，csghub-server 服务端的服务一直再重启，应该有错误。可以发一下服务日志，方便分析",
      "**all_in_one_user_server_1**\r\n```\r\n/{\"time\":\"2024-09-11T06:43:23.610126193Z\",\"level\":\"ERROR\",\"msg\":\"Error sending request:\",\"!BADKEY\":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:43:23.610247671Z\",\"level\":\"ERROR\",\"msg\":\"Fail to create git server access token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:43:23.610257334Z\",\"level\":\"ERROR\",\"msg\":\"Failed to find or create token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\nError: failed to init router: error creating user handler:failed to create user component: failed to create git server,error:Post \"http://gitea:3001/api/v1/users/root/tokens\": dial tcp 172.25.0.2:3001: connect: connection refused\r\n```\r\n\r\n------------------------------------------------\r\n**all_in_one_csghub_server_1**\r\n```\r\nError: failed to init router: error creating git http handler:fail to create git server,error:Post \"http://gitea:3001/api/v1/users/root/tokens\": dial tcp 172.25.0.2:3001: connect: connection refused\r\nGitea log scan job already exists\r\nCalculate score job already exists\r\nCreate push mirror job already exists\r\nCheck mirror progress job already exists\r\nSync as client job already exists\r\nRestarting periodic command scheduler: cronStopping periodic command scheduler: cron.\r\nStarting periodic command scheduler: cron.\r\nDone.\r\nDatabase setup...\r\nMigration init\r\ninit logger, level: INFO, format: json\r\nMigration migrate\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-09-11T06:45:30.712015165Z\",\"level\":\"INFO\",\"msg\":\"there are no new migrations to run (database is up to date)\"}\r\nStart server...\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-09-11T06:45:30.897340101Z\",\"level\":\"INFO\",\"msg\":\"FIFOScheduler run started\"}\r\n{\"time\":\"2024-09-11T06:45:30.900772126Z\",\"level\":\"ERROR\",\"msg\":\"Error sending request:\",\"!BADKEY\":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:45:30.900826286Z\",\"level\":\"ERROR\",\"msg\":\"Fail to create git server access token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:45:30.900833417Z\",\"level\":\"ERROR\",\"msg\":\"Failed to find or create token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:45:30.900859376Z\",\"level\":\"ERROR\",\"msg\":\"fail to create git server,error:Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\nError: failed to init router: error creating git http handler:fail to create git server,error:Post \"http://gitea:3001/api/v1/users/root/tokens\": dial tcp 172.25.0.2:3001: connect: connection refused\r\n```\r\n-----------------------------------------------\r\n**all_in_one_server_proxy_nginx_1**\r\n```\r\n/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\r\n/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\r\n10-listen-on-ipv6-by-default.sh: info: IPv6 listen already enabled\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\r\n/docker-entrypoint.sh: Configuration complete; ready for start up\r\nnginx: [emerg] invalid port in upstream \"_CSGHUB_KNATIVE_GATEWAY_HOST:_CSGHUB_KNATIVE_GATEWAY_PORT\" in /etc/nginx/nginx.conf:88\r\n```\r\n-------------------------------------------------\r\n**all_in_one_nginx_1**\r\n\r\n```\r\n/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\r\n/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\r\n10-listen-on-ipv6-by-default.sh: info: IPv6 listen already enabled\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\r\n/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\r\n/docker-entrypoint.sh: Configuration complete; ready for start up\r\nnginx: [emerg] server name \"*.\" is invalid in /etc/nginx/nginx.conf:208\r\n```\r\n----------------------------------\r\n **all_in_one_csghub_server_proxy_1**\r\n\r\n```\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-09-11T06:52:24.929692372Z\",\"level\":\"ERROR\",\"msg\":\"Error sending request:\",\"!BADKEY\":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:52:24.929804061Z\",\"level\":\"ERROR\",\"msg\":\"Fail to create git server access token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:52:24.929810988Z\",\"level\":\"ERROR\",\"msg\":\"Failed to find or create token\",\"error: \":\"Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\n{\"time\":\"2024-09-11T06:52:24.931231405Z\",\"level\":\"ERROR\",\"msg\":\"fail to create git server,error:Post \\\"http://gitea:3001/api/v1/users/root/tokens\\\": dial tcp 172.25.0.2:3001: connect: connection refused\"}\r\nError: failed to init router: error creating rproxy handler:failed to create space component,fail to create git server,error:Post \"http://gitea:3001/api/v1/users/root/tokens\": dial tcp 172.25.0.2:3001: connect: connection refused\r\n```\r\n\r\n---------------------------------\r\n**all_in_one_csghub_server_runner_1**\r\n```\r\n{\"time\":\"2024-09-11T06:52:25.217314592Z\",\"level\":\"ERROR\",\"msg\":\"falied to build kubeconfig\",\"error\":\"invalid configuration: no configuration has been provided, try setting KUBERNETES_MASTER environment variable\"}\r\nError: failed to build NewHttpServer,failed to build kubeconfig,invalid configuration: no configuration has been provided, try setting KUBERNETES_MASTER environment variable\r\ninit logger, level: INFO, format: json\r\n{\"time\":\"2024-09-11T06:53:25.521554669Z\",\"level\":\"ERROR\",\"msg\":\"falied to build kubeconfig\",\"error\":\"invalid configuration: no configuration has been provided, try setting KUBERNETES_MASTER environment variable\"}\r\nError: failed to build NewHttpServer,failed to build kubeconfig,invalid configuration: no configuration has been provided, try setting KUBERNETES_MASTER environment variable\r\n\r\n```\r\n\r\n",
      "试试 curl  http://172.25.0.2:3001 端口是否通？确认下 gitea 服务是否正常启动了。\r\n\r\n再检查一下 gitea 的日志，在启动的当前目录下：  data/gitea/data/logs/gitea.log 看看是否有错误\r\n\r\n",
      "> 试试 curl http://172.25.0.2:3001 端口是否通？确认下 gitea 服务是否正常启动了。\r\n> \r\n> 再检查一下 gitea 的日志，在启动的当前目录下： data/gitea/data/logs/gitea.log 看看是否有错误\r\n你好，这个连接失败了\r\n![image](https://github.com/user-attachments/assets/b8337496-c440-499f-bcc8-b4af1b96594c)\r\n\r\n并没有找到您说所的那个目录下的gitea.log\r\n\r\n但是其他地方很多\r\n![image](https://github.com/user-attachments/assets/2d776d18-686c-4883-bd6d-a33d88be2a0f)\r\n",
      "@Rader 大佬，从以上给出的信息可以看得出问题吗\r\n",
      "....",
      "close as the problem has been solved with tech support from opencsg.com"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/592"
  },
  {
    "id": "issue_581",
    "title": "csghub-portal vue组件更新后 没有热更新 需要重新启动才会生效",
    "body": null,
    "comments": [
      "@deppyu 这是一个非常好的需求，感谢提出！\r\n根据我们的路线图，短期内暂时还不会支持。\r\n如果您有好的解决方案，欢迎提交 PR！"
    ],
    "state": "closed",
    "labels": [
      "enhancement"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/581"
  },
  {
    "id": "issue_580",
    "title": "界面提示“加载数据报错”数据集列表不显示，数据集数量为0（暂未上传模型，无法验证）",
    "body": "如题\r\n1.界面提示“加载数据报错”后，数据集列表不显示，数据集数量为0（暂未上传模型，无法验证）           \r\n2. 重新登录后问题消失\r\n",
    "comments": [
      "出现这个错误可能是当时请求后端服务 starhub_server 的 api 报错了。\r\n请提供一下当时浏览器的请求的响应信息，从浏览器的开发者工具里能看到网络请求。",
      "可以 docker ps查看一下服务状态，有没有正常启动。\r\ndocker logs 看看是否有错误日志",
      "close as no response"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/580"
  },
  {
    "id": "issue_576",
    "title": "用源码部署后bin/dev启动，然后页面显示无法访问",
    "body": "root@hcss-ecs-c9de:/www/wwwroot/opencsg/CSGHub-main# bin/dev\r\n16:31:15 web.1  | started with pid 15760\r\n16:31:15 css.1  | started with pid 15761\r\n16:31:15 js.1   | started with pid 15762\r\n16:31:15 js.1   | yarn run v1.22.22\r\n16:31:15 js.1   | $ node build.dev.js\r\n16:31:16 js.1   | Watching...\r\n16:31:17 web.1  | => Booting Puma\r\n16:31:17 web.1  | => Rails 7.0.8 application starting in development \r\n16:31:17 web.1  | => Run `bin/rails server --help` for more startup options\r\n16:31:17 web.1  | Puma starting in single mode...\r\n16:31:17 web.1  | * Puma version: 5.6.7 (ruby 3.2.2-p53) (\"Birdie's Version\")\r\n16:31:17 web.1  | *  Min threads: 5\r\n16:31:17 web.1  | *  Max threads: 5\r\n16:31:17 web.1  | *  Environment: development\r\n16:31:17 web.1  | *          PID: 15760\r\n16:31:17 web.1  | * Listening on http://0.0.0.0:3000\r\n16:31:17 web.1  | Use Ctrl-C to stop\r\n16:31:19 js.1   | ▲ [WARNING] <div> cannot be child of <p>, according to HTML specifications. This can cause hydration errors or potentially disrupt future functionality.\r\n16:31:19 js.1   | 22 |        </p>\r\n16:31:19 js.1   | 23 |        <p class=\"flex items-center gap-[8px] w-[390px] lg:w-[370px] mlg:w-full h-[35px] leading-[18px] text-[#909399] text-xs overflow-hidden text-ellipsis line-clamp-2 text-left\">\r\n16:31:19 js.1   | 24 |          <div class=\"border border-[#DCDFE6] px-3 py-[2px] text-center text-xs text-[#606266] font-medium rounded\">\r\n16:31:19 js.1   |    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:31:19 js.1   | 25 |            {{ private ? $t(\"all.private\") :  $t(\"all.public\") }}\r\n16:31:19 js.1   |    |  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:31:19 js.1   | 26 |          </div>\r\n16:31:19 js.1   |    |  ^^^^^^^^^^^^^^ [plugin vue]\r\n16:31:19 js.1   | \r\n16:31:19 js.1   |     app/javascript/components/endpoints/EndpointPage.vue:1:142:\r\n16:31:19 js.1   |       1 │ ...der } from \"/www/wwwroot/opencsg/CSGHub-main/app/javascript/comp...\r\n16:31:19 js.1   |         ╵               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n16:31:19 js.1   | \r\n16:31:19 js.1   | ▲ [WARNING] <div> cannot be child of <p>, according to HTML specifications. This can cause hydration errors or potentially disrupt future functionality.\r\n16:31:19 js.1   | 25 |            {{ private ? $t(\"all.private\") :  $t(\"all.public\") }}\r\n16:31:19 js.1   | 26 |          </div>\r\n16:31:19 js.1   | 27 |          <div class=\"flex gap-[4px]\">\r\n16:31:19 js.1   |    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:31:19 js.1   | 28 |            <span>{{ $t('endpoints.detail.currentEndpointReplica')}}</span>\r\n16:31:19 js.1   |    |  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:31:19 js.1   | 29 |            <span>:</span>\r\n16:31:19 js.1   |    |  ^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:31:19 js.1   | 30 |            <span>{{ endpointReplica }}</span>\r\n16:31:19 js.1   |    |  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:31:19 js.1   | 31 |          </div>\r\n16:31:19 js.1   |    |  ^^^^^^^^^^^^^^ [plugin vue]\r\n16:31:19 js.1   | \r\n16:31:19 js.1   |     app/javascript/components/endpoints/EndpointPage.vue:1:142:\r\n16:31:19 js.1   |       1 │ ...der } from \"/www/wwwroot/opencsg/CSGHub-main/app/javascript/comp...\r\n16:31:19 js.1   |         ╵               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n16:31:19 js.1   | \r\n16:31:19 css.1  | Browserslist: caniuse-lite is outdated. Please run:\r\n16:31:19 css.1  |   npx update-browserslist-db@latest\r\n16:31:19 css.1  |   Why you should do it regularly: https://github.com/browserslist/update-db#readme\r\n16:31:20 css.1  | \r\n16:31:20 css.1  | Rebuilding...\r\n16:31:21 css.1  | \r\n16:31:21 css.1  | Done in 1804ms.\r\n\r\n\r\n\r\n这里启动成功了，但是前端每个页面都报错\r\n根据上面提示 更新browserslist\r\n![image](https://github.com/user-attachments/assets/edd8307b-e3be-463e-a648-7cc2e9690836)\r\n\r\n然后重新执行bin/dev\r\n![image](https://github.com/user-attachments/assets/f2b479a9-160f-4b3a-bdda-b6e4e51bee67)\r\n\r\n依旧提示这个\r\n16:34:39 js.1   | ▲ [WARNING] <div> cannot be child of <p>, according to HTML specifications. This can cause hydration errors or potentially disrupt future functionality.\r\n16:34:39 js.1   | 22 |        </p>\r\n16:34:39 js.1   | 23 |        <p class=\"flex items-center gap-[8px] w-[390px] lg:w-[370px] mlg:w-full h-[35px] leading-[18px] text-[#909399] text-xs overflow-hidden text-ellipsis line-clamp-2 text-left\">\r\n16:34:39 js.1   | 24 |          <div class=\"border border-[#DCDFE6] px-3 py-[2px] text-center text-xs text-[#606266] font-medium rounded\">\r\n16:34:39 js.1   |    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:34:39 js.1   | 25 |            {{ private ? $t(\"all.private\") :  $t(\"all.public\") }}\r\n16:34:39 js.1   |    |  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:34:39 js.1   | 26 |          </div>\r\n16:34:39 js.1   |    |  ^^^^^^^^^^^^^^ [plugin vue]\r\n16:34:39 js.1   | \r\n16:34:39 js.1   |     app/javascript/components/endpoints/EndpointPage.vue:1:142:\r\n16:34:39 js.1   |       1 │ ...der } from \"/www/wwwroot/opencsg/CSGHub-main/app/javascript/comp...\r\n16:34:39 js.1   |         ?               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n16:34:39 js.1   | \r\n16:34:39 js.1   | ▲ [WARNING] <div> cannot be child of <p>, according to HTML specifications. This can cause hydration errors or potentially disrupt future functionality.\r\n16:34:39 js.1   | 25 |            {{ private ? $t(\"all.private\") :  $t(\"all.public\") }}\r\n16:34:39 js.1   | 26 |          </div>\r\n16:34:39 js.1   | 27 |          <div class=\"flex gap-[4px]\">\r\n16:34:39 js.1   |    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:34:39 js.1   | 28 |            <span>{{ $t('endpoints.detail.currentEndpointReplica')}}</span>\r\n16:34:39 js.1   |    |  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:34:39 js.1   | 29 |            <span>:</span>\r\n16:34:39 js.1   |    |  ^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:34:39 js.1   | 30 |            <span>{{ endpointReplica }}</span>\r\n16:34:39 js.1   |    |  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n16:34:39 js.1   | 31 |          </div>\r\n16:34:39 js.1   |    |  ^^^^^^^^^^^^^^ [plugin vue]\r\n16:34:39 js.1   | \r\n16:34:39 js.1   |     app/javascript/components/endpoints/EndpointPage.vue:1:142:\r\n16:34:39 js.1   |       1 │ ...der } from \"/www/wwwroot/opencsg/CSGHub-main/app/javascript/comp...\r\n16:34:39 js.1   |         ?               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n16:34:39 js.1   | \r\n16:34:39 css.1  | Browserslist: caniuse-lite is outdated. Please run:\r\n16:34:39 css.1  |   npx update-browserslist-db@latest\r\n16:34:39 css.1  |   Why you should do it regularly: https://github.com/browserslist/update-db#readme\r\n16:34:40 css.1  | \r\n16:34:40 css.1  | Rebuilding...\r\n16:34:41 css.1  | \r\n16:34:41 css.1  | Done in 1814ms.\r\n\r\n\r\n![image](https://github.com/user-attachments/assets/555fc058-8eb9-4e41-a220-c4e78db7d37c)\r\n",
    "comments": [],
    "state": "open",
    "labels": [
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/576"
  },
  {
    "id": "issue_575",
    "title": "在windows11系统上搭建 开发环境报错",
    "body": "按照官网开发环境搭建   在windows11系统上搭建 ，到第三步配置数据库，执行脚本rails db:create 报错，是需要修改什么配置才能执行脚本么？报错如下：\r\n![报错](https://github.com/user-attachments/assets/b9ff583b-6874-48b2-814f-8a6846ef3c8f)\r\n",
    "comments": [
      "建议使用Linux来部署csghub环境，暂时没有完全支持Windows."
    ],
    "state": "open",
    "labels": [
      "follow up"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/575"
  },
  {
    "id": "issue_571",
    "title": "组织成员登录后无法在首页数据集列表 内查看数据集",
    "body": "1.使用管理员admin,创建组织test，并在test组织内上传dataset\r\n2.注册用户public， 并以只读身份加入组织test\r\n3.使用public登录后，数据集列表为空\r\n3.点击个人信息-》组织机构 -》组织名test，才能在数据集列表中看到数据集。\r\n请帮忙确认流程是否正常。期望登录后 即可查看\r\n\r\n\r\n",
    "comments": [
      "感谢指出问题，会尽快fix。"
    ],
    "state": "closed",
    "labels": [
      "bug"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/571"
  },
  {
    "id": "issue_562",
    "title": "使用最新的docker compose启动失败",
    "body": "之前用的all-in-one\r\n![image](https://github.com/user-attachments/assets/eee3a236-24aa-44f8-b308-2a7866b99330)\r\n----------------------\r\nhttps://github.com/OpenCSGs/CSGHub/blob/main/deploy/all_in_one/docker-compose.yml 最新的 all_in_one 部署方式中已经有了nginx 服务，直接使用 docker compose 启动即可\r\n\r\n这里我将all-in-one目录拷贝过来\r\n![image](https://github.com/user-attachments/assets/5957c64c-5748-4658-927d-c1d72c5cf95e)\r\n\r\n执行startup.sh运行，提示\r\n[执行startup报错.txt](https://github.com/user-attachments/files/16842913/startup.txt)\r\n",
    "comments": [
      "根据以下报错信息，请检查环境中的docker命令是否支持-f参数，或下载最新版本的docker命令\r\n  unknown shorthand flag: 'f' in -f"
    ],
    "state": "open",
    "labels": [
      "waiting for feedback"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/562"
  },
  {
    "id": "issue_560",
    "title": "运行好好的，没人动服务器，docker的一些服务自动掉了",
    "body": "![image](https://github.com/user-attachments/assets/359421dd-abab-4b80-b35f-547f7757b975)\r\n",
    "comments": [
      "可以上传失败的container的logs, 这样可以方便分析问题的原因"
    ],
    "state": "open",
    "labels": [
      "needs more info"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/560"
  },
  {
    "id": "issue_549",
    "title": "管理员的账号密码如何修改？ 在 gitserver 端改吗？",
    "body": null,
    "comments": [
      "指的是管理员的初始化密码吗？",
      "> 指的是管理员的初始化密码吗？\r\n\r\n对",
      "请参考这个casdoor/conf/init_data.json初始化配置文件，可以进行修改。\r\nhttps://github.com/OpenCSGs/CSGHub/blob/3699f671d6ac8aa00449cb47bd68abbcdc819100/deploy/all_in_one/casdoor/conf/init_data.json#L156\r\n",
      "> 请参考这个casdoor/conf/init_data.json初始化配置文件，可以进行修改。\r\n> \r\n> https://github.com/OpenCSGs/CSGHub/blob/3699f671d6ac8aa00449cb47bd68abbcdc819100/deploy/all_in_one/casdoor/conf/init_data.json#L156\r\n\r\ncasdoor 这个是新的组件吗？  我的版本里没有在这个组件。  我要修改的是 admin001 的默认密码。https://github.com/OpenCSGs/CSGHub/blob/main/docs/setup_en.md#default-user-on-system-initialization\r\n",
      "> 请参考这个casdoor/conf/init_data.json初始化配置文件，可以进行修改。\r\n> \r\n> https://github.com/OpenCSGs/CSGHub/blob/3699f671d6ac8aa00449cb47bd68abbcdc819100/deploy/all_in_one/casdoor/conf/init_data.json#L156\r\n\r\n你们这个服务还在维护么...",
      "是的，最新版都在casdoor中维护用户"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/549"
  },
  {
    "id": "issue_548",
    "title": "注册登录没问题。但访问任何菜单包凑。",
    "body": "              注册登录没问题。但访问任何菜单包凑。\r\n\r\n猜测可能后端服务有报错。\r\n\r\n麻烦贴下portal的日志看看，位于安装目录的`log/`文件夹下；另外也贴下在出现错误时候，后端starhub_server服务的日志。\r\n\r\n_Originally posted by @wayneliu0019 in https://github.com/OpenCSGs/CSGHub/issues/543#issuecomment-2314303846_\r\n            ",
    "comments": [],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/548"
  },
  {
    "id": "issue_543",
    "title": "按照官网文档一键部署之后，点击系统一级菜单获取不到数据，注册完成之后登录报错",
    "body": "问题一：点击系统任意一级菜单都报错“获取不到数据”，见下图\r\n[\r\n![访问菜单报错](https://github.com/user-attachments/assets/4699dd51-d70d-4046-a810-63e2e9582f78)\r\n](url)\r\n\r\n\r\n问题二：注册完成登录报错如下\r\nAn error occurred.\r\nSorry, the page you are looking for is currently unavailable.\r\nPlease try again later.\r\n\r\nIf you are the system administrator of this resource then you should check the error log for details.\r\n\r\nFaithfully yours, nginx.",
    "comments": [
      "注册登录没问题。但访问任何菜单包凑。\r\n\r\n猜测可能后端服务有报错。\r\n\r\n麻烦贴下portal的日志看看，位于安装目录的`log/`文件夹下；另外也贴下在出现错误时候，后端starhub_server服务的日志。",
      "第一次安装后，有添加过 model, dataset, space吗？可以查询一下数据库中是否有数据。",
      "一、如果登录没有问题，登录不进去，无法操作后续，比如 无法添加model, dataset, space，portal日志如下：\r\n![potal报错](https://github.com/user-attachments/assets/83cc9f92-07b6-4207-b6d8-ab7ed0b5bde3)\r\n\r\n二、看portal日志显示网络问题，项目路径config/environments修改配置文件development.rb，开放网络如下，仍然还是之前的错误：\r\n![网络配置](https://github.com/user-attachments/assets/6a33c86b-6b7e-4169-8463-19ffdf2e8b34)\r\n\r\n\r\n",
      "在部署前后，有对哪些配置项做过变更吗？另外csghub server这个服务日志中有报错信息吗？",
      "@wangyanna13 \r\n麻烦提供两个信息：\r\n1. 打开浏览器的调试，查看 XHR 的请求：\r\n<img width=\"1431\" alt=\"image\" src=\"https://github.com/user-attachments/assets/96c6ebd4-7b97-43fb-b1c7-31d6ae73e020\">\r\n2. 然后查看日志，是否有报错信息\r\n\r\n",
      "一、一直报网络问题，就改了此配置docker-compose.yml网络相关（networks）的配置，以及development.rb配置中开放网络的配置，这些需要是否需要修改？\r\n\r\n二、csghub server日志如下：\r\n![server日志](https://github.com/user-attachments/assets/1e266a05-5d8f-41c6-966f-14e1f91a7cae)\r\n\r\n\r\n",
      "\r\n浏览器报错如下：\r\n![浏览器报错](https://github.com/user-attachments/assets/bb75f144-d9d0-414f-8d3a-1294c9e5b90c)\r\n",
      "源码下载的是main分支，启动起来一共16个服务，有五个貌似有问题，是16个都要启动起来么？另外5个启动不起来\r\n![服务报错](https://github.com/user-attachments/assets/b10d6ccd-61a8-4b39-ac6c-0c59c593b697)\r\n",
      "gitea和user_server是必须的，登录依赖user_server \r\n@wangyanna13 ",
      "要启动这两个服务，需要修改哪些配置？或者需要提前安装什么软件么，目前除了改了网络的配置，别的配置都没有改，这两个服务都有问题，没有启动成功\r\n",
      "使用\r\ndocker logs gitea_1 -f \r\n和\r\ndocker logs user_server_1 -f\r\n这两条命令分别看一下container的启动log, 看看报错信息，也可以上传到这里。",
      "gitea如下：\r\n![gitea日志](https://github.com/user-attachments/assets/ed80fc9d-0a83-4012-be4b-9314e5b9d755)\r\n\r\n\r\nuser_server如下：\r\n![user](https://github.com/user-attachments/assets/3518b7e3-dbf8-41b8-8228-ada6735d1112)\r\n",
      "Gitea container把mount到/opt/bitnami/gitea的目录权限给上755权限。\r\nUse server应该是由于gitea没有连上而初始化access token失败导致的。\r\n",
      "一、Gitea服务正常了，Use server依然报错，如下：\r\n![user报错](https://github.com/user-attachments/assets/f62acd8c-03f4-4d56-ad01-e844e63a03b7)\r\n\r\n\r\n二、redis-1和csghub_server_runner-1这两个容器也必须要启动么？这两个也没有启动成功\r\n\r\n",
      "查询一下PG数据库中是否有表git_server_access_tokens，如果是这个表不存在的话，需要看csghub-server服务的log中，是否有初始化表结构的错误.\r\ncsghub_server_runner-1这个服务也是必须要运行的。",
      "user_server需要重启一下，问题已经解决"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/543"
  },
  {
    "id": "issue_538",
    "title": "更改 nginx端口号 然后克隆大文件克隆不下来？",
    "body": "\r\ngit lfs clone https://w8156481:ce96caba68c9fa91f7d253f200b779238d4cd9f4@192.168.110.200：32109/models/w8156481/image_restore.git\r\nWARNING: `git lfs clone` is deprecated and will not be updated\r\n          with new flags from `git clone`\r\n\r\n`git clone` has been updated in upstream Git to have comparable\r\nspeeds to `git lfs clone`.\r\nCloning into 'image_restore'...\r\nremote: Enumerating objects: 37, done.\r\nremote: Counting objects: 100% (37/37), done.\r\nremote: Compressing objects: 100% (35/35), done.\r\nremote: Total 37 (delta 14), reused 0 (delta 0), pack-reused 0\r\nReceiving objects: 100% (37/37), 6.51 KiB | 3.26 MiB/s, done.\r\nResolving deltas: 100% (14/14), done.\r\nLFS: Get \"http://192.168.110.200/gitserver/models_w8156481/image_restore.git/info/lfs/objects/a319fc995fed963a93c43dba86f93f29b7a2d0a949f7b9dfd2e268ccae77384d\": dial tcp [192.168.110.200:80](http://192.168.110.200/): connectex: No connection could be made because the target machine actively refused it.\r\nLFS: Get \"http://192.168.110.200/gitserver/models_w8156481/image_restore.git/info/lfs/objects/1001fb2538c3eab5602b7c8fae28959cfe257c1eff295fa1296f26b1b2d3e87e\": dial tcp [192.168.110.200:80](http://192.168.110.200/): connectex: No connection could be made because the target machine actively refused it.\r\nLFS: Get \"http://192.168.110.200/gitserver/models_w8156481/image_restore.git/info/lfs/objects/cb8e5d038151192f423d894d08f722921706d4343036e7a6331097c9132b96ca\": dial tcp [192.168.110.200:80](http://192.168.110.200/): connectex: No connection could be made because the target machine actively refused it.\r\nLFS: Get \"http://192.168.110.200/gitserver/models_w8156481/image_restore.git/info/lfs/objects/e12afa8060ee60e6f4be68b63cd337b6307073683e7ee6e5bed646c8aa85d0b6\": dial tcp [192.168.110.200:80](http://192.168.110.200/): connectex: No connection could be made because the target machine actively refused it.\r\nLFS: Get \"http://192.168.110.200/gitserver/models_w8156481/image_restore.git/info/lfs/objects/63efe999992832f809ec667e677f483d89cbc8796ba50d8a1a7dd30c442fbc5c\": dial tcp [192.168.110.200:80](http://192.168.110.200/): connectex: No connection could be made because the target machine actively refused it.\r\nFailed to fetch some objects from 'https://w8156481:ce96caba68c9fa91f7d253f200b779238d4cd9f4@ai-warehouse.lingsuan-ai.com/models/w8156481/image_restore.git/info/lfs'\r\nPS C:\\Users\\SunCh\\Desktop>",
    "comments": [
      "请上传一下，您的安装后的nginx的配置内容和每个服务所使用的端口号，以便于我们判断。"
    ],
    "state": "open",
    "labels": [
      "needs more info"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/538"
  },
  {
    "id": "issue_536",
    "title": "http 和 ssh协议进行git操作的地址是引用的同一个变量吗？ ",
    "body": null,
    "comments": [
      "STARHUB_SERVER_FRONTEND_URL    csghub-server 里的这个变量是 http 拉取代码的地址么",
      "> STARHUB_SERVER_FRONTEND_URL csghub-server 里的这个变量是 http 拉取代码的地址么\r\n\r\n@karypi 是的，这个是前端项目的启动地址，我们会通过这个地址来拼接 git 仓库的 clone url",
      "> > STARHUB_SERVER_FRONTEND_URL csghub-server 里的这个变量是 http 拉取代码的地址么\r\n> \r\n> @karypi 是的，这个是前端项目的启动地址，我们会通过这个地址来拼接 git 仓库的 clone url\r\n\r\n谢谢，SSH 协议是这个变量 GITEA_SSH_DOMAIN 吗？",
      "> > > STARHUB_SERVER_FRONTEND_URL csghub-server 里的这个变量是 http 拉取代码的地址么\r\n> > \r\n> > \r\n> > @karypi 是的，这个是前端项目的启动地址，我们会通过这个地址来拼接 git 仓库的 clone url\r\n> \r\n> 谢谢，SSH 协议是这个变量 GITEA_SSH_DOMAIN 吗？\r\n\r\n是的"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/536"
  },
  {
    "id": "issue_532",
    "title": "gitea 持久化到本地大约会占用多少空间？",
    "body": "gitea 都储存哪些数据？ 想了解下大概的占用空间。\r\n\r\n![image](https://github.com/user-attachments/assets/22c9c8e6-2343-47d4-8cc0-9cf187084c4f)\r\n",
    "comments": [
      "另外 gitlog 是必须的吗？\r\n![image](https://github.com/user-attachments/assets/0619df29-c508-4eb7-96fb-174c27773406)\r\n",
      "gitea 的目录主要存储 模型、数据集等的git 仓库文件，多大空间决定于存放的 模型和数据集的大小\r\n\r\n> gitea 都储存哪些数据？ 想了解下大概的占用空间。\r\n> \r\n> ![image](https://private-user-images.githubusercontent.com/37999635/361365130-22c9c8e6-2343-47d4-8cc0-9cf187084c4f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjQ2Nzg1NDksIm5iZiI6MTcyNDY3ODI0OSwicGF0aCI6Ii8zNzk5OTYzNS8zNjEzNjUxMzAtMjJjOWM4ZTYtMjM0My00N2Q0LThjYzAtOWNmMTg3MDg0YzRmLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA4MjYlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwODI2VDEzMTcyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTYxMjA3MTk5OGQwZmEyNjY0NDgxM2IwMTllN2JmNGNmMzc4M2Y2YmZhYmFlYzFkYjFkMzNiN2Q3Mzc0ZGJiOWImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.yIbXk36-qcZsEtubxuYxlbp6YlWsC_XmXh0tPDOXds8)\r\n\r\n",
      "gitlog 占用不了多少空间，最好保留，方便诊断问题\r\n\r\n> 另外 gitlog 是必须的吗？ ![image](https://private-user-images.githubusercontent.com/37999635/361368986-0619df29-c508-4eb7-96fb-174c27773406.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjQ2Nzg1NDksIm5iZiI6MTcyNDY3ODI0OSwicGF0aCI6Ii8zNzk5OTYzNS8zNjEzNjg5ODYtMDYxOWRmMjktYzUwOC00ZWI3LTk2ZmItMTc0YzI3NzczNDA2LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA4MjYlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwODI2VDEzMTcyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTFiYTFhZTMzMDc4ODkzN2U3MDhlNzBjY2FlNGMzN2Y1YzdmNjk4ODk1ODU5NjE5MDE4ZmRkMmI3M2ZiMmRkNzEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.TSDOFHIGPIHoaxD02h3ncaQfjYGQpNEIzTC-YWOuOLY)\r\n\r\n",
      "close it, if you have any questions, please open a new one"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/532"
  },
  {
    "id": "issue_531",
    "title": "all-in-one 打不开，helm 打不开",
    "body": "https://github.com/OpenCSGs/CSGHub/blob/release-v0.8.0/deploy/all_in_one/README.md  文档里的 https://github.com/OpenCSGs/CSGHub-helm 找不到\r\n\r\nv0.7 里的 all-in-one 找不到  https://github.com/OpenCSGs/CSGHub/tree/release-v0.7.0?tab=readme-ov-file#quick-start\r\ncurl -L https://raw.githubusercontent.com/OpenCSGs/csghub/main/all-in-one-CN.yml -o all-in-one-CN.yml",
    "comments": [
      "@karypi 推荐直接使用 v0.8.0 的安装脚本\r\n\r\nhttps://github.com/OpenCSGs/CSGHub-helm  已经公开访问"
    ],
    "state": "closed",
    "labels": [
      "documentation"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/531"
  },
  {
    "id": "issue_526",
    "title": "当模型、数据集、代码库同名时，修改标签失败",
    "body": "存在同名的repo时，git的回调函数中似乎没有判断repo的类型，导致标签更新其他的同名的数据上",
    "comments": [
      "@leipeizhao 您好，可以具体描述下复现步骤吗？",
      "> @leipeizhao 您好，可以具体描述下复现步骤吗？\r\n\r\n1 创建一个名称叫test的代码库\r\n2 创建一个名称叫test的数据集\r\n3 在test数据集的设置中修改标签为“文本分类”\r\n4 刷新查看test数据集 并没有标签，标签在test的代码库上",
      "> > @leipeizhao 您好，可以具体描述下复现步骤吗？\r\n> \r\n> 1 创建一个名称叫test的代码库 2 创建一个名称叫test的数据集 3 在test数据集的设置中修改标签为“文本分类” 4 刷新查看test数据集 并没有标签，标签在test的代码库上\r\n\r\n你说的不是代码库吧？我们目前只有模型和数据集支持任务标签",
      "> > > @leipeizhao您好，可以具体描述下复现步骤吗？\r\n> > \r\n> > \r\n> > 1 创建一个名为测试的代码库 2 创建一个名为测试的数据集 3 在测试数据集的设置中修改标签为“文本分类” 4 刷新查看测试数据集并没有标签，标签在测试的代码库上\r\n> \r\n> 你说的不是代码库吧？我们目前只有模型和数据集支持任务标签\r\n\r\n![截图_选择区域_20240823153406](https://github.com/user-attachments/assets/ded9dac9-04db-4dbe-b14f-862983c42e62)\r\n如图  ，应该时builder\\store\\database\\tag.go 中SetMetaTags方法里面Where(\"path =?\", fmt.Sprintf(\"%v/%v\", namespace, name))应该加上repository_type 条件\r\n",
      "@leipeizhao  确实是一个 bug，需要从 csghub-server 端来fix\r\n\r\n感谢指出！"
    ],
    "state": "closed",
    "labels": [
      "bug"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/526"
  },
  {
    "id": "issue_519",
    "title": "前端bug，在代码管理模块切换License时点击到里面的图标，会导致查询不出数据",
    "body": "原因是  license_tag=undefined\r\n![截图_选择区域_20240822164433](https://github.com/user-attachments/assets/db38c2fe-e7a3-4b64-9266-ac6bac65f2e2)\r\n",
    "comments": [
      "事件冒泡导致，已提交pr https://github.com/OpenCSGs/CSGHub/pull/522"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/519"
  },
  {
    "id": "issue_518",
    "title": "代码仓库按License过滤，数据结果为空",
    "body": "简单排查后发现是repository_tags没有数据，导致join后没有数据，版本0.7.0",
    "comments": [
      "Thanks for raising issue, we will fix it as soon as possible",
      "@leipeizhao 尝试再修改下 README.md ，看看 license 的 tag 能否在代码仓库的详情页面正常显示？"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/518"
  },
  {
    "id": "issue_472",
    "title": "csghub-git 容器反复重启",
    "body": "csghub-git 容器反复重启、每隔几秒就重启一次\r\n\r\n\r\n相关容器的log：\r\n[csghub-git.log](https://github.com/user-attachments/files/16609074/csghub-git.log)\r\n",
    "comments": [
      "gitea 07:15:01.82 DEBUG ==> Setting server.ROOT_URL to 'http:///gitserver' in Gitea configuration\r\ngitea 07:15:01.82 DEBUG ==> Setting server.SSH_DOMAIN to '/gitserver' in Gitea configuration\r\n\r\n\r\n你这两个地址配置错误",
      "![image](https://github.com/user-attachments/assets/16476721-a264-46d4-a69f-7ff2797876a2)\r\n将输出的 html 代码保存后打开，看到报错信息是 `You are trying to install into an existing Gitea database` ，这表明您已经创建了名为 `gitea` 的数据库，如果已有的 gitea 数据库没有重要信息的话，您可以删除已有的 gitea 数据库并重新启动容器",
      "> ![image](https://private-user-images.githubusercontent.com/38434877/357748561-16476721-a264-46d4-a69f-7ff2797876a2.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjM2MjY2NDYsIm5iZiI6MTcyMzYyNjM0NiwicGF0aCI6Ii8zODQzNDg3Ny8zNTc3NDg1NjEtMTY0NzY3MjEtYTI2NC00NmQ0LWE2OWYtN2ZmMjc5Nzg3NmEyLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA4MTQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwODE0VDA5MDU0NlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTZjNDFkZjc1NTVhMWMxYzY5YzhiN2NjMTM5Y2EzNzZjNzE0ZjVhYTcxYjIxYWZlNDU3YjFjYjU1YTA5NDcxY2ImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.Bs-HjvBF0ieTBhuDMbqjbO8QvamC6cwKhBANpuYAtEo) 将输出的 html 代码保存后打开，看到报错信息是 `You are trying to install into an existing Gitea database` ，这表明您已经创建了名为 `gitea` 的数据库，如果已有的 gitea 数据库没有重要信息的话，您可以删除已有的 gitea 数据库并重新启动容器\r\n\r\n数据库中有数据需要导出，请问如何导，导出来是可以删除的 ",
      "> gitea 07:15:01.82 DEBUG ==> Setting server.ROOT_URL to 'http:///gitserver' in Gitea configuration gitea 07:15:01.82 DEBUG ==> Setting server.SSH_DOMAIN to '/gitserver' in Gitea configuration\r\n> \r\n> 你这两个地址配置错误\r\n看起来是 server_domain这个参数 没有解析 \r\n",
      "@miss-uny 进入 postgres 的容器内部，执行 \r\n\r\n```shell\r\n pg_dump -U postgres gitea > gitea.pgsql\r\n```",
      "> ```shell\r\n> pg_dump -U postgres gitea > gitea.pgsql\r\n> ```\r\n\r\n导入和删除，分别如何操作",
      "@miss-uny 进入 postgres 的 docker 容器首先导出数据\r\n\r\n```shell\r\n pg_dump -U postgres gitea > gitea.pgsql\r\n```\r\n\r\n然后删除数据库\r\n```shell\r\npsql -U postgres\r\nDROP DATABASE gitea;\r\n```\r\n\r\n然后重新创建数据库，并导入数据\r\n```shell\r\nCREATE DATABASE gitea;\r\n\\q\r\n```\r\n\r\n最后重新导入数据\r\n```shell\r\npsql -U postgres gitea < gitea.pgsql\r\n```\r\n",
      "数据库删除后，再次启动，问题仍然存在\r\nlog为： [csghub-git1.log](https://github.com/user-attachments/files/16620388/csghub-git1.log)\r\n\r\n将输出的 html 代码保存后打开，看到报错信息是 ：Failed to load asset files from file:///C:/gitserver/assets/js/index.js?v=88873edd9. Please make sure the asset files can be accessed.\r\n\r\n\r\n",
      "@miss-uny 数据库删除后您有没有重新创建新的 gitea 数据库并导入数据？看报错的 html 显示找不到数据库\r\n<img width=\"1177\" alt=\"image\" src=\"https://github.com/user-attachments/assets/121d2530-edfb-4da4-aa9b-a6538c8e99ba\">\r\n",
      "操作流程为：\r\n1. 进入 postgres 的 docker 容器首先导出数据\r\n2. 删除数据库 gitea\r\n3. 创建数据库gitea，保存\r\n4. docker compose -f all-in-one.yml down\r\n5. docker compose -f all-in-one.yml up -d\r\n6. 进入postgres 的 docker 容器， 导入数据\r\n7.  登录opencsg界面，成功\r\n8. 点击 模型或者数据集（列表中任选一个）\r\n跳转后报错\r\n\r\n{\"msg\":\"failed to get git model repository branches, error: GetUserByName\"}\r\n登录用户为admin001\r\n",
      "@miss-uny 看报错信息来看是在 gitea 中不存在 admin001 这个用户，请登录 gitea 后台并使用 admin001 查看是否可以登录成功",
      "问题解答汇总：\r\nA.地址配置错误，报错如下：\r\ngitea 07:15:01.82 DEBUG ==> Setting server.ROOT_URL to 'http:///gitserver' in Gitea configuration\r\ngitea 07:15:01.82 DEBUG ==> Setting server.SSH_DOMAIN to '/gitserver' in Gitea configuration\r\n解决：\r\n需要在启动容器前执行\r\nexport SERVER_DOMAIN=${server_ip}\r\n\r\n\r\nB. gitea未将数据导入到本地磁盘存储\r\n导致容器重启后，需要先备份再清理\r\n\r\n修复：\r\na）all-in-one.yml 中gitea增加 以下部分\r\nvolumes:\r\n    - ./data/gitea:/bitnami/gitea\r\n chmod -R 777 data（将data目录赋予权限777）\r\nb）重启\r\n1.进入 postgres 的 docker 容器首先导出数据\r\npg_dump -U postgres gitea > gitea.pgsql\r\n \r\n \r\n2.删除数据库 gitea\r\npsql -U postgres\r\nDROP DATABASE gitea;\r\n创建数据库gitea，保存\r\nCREATE DATABASE gitea;\\q\r\n \r\n \r\n3.再次启动\r\ndocker compose -f all-in-one.yml up -d\r\n进入postgres 的 docker 容器， 导入数据\r\npsql -U postgres gitea < gitea.pgsql\r\n\r\nc）1进入 csghub-server的 docker 容器，修复gitea的组织数据\r\n./starhub trigger fix-org-data\r\n\r\nd)登录gitea的后台\r\nhttp://${server_ip}/gitserver\r\n创建账号admin001、组织（datasets_admin001,modals_admin001等）\r\n\r\ne)再次重启容器验证，是否正常",
      "问题已解决，关闭此 issue。"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/472"
  },
  {
    "id": "issue_471",
    "title": "为什么要使用 ruby on rails 这么小众的后端框架，不太利于企业集成。。。",
    "body": null,
    "comments": [
      "下个版本会有替换",
      "是的，我们正在向 golang 迁移。 \r\n\r\n企业集成的话，推荐直接使用 CSGHub-server的 REST API。接口文档参考：https://hub-stg.opencsg.com/api/v1/swagger/index.html",
      "close it, if you have any questions, please open a new one"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/471"
  },
  {
    "id": "issue_460",
    "title": "FR: Enhance Large Dataset Management Capabilities",
    "body": "### Summary\r\n\r\nAs the platform continues to evolve as a comprehensive asset management tool for large models, including datasets, model files, and code, one area that could significantly benefit from enhancement is the management of large datasets. Users currently face challenges when uploading, processing, and managing extensive datasets, which can hinder the efficiency and effectiveness of data-driven projects.\r\n\r\n### Feature Description\r\n\r\nThe proposed feature aims to introduce a more robust set of tools and functionalities specifically designed to improve the management of large datasets. These enhancements could include:\r\n\r\n- **Improved Upload Mechanisms**: Implementing a more efficient upload process for large datasets, possibly through chunked uploads or parallel processing, to reduce upload times and minimize timeouts or failures.\r\n\r\n- **Dataset Version Control**: Introducing version control for datasets similar to model files. This feature would allow users to track changes, revert to previous versions, and understand the evolution of their datasets over time.\r\n\r\n- **Advanced Dataset Processing Tools**: Offering built-in tools for common dataset preprocessing tasks (e.g., normalization, cleaning, splitting) directly within the platform. This would reduce the need for external tools and streamline the data preparation process.\r\n\r\n- **Enhanced Dataset Visualization and Exploration**: Developing interactive tools for users to visualize and explore their datasets within the platform. Features could include basic statistical analysis, sample data views, and filtering capabilities.\r\n\r\n- **Dataset Sharing and Collaboration**: Facilitating easier sharing and collaboration on datasets within teams or the broader community. This could involve permission settings, dataset sharing links, or integration with external collaboration tools.\r\n\r\n### Impact\r\n\r\nImplementing these enhancements would significantly improve the user experience for those working with large datasets on the CSGHub platform. It would streamline the data management process, encourage more collaborative and iterative data science workflows, and ultimately contribute to the development of more effective and impactful machine learning models.\r\n\r\n### Additional Context\r\n\r\nGiven the platform's focus on serving as a \"one-stop Hub\" for large model assets, enhancing dataset management capabilities aligns with the project's core mission. It addresses a critical need within the community and leverages the platform's existing infrastructure to provide even greater value to its users.\r\n\r\n---\r\n\r\nLooking forward to the community's input on this feature request and any additional suggestions or considerations that could further improve dataset management within CSGHub.",
    "comments": [
      "Yes, this is very relevant for CSGHub as platform for anyone who want to work with model/dataset. ",
      "@blacksleep99 \r\nWe're thrilled about your Feature Request on large dataset management - a huge thanks for sharing your innovative ideas with us! 🌟 Your insight could truly elevate our project, and we'd love for you to be more directly involved. If you're up for it, we encourage you to make a pull request on GitHub. This is an awesome opportunity to collaborate and make a tangible impact. Need guidance on getting started? We're here to help. Let's make something amazing together!\r\n\r\nThanks again for your contribution. Looking forward to seeing your magic unfold! ✨\r\n\r\nBest,\r\nOpenCSG"
    ],
    "state": "open",
    "labels": [
      "enhancement"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/460"
  },
  {
    "id": "issue_458",
    "title": "Feature Request: Support for Additional File Formats in Data Preview",
    "body": "Hello CSGHub Team,\r\n\r\nI hope this message finds you well. I've been exploring the CSGHub platform and I'm impressed with its capabilities, especially in managing large model assets and datasets. It's evident that a lot of thought and effort has gone into making CSGHub a comprehensive asset management platform.\r\n\r\nOne area where I believe CSGHub could be enhanced is in the support for additional file formats in the dataset preview functionality. Currently, CSGHub provides excellent support for previewing datasets in common formats. However, as datasets become increasingly complex and diverse, the need to support additional formats becomes apparent.\r\n\r\n**Enhancement Request**:\r\nI would like to request the addition of support for the following file formats in the dataset preview functionality:\r\n- HDF5 (.h5)\r\n- Apache Parquet (.parquet)\r\n- Avro (.avro)\r\n\r\nThese formats are widely used in the data science and machine learning communities for storing large, complex datasets. Supporting these formats would significantly enhance the usability of CSGHub for a broader audience and facilitate more efficient data exploration and management.\r\n\r\n**Justification**:\r\n- **HDF5**: Widely used in academia and industry for storing large datasets, especially in the fields of physics, astronomy, and bioinformatics.\r\n- **Apache Parquet**: Offers efficient data compression and encoding schemes. It's heavily adopted in data engineering pipelines and supports schema evolution.\r\n- **Avro**: A row-based storage format that's ideal for data serialization. It's commonly used in data streaming architectures.\r\n\r\n**Potential Implementation**:\r\nWhile I understand that adding support for these formats might require considerable effort, perhaps starting with HDF5, given its widespread use, could be a beneficial first step. Utilizing existing open-source libraries for reading these formats could also streamline the implementation process.\r\n\r\nI believe that extending dataset preview capabilities to include these formats would make CSGHub even more versatile and valuable to the data science and machine learning communities.\r\n\r\nThank you for considering this enhancement request. I'm looking forward to seeing how CSGHub continues to evolve and meet the needs of its users.\r\n",
    "comments": [
      "@pingdoom Thanks for raising this and give more information and justification for data view on those data format. Dataset preview is key feature for us and lots of requirements are coming, make those datasets can be preview on CSGhub are in roadmap and we are working on dataset view to deal with datasets, and there are more things need to be consider include security, performance, usability etc. Looking forward to receiving more feedback from you. \r\n\r\nHave a nice day! "
    ],
    "state": "open",
    "labels": [
      "enhancement"
    ],
    "url": "https://github.com/OpenCSGs/csghub/issues/458"
  },
  {
    "id": "issue_450",
    "title": "编译的csghub-portal镜像代码报错",
    "body": "docker logs 错误日志如下：\r\n```\r\n\r\nrails aborted!\r\nArgumentError: After save callback :sync_to_starhub_server has not been defined (ArgumentError)\r\n\r\n                raise ArgumentError, \"#{type.to_s.capitalize} #{name} callback #{filter.inspect} has not been defined\"\r\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n/myapp/db/seeds.rb:2:in `<main>'\r\nTasks: TOP => db:seed\r\n(See full trace by running task with --trace)\r\n\r\n```",
    "comments": [
      "@leipeizhao 您好，sync_to_starhub_server 在代码中并没有真正使用 ，请问您是在使用官方 docker 镜像的时候得到的如上报错吗？",
      "> @leipeizhao您好，sync_to_starhub_server 在代码中并没有真正使用，请问您在使用官方 docker 镜像的时候得到的如上报错吗？\r\n\r\n不是，使用的最新的代码自已编译的docker镜像",
      "@leipeizhao 最新的代码已经修复了这个问题，但是最新的官方镜像还没有提供"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/450"
  },
  {
    "id": "issue_448",
    "title": "项目国际化文件中部分代码重复",
    "body": "config/locales/zh_js/all.js中  public: \"公开\", private: \"私有\" 重复，config/locales/zh_js/application_spaces.js中 spaceEnName: \"应用空间英文名称\" 重复；\r\n\r\nconfig/locales/en_js/ 中也重复",
    "comments": [
      "@leipeizhao 多谢指正。也欢迎给我们提 PR修复！"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/448"
  },
  {
    "id": "issue_440",
    "title": "修改为https后，登录git报错",
    "body": "{\"time\":\"2024-08-07T02:44:24.535775152Z\",\"level\":\"ERROR\",\"msg\":\"Error sending request:\",\"!BADKEY\":\"Post \\\"https://192.168.73.2:6081/gitserver/api/v1/users/root/tokens\\\": tls: failed to verify certificate: x509: cannot validate certificate for 192.168.73.2 because it doesn't contain any IP SANs\"}",
    "comments": [
      "如果 gitserver使用http的接口，没有找到错误日志，但admin001的用户无法成功创建到git中",
      "发现根本原因是：\r\n/app/services/starhub/client.rb中 发送https请求报错，是否可以添加忽略安全认证的配置",
      "@hiveer 可以考虑在 rails 端添加一个配置，来决定是否忽略 ssl 证书认证\r\n\r\n```ruby\r\nuri = URI('https://example.com')\r\nhttp = Net::HTTP.new(uri.host, uri.port)\r\nhttp.use_ssl = true\r\nhttp.verify_mode = OpenSSL::SSL::VERIFY_NONE\r\nrequest = Net::HTTP::Get.new(uri)\r\nresponse = http.request(request)\r\n\r\n```"
    ],
    "state": "closed",
    "labels": [],
    "url": "https://github.com/OpenCSGs/csghub/issues/440"
  }
]